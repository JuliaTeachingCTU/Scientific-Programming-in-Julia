<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lab · Scientific Programming in Julia</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://JuliaTeachingCTU.github.io/Scientific-Programming-in-Julia/lecture_04/lab/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../assets/onlinestats.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="Scientific Programming in Julia logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="Scientific Programming in Julia logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Scientific Programming in Julia</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation/">Installation</a></li><li><a class="tocitem" href="../../projects/">Projects</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">1: Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_01/motivation/">Motivation</a></li><li><a class="tocitem" href="../../lecture_01/basics/">Basics</a></li><li><a class="tocitem" href="../../lecture_01/demo/">Examples</a></li><li><a class="tocitem" href="../../lecture_01/outline/">Outline</a></li><li><a class="tocitem" href="../../lecture_01/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_01/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">2: The power of Type System &amp; multiple dispatch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_02/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_02/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_02/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">3: Design Patterns</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_03/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_03/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_03/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox" checked/><label class="tocitem" for="menuitem-7"><span class="docs-label">4: Package development, Unit test &amp; CI</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../lecture/">Lecture</a></li><li class="is-active"><a class="tocitem" href>Lab</a><ul class="internal"><li><a class="tocitem" href="#Warmup-Stepping-through-time"><span>Warmup - Stepping through time</span></a></li><li><a class="tocitem" href="#Package:-Ecosystem.jl"><span>Package: <code>Ecosystem.jl</code></span></a></li></ul></li><li><a class="tocitem" href="../hw/">Homework</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">4: Package development, Unit test &amp; CI</a></li><li class="is-active"><a href>Lab</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Lab</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaTeachingCTU/Scientific-Programming-in-Julia/blob/2022W/docs/src/lecture_04/lab.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Lab-04:-Packaging"><a class="docs-heading-anchor" href="#Lab-04:-Packaging">Lab 04: Packaging</a><a id="Lab-04:-Packaging-1"></a><a class="docs-heading-anchor-permalink" href="#Lab-04:-Packaging" title="Permalink"></a></h1><h2 id="Warmup-Stepping-through-time"><a class="docs-heading-anchor" href="#Warmup-Stepping-through-time">Warmup - Stepping through time</a><a id="Warmup-Stepping-through-time-1"></a><a class="docs-heading-anchor-permalink" href="#Warmup-Stepping-through-time" title="Permalink"></a></h2><p>We now have all necessary functions in place to make agents perform one step of our simulation.  At the beginning of each step an animal looses energy. Afterwards it tries to find some food, which it will subsequently eat. If the animal then has less than zero energy it dies and is removed from the world. If it has positive energy it will try to reproduce.</p><p>Plants have a simpler life. They simply grow if they have not reached their maximal size.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><ol><li>Implement a method <code>agent_step!(::Animal,::World)</code> which performs the following steps:<ul><li>Decrement <span>$E$</span> of agent by <code>1.0</code>.</li><li>With <span>$p_f$</span>, try to find some food and eat it.</li><li>If <span>$E&lt;0$</span>, the animal dies.</li><li>With <span>$p_r$</span>, try to reproduce.</li></ul></li><li>Implement a method <code>agent_step!(::Plant,::World)</code> which performs the following steps:<ul><li>If the size of the plant is smaller than <code>max_size</code>, increment the plant&#39;s size by one.</li></ul></li></ol></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function agent_step!(p::Plant, w::World)
    if p.size &lt; p.max_size
        p.size += 1
    end
end

function agent_step!(a::Animal, w::World)
    a.energy -= 1
    if rand() &lt;= a.foodprob
        dinner = find_food(a,w)
        eat!(a, dinner, w)
    end
    if a.energy &lt; 0
        kill_agent!(a,w)
        return
    end
    if rand() &lt;= a.reprprob
        reproduce!(a,w)
    end
end</code></pre></p></details><p>An <code>agent_step!</code> of a sheep in a world with a single grass should make it consume the grass, let it reproduce, and eventually die if there is no more food and its energy is at zero:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; sheep = Sheep(1,2.0,2.0,1.0,1.0,male);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; grass = Grass(2,2,2);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world = World([sheep, grass])</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Agent}
  🌿  #2 100% grown
  🐑♂ #1 E=2.0 ΔE=2.0 pr=1.0 pf=1.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; agent_step!(sheep, world); world</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Agent}
  🌿  #2 0% grown
  🐑♂ #1 E=5.0 ΔE=2.0 pr=1.0 pf=1.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; # NOTE: The second agent step leads to an error.
       # Can you figure out what is the problem here?
       agent_step!(sheep, world); world</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: MethodError: no method matching eat!(::Main.Animal{🐑}, ::Nothing, ::Main.World{Main.Agent})
Closest candidates are:
  eat!(::Main.Animal{🐑}, <span class="sgr91">::Main.Plant{🌿}</span>, ::Main.World) at ~/work/Scientific-Programming-in-Julia/Scientific-Programming-in-Julia/docs/src/lecture_03/Lab03Ecosystem.jl:106
  eat!(<span class="sgr91">::Main.Animal{🐺}</span>, <span class="sgr91">::Main.Animal{🐑}</span>, ::Main.World) at ~/work/Scientific-Programming-in-Julia/Scientific-Programming-in-Julia/docs/src/lecture_03/Lab03Ecosystem.jl:110</code></pre><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>Finally, lets implement a function <code>world_step!</code> which performs one <code>agent_step!</code> for each agent.  Note that simply iterating over all agents could lead to problems because we are mutating the agent dictionary.  One solution for this is to iterate over a copy of all agent IDs that are present when starting to iterate over agents.  Additionally, it could happen that an agent is killed by another one before we apply <code>agent_step!</code> to it. To solve this you can check if a given ID is currently present in the <code>World</code>.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs"># make it possible to eat nothing
eat!(::Animal, ::Nothing, ::World) = nothing

function world_step!(world::World)
    # make sure that we only iterate over IDs that already exist in the
    # current timestep this lets us safely add agents
    ids = copy(keys(world.agents))

    for id in ids
        # agents can be killed by other agents, so make sure that we are
        # not stepping dead agents forward
        !haskey(world.agents,id) &amp;&amp; continue

        a = world.agents[id]
        agent_step!(a,world)
    end
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">world_step! (generic function with 1 method)</code></pre></p></details><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; w = World([Sheep(1), Sheep(2), Wolf(3)])</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐑♀ #2 E=4.0 ΔE=0.2 pr=0.8 pf=0.6
  🐺♂ #3 E=10.0 ΔE=8.0 pr=0.1 pf=0.2
  🐑♂ #1 E=4.0 ΔE=0.2 pr=0.8 pf=0.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐑♀ #4 E=1.5 ΔE=0.2 pr=0.8 pf=0.6
  🐑♀ #2 E=3.0 ΔE=0.2 pr=0.8 pf=0.6
  🐺♂ #3 E=9.0 ΔE=8.0 pr=0.1 pf=0.2
  🐑♂ #1 E=1.5 ΔE=0.2 pr=0.8 pf=0.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐑♀ #5 E=0.25 ΔE=0.2 pr=0.8 pf=0.6
  🐑♀ #4 E=0.25 ΔE=0.2 pr=0.8 pf=0.6
  🐑♀ #6 E=1.0 ΔE=0.2 pr=0.8 pf=0.6
  🐑♂ #7 E=0.25 ΔE=0.2 pr=0.8 pf=0.6
  🐑♀ #2 E=1.0 ΔE=0.2 pr=0.8 pf=0.6
  🐺♂ #3 E=8.0 ΔE=8.0 pr=0.1 pf=0.2
  🐑♂ #1 E=0.25 ΔE=0.2 pr=0.8 pf=0.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐑♀ #6 E=0.0 ΔE=0.2 pr=0.8 pf=0.6
  🐑♀ #2 E=0.0 ΔE=0.2 pr=0.8 pf=0.6
  🐑♀ #9 E=0.0 ΔE=0.2 pr=0.8 pf=0.6
  🐑♂ #8 E=0.0 ΔE=0.2 pr=0.8 pf=0.6
  🐺♂ #3 E=7.0 ΔE=8.0 pr=0.1 pf=0.2</code></pre><p>Finally, lets run a few simulation steps and plot the solution</p><pre><code class="language-julia hljs">n_grass  = 1_000
n_sheep  = 40
n_wolves = 4

gs = [Grass(id) for id in 1:n_grass]
ss = [Sheep(id) for id in (n_grass+1):(n_grass+n_sheep)]
ws = [Wolf(id) for id in (n_grass+n_sheep+1):(n_grass+n_sheep+n_wolves)]
w  = World(vcat(gs,ss,ws))

counts = Dict(n=&gt;[c] for (n,c) in agent_count(w))
for _ in 1:100
    world_step!(w)
    for (n,c) in agent_count(w)
        push!(counts[n],c)
    end
end

using Plots
plt = plot()
tolabel(::Type{Animal{Sheep}}) = &quot;Sheep&quot;
tolabel(::Type{Animal{Wolf}}) = &quot;Wolf&quot;
tolabel(::Type{Plant{Grass}}) = &quot;Grass&quot;
for (A,c) in counts
    plot!(plt, c, label=tolabel(A), lw=2)
end
plt</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip890">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip890)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip891">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip890)" d="
M172.015 1486.45 L2352.76 1486.45 L2352.76 47.2441 L172.015 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip892">
    <rect x="172" y="47" width="2182" height="1440"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip892)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  213.161,1486.45 213.161,47.2441 
  "/>
<polyline clip-path="url(#clip892)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  727.487,1486.45 727.487,47.2441 
  "/>
<polyline clip-path="url(#clip892)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1241.81,1486.45 1241.81,47.2441 
  "/>
<polyline clip-path="url(#clip892)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1756.14,1486.45 1756.14,47.2441 
  "/>
<polyline clip-path="url(#clip892)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2270.46,1486.45 2270.46,47.2441 
  "/>
<polyline clip-path="url(#clip890)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1486.45 2352.76,1486.45 
  "/>
<polyline clip-path="url(#clip890)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  213.161,1486.45 213.161,1467.55 
  "/>
<polyline clip-path="url(#clip890)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  727.487,1486.45 727.487,1467.55 
  "/>
<polyline clip-path="url(#clip890)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1241.81,1486.45 1241.81,1467.55 
  "/>
<polyline clip-path="url(#clip890)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1756.14,1486.45 1756.14,1467.55 
  "/>
<polyline clip-path="url(#clip890)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  2270.46,1486.45 2270.46,1467.55 
  "/>
<path clip-path="url(#clip890)" d="M213.161 1517.37 Q209.55 1517.37 207.721 1520.93 Q205.916 1524.47 205.916 1531.6 Q205.916 1538.71 207.721 1542.27 Q209.55 1545.82 213.161 1545.82 Q216.795 1545.82 218.601 1542.27 Q220.429 1538.71 220.429 1531.6 Q220.429 1524.47 218.601 1520.93 Q216.795 1517.37 213.161 1517.37 M213.161 1513.66 Q218.971 1513.66 222.027 1518.27 Q225.105 1522.85 225.105 1531.6 Q225.105 1540.33 222.027 1544.94 Q218.971 1549.52 213.161 1549.52 Q207.351 1549.52 204.272 1544.94 Q201.216 1540.33 201.216 1531.6 Q201.216 1522.85 204.272 1518.27 Q207.351 1513.66 213.161 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M706.758 1544.91 L723.077 1544.91 L723.077 1548.85 L701.133 1548.85 L701.133 1544.91 Q703.795 1542.16 708.378 1537.53 Q712.984 1532.88 714.165 1531.53 Q716.41 1529.01 717.29 1527.27 Q718.193 1525.51 718.193 1523.82 Q718.193 1521.07 716.248 1519.33 Q714.327 1517.6 711.225 1517.6 Q709.026 1517.6 706.572 1518.36 Q704.142 1519.13 701.364 1520.68 L701.364 1515.95 Q704.188 1514.82 706.642 1514.24 Q709.095 1513.66 711.133 1513.66 Q716.503 1513.66 719.697 1516.35 Q722.892 1519.03 722.892 1523.52 Q722.892 1525.65 722.082 1527.57 Q721.295 1529.47 719.188 1532.07 Q718.609 1532.74 715.508 1535.95 Q712.406 1539.15 706.758 1544.91 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M732.938 1514.29 L751.294 1514.29 L751.294 1518.22 L737.22 1518.22 L737.22 1526.7 Q738.239 1526.35 739.257 1526.19 Q740.276 1526 741.294 1526 Q747.081 1526 750.461 1529.17 Q753.841 1532.34 753.841 1537.76 Q753.841 1543.34 750.368 1546.44 Q746.896 1549.52 740.577 1549.52 Q738.401 1549.52 736.132 1549.15 Q733.887 1548.78 731.48 1548.04 L731.48 1543.34 Q733.563 1544.47 735.785 1545.03 Q738.007 1545.58 740.484 1545.58 Q744.489 1545.58 746.827 1543.48 Q749.165 1541.37 749.165 1537.76 Q749.165 1534.15 746.827 1532.04 Q744.489 1529.94 740.484 1529.94 Q738.609 1529.94 736.734 1530.35 Q734.882 1530.77 732.938 1531.65 L732.938 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M1216.51 1514.29 L1234.87 1514.29 L1234.87 1518.22 L1220.79 1518.22 L1220.79 1526.7 Q1221.81 1526.35 1222.83 1526.19 Q1223.85 1526 1224.87 1526 Q1230.65 1526 1234.03 1529.17 Q1237.41 1532.34 1237.41 1537.76 Q1237.41 1543.34 1233.94 1546.44 Q1230.47 1549.52 1224.15 1549.52 Q1221.97 1549.52 1219.71 1549.15 Q1217.46 1548.78 1215.05 1548.04 L1215.05 1543.34 Q1217.14 1544.47 1219.36 1545.03 Q1221.58 1545.58 1224.06 1545.58 Q1228.06 1545.58 1230.4 1543.48 Q1232.74 1541.37 1232.74 1537.76 Q1232.74 1534.15 1230.4 1532.04 Q1228.06 1529.94 1224.06 1529.94 Q1222.18 1529.94 1220.31 1530.35 Q1218.46 1530.77 1216.51 1531.65 L1216.51 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M1256.63 1517.37 Q1253.02 1517.37 1251.19 1520.93 Q1249.38 1524.47 1249.38 1531.6 Q1249.38 1538.71 1251.19 1542.27 Q1253.02 1545.82 1256.63 1545.82 Q1260.26 1545.82 1262.07 1542.27 Q1263.9 1538.71 1263.9 1531.6 Q1263.9 1524.47 1262.07 1520.93 Q1260.26 1517.37 1256.63 1517.37 M1256.63 1513.66 Q1262.44 1513.66 1265.49 1518.27 Q1268.57 1522.85 1268.57 1531.6 Q1268.57 1540.33 1265.49 1544.94 Q1262.44 1549.52 1256.63 1549.52 Q1250.82 1549.52 1247.74 1544.94 Q1244.68 1540.33 1244.68 1531.6 Q1244.68 1522.85 1247.74 1518.27 Q1250.82 1513.66 1256.63 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M1729.99 1514.29 L1752.21 1514.29 L1752.21 1516.28 L1739.67 1548.85 L1734.78 1548.85 L1746.59 1518.22 L1729.99 1518.22 L1729.99 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M1761.38 1514.29 L1779.74 1514.29 L1779.74 1518.22 L1765.66 1518.22 L1765.66 1526.7 Q1766.68 1526.35 1767.7 1526.19 Q1768.72 1526 1769.74 1526 Q1775.52 1526 1778.9 1529.17 Q1782.28 1532.34 1782.28 1537.76 Q1782.28 1543.34 1778.81 1546.44 Q1775.34 1549.52 1769.02 1549.52 Q1766.84 1549.52 1764.58 1549.15 Q1762.33 1548.78 1759.92 1548.04 L1759.92 1543.34 Q1762.01 1544.47 1764.23 1545.03 Q1766.45 1545.58 1768.93 1545.58 Q1772.93 1545.58 1775.27 1543.48 Q1777.61 1541.37 1777.61 1537.76 Q1777.61 1534.15 1775.27 1532.04 Q1772.93 1529.94 1768.93 1529.94 Q1767.05 1529.94 1765.18 1530.35 Q1763.33 1530.77 1761.38 1531.65 L1761.38 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2230.07 1544.91 L2237.71 1544.91 L2237.71 1518.55 L2229.4 1520.21 L2229.4 1515.95 L2237.66 1514.29 L2242.34 1514.29 L2242.34 1544.91 L2249.98 1544.91 L2249.98 1548.85 L2230.07 1548.85 L2230.07 1544.91 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2269.42 1517.37 Q2265.81 1517.37 2263.98 1520.93 Q2262.18 1524.47 2262.18 1531.6 Q2262.18 1538.71 2263.98 1542.27 Q2265.81 1545.82 2269.42 1545.82 Q2273.06 1545.82 2274.86 1542.27 Q2276.69 1538.71 2276.69 1531.6 Q2276.69 1524.47 2274.86 1520.93 Q2273.06 1517.37 2269.42 1517.37 M2269.42 1513.66 Q2275.23 1513.66 2278.29 1518.27 Q2281.37 1522.85 2281.37 1531.6 Q2281.37 1540.33 2278.29 1544.94 Q2275.23 1549.52 2269.42 1549.52 Q2263.61 1549.52 2260.53 1544.94 Q2257.48 1540.33 2257.48 1531.6 Q2257.48 1522.85 2260.53 1518.27 Q2263.61 1513.66 2269.42 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2299.58 1517.37 Q2295.97 1517.37 2294.14 1520.93 Q2292.34 1524.47 2292.34 1531.6 Q2292.34 1538.71 2294.14 1542.27 Q2295.97 1545.82 2299.58 1545.82 Q2303.22 1545.82 2305.02 1542.27 Q2306.85 1538.71 2306.85 1531.6 Q2306.85 1524.47 2305.02 1520.93 Q2303.22 1517.37 2299.58 1517.37 M2299.58 1513.66 Q2305.39 1513.66 2308.45 1518.27 Q2311.53 1522.85 2311.53 1531.6 Q2311.53 1540.33 2308.45 1544.94 Q2305.39 1549.52 2299.58 1549.52 Q2293.77 1549.52 2290.7 1544.94 Q2287.64 1540.33 2287.64 1531.6 Q2287.64 1522.85 2290.7 1518.27 Q2293.77 1513.66 2299.58 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip892)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,1447.58 2352.76,1447.58 
  "/>
<polyline clip-path="url(#clip892)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,1074.68 2352.76,1074.68 
  "/>
<polyline clip-path="url(#clip892)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,701.774 2352.76,701.774 
  "/>
<polyline clip-path="url(#clip892)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,328.872 2352.76,328.872 
  "/>
<polyline clip-path="url(#clip890)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1486.45 172.015,47.2441 
  "/>
<polyline clip-path="url(#clip890)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1447.58 190.912,1447.58 
  "/>
<polyline clip-path="url(#clip890)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1074.68 190.912,1074.68 
  "/>
<polyline clip-path="url(#clip890)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,701.774 190.912,701.774 
  "/>
<polyline clip-path="url(#clip890)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,328.872 190.912,328.872 
  "/>
<path clip-path="url(#clip890)" d="M124.07 1433.38 Q120.459 1433.38 118.631 1436.94 Q116.825 1440.49 116.825 1447.61 Q116.825 1454.72 118.631 1458.29 Q120.459 1461.83 124.07 1461.83 Q127.705 1461.83 129.51 1458.29 Q131.339 1454.72 131.339 1447.61 Q131.339 1440.49 129.51 1436.94 Q127.705 1433.38 124.07 1433.38 M124.07 1429.68 Q129.881 1429.68 132.936 1434.28 Q136.015 1438.86 136.015 1447.61 Q136.015 1456.34 132.936 1460.95 Q129.881 1465.53 124.07 1465.53 Q118.26 1465.53 115.182 1460.95 Q112.126 1456.34 112.126 1447.61 Q112.126 1438.86 115.182 1434.28 Q118.26 1429.68 124.07 1429.68 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M57.7745 1088.02 L74.0939 1088.02 L74.0939 1091.96 L52.1495 1091.96 L52.1495 1088.02 Q54.8115 1085.27 59.3949 1080.64 Q64.0013 1075.99 65.1819 1074.64 Q67.4272 1072.12 68.3068 1070.38 Q69.2096 1068.62 69.2096 1066.93 Q69.2096 1064.18 67.2652 1062.44 Q65.3439 1060.71 62.2421 1060.71 Q60.043 1060.71 57.5893 1061.47 Q55.1588 1062.24 52.381 1063.79 L52.381 1059.06 Q55.2051 1057.93 57.6588 1057.35 Q60.1124 1056.77 62.1495 1056.77 Q67.5198 1056.77 70.7142 1059.46 Q73.9087 1062.14 73.9087 1066.63 Q73.9087 1068.76 73.0985 1070.68 Q72.3115 1072.58 70.205 1075.18 Q69.6263 1075.85 66.5245 1079.06 Q63.4226 1082.26 57.7745 1088.02 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M93.9086 1060.48 Q90.2975 1060.48 88.4688 1064.04 Q86.6632 1067.58 86.6632 1074.71 Q86.6632 1081.82 88.4688 1085.38 Q90.2975 1088.92 93.9086 1088.92 Q97.5428 1088.92 99.3483 1085.38 Q101.177 1081.82 101.177 1074.71 Q101.177 1067.58 99.3483 1064.04 Q97.5428 1060.48 93.9086 1060.48 M93.9086 1056.77 Q99.7187 1056.77 102.774 1061.38 Q105.853 1065.96 105.853 1074.71 Q105.853 1083.44 102.774 1088.05 Q99.7187 1092.63 93.9086 1092.63 Q88.0984 1092.63 85.0197 1088.05 Q81.9642 1083.44 81.9642 1074.71 Q81.9642 1065.96 85.0197 1061.38 Q88.0984 1056.77 93.9086 1056.77 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M124.07 1060.48 Q120.459 1060.48 118.631 1064.04 Q116.825 1067.58 116.825 1074.71 Q116.825 1081.82 118.631 1085.38 Q120.459 1088.92 124.07 1088.92 Q127.705 1088.92 129.51 1085.38 Q131.339 1081.82 131.339 1074.71 Q131.339 1067.58 129.51 1064.04 Q127.705 1060.48 124.07 1060.48 M124.07 1056.77 Q129.881 1056.77 132.936 1061.38 Q136.015 1065.96 136.015 1074.71 Q136.015 1083.44 132.936 1088.05 Q129.881 1092.63 124.07 1092.63 Q118.26 1092.63 115.182 1088.05 Q112.126 1083.44 112.126 1074.71 Q112.126 1065.96 115.182 1061.38 Q118.26 1056.77 124.07 1056.77 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M66.5939 688.568 L54.7884 707.017 L66.5939 707.017 L66.5939 688.568 M65.367 684.494 L71.2466 684.494 L71.2466 707.017 L76.1772 707.017 L76.1772 710.906 L71.2466 710.906 L71.2466 719.054 L66.5939 719.054 L66.5939 710.906 L50.9921 710.906 L50.9921 706.392 L65.367 684.494 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M93.9086 687.573 Q90.2975 687.573 88.4688 691.138 Q86.6632 694.68 86.6632 701.809 Q86.6632 708.916 88.4688 712.48 Q90.2975 716.022 93.9086 716.022 Q97.5428 716.022 99.3483 712.48 Q101.177 708.916 101.177 701.809 Q101.177 694.68 99.3483 691.138 Q97.5428 687.573 93.9086 687.573 M93.9086 683.869 Q99.7187 683.869 102.774 688.476 Q105.853 693.059 105.853 701.809 Q105.853 710.536 102.774 715.142 Q99.7187 719.726 93.9086 719.726 Q88.0984 719.726 85.0197 715.142 Q81.9642 710.536 81.9642 701.809 Q81.9642 693.059 85.0197 688.476 Q88.0984 683.869 93.9086 683.869 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M124.07 687.573 Q120.459 687.573 118.631 691.138 Q116.825 694.68 116.825 701.809 Q116.825 708.916 118.631 712.48 Q120.459 716.022 124.07 716.022 Q127.705 716.022 129.51 712.48 Q131.339 708.916 131.339 701.809 Q131.339 694.68 129.51 691.138 Q127.705 687.573 124.07 687.573 M124.07 683.869 Q129.881 683.869 132.936 688.476 Q136.015 693.059 136.015 701.809 Q136.015 710.536 132.936 715.142 Q129.881 719.726 124.07 719.726 Q118.26 719.726 115.182 715.142 Q112.126 710.536 112.126 701.809 Q112.126 693.059 115.182 688.476 Q118.26 683.869 124.07 683.869 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M64.3254 327.008 Q61.1773 327.008 59.3254 329.161 Q57.4967 331.314 57.4967 335.064 Q57.4967 338.79 59.3254 340.966 Q61.1773 343.119 64.3254 343.119 Q67.4735 343.119 69.3022 340.966 Q71.1541 338.79 71.1541 335.064 Q71.1541 331.314 69.3022 329.161 Q67.4735 327.008 64.3254 327.008 M73.6077 312.355 L73.6077 316.615 Q71.8485 315.781 70.0429 315.342 Q68.2606 314.902 66.5013 314.902 Q61.8717 314.902 59.418 318.027 Q56.9875 321.152 56.6402 327.471 Q58.006 325.457 60.0662 324.392 Q62.1263 323.304 64.6032 323.304 Q69.8115 323.304 72.8207 326.476 Q75.8531 329.624 75.8531 335.064 Q75.8531 340.388 72.705 343.605 Q69.5568 346.823 64.3254 346.823 Q58.33 346.823 55.1588 342.24 Q51.9875 337.633 51.9875 328.906 Q51.9875 320.712 55.8764 315.851 Q59.7652 310.967 66.3161 310.967 Q68.0754 310.967 69.8578 311.314 Q71.6633 311.661 73.6077 312.355 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M93.9086 314.67 Q90.2975 314.67 88.4688 318.235 Q86.6632 321.777 86.6632 328.906 Q86.6632 336.013 88.4688 339.578 Q90.2975 343.119 93.9086 343.119 Q97.5428 343.119 99.3483 339.578 Q101.177 336.013 101.177 328.906 Q101.177 321.777 99.3483 318.235 Q97.5428 314.67 93.9086 314.67 M93.9086 310.967 Q99.7187 310.967 102.774 315.573 Q105.853 320.156 105.853 328.906 Q105.853 337.633 102.774 342.24 Q99.7187 346.823 93.9086 346.823 Q88.0984 346.823 85.0197 342.24 Q81.9642 337.633 81.9642 328.906 Q81.9642 320.156 85.0197 315.573 Q88.0984 310.967 93.9086 310.967 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M124.07 314.67 Q120.459 314.67 118.631 318.235 Q116.825 321.777 116.825 328.906 Q116.825 336.013 118.631 339.578 Q120.459 343.119 124.07 343.119 Q127.705 343.119 129.51 339.578 Q131.339 336.013 131.339 328.906 Q131.339 321.777 129.51 318.235 Q127.705 314.67 124.07 314.67 M124.07 310.967 Q129.881 310.967 132.936 315.573 Q136.015 320.156 136.015 328.906 Q136.015 337.633 132.936 342.24 Q129.881 346.823 124.07 346.823 Q118.26 346.823 115.182 342.24 Q112.126 337.633 112.126 328.906 Q112.126 320.156 115.182 315.573 Q118.26 310.967 124.07 310.967 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip892)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,1440.12 254.307,1440.12 274.88,1440.12 295.453,1440.12 316.026,1438.26 336.599,1438.26 357.172,1436.39 377.745,1440.12 398.318,1441.99 418.891,1441.99 
  439.464,1441.99 460.037,1441.99 480.61,1441.99 501.183,1441.99 521.756,1440.12 542.329,1440.12 562.902,1440.12 583.475,1440.12 604.048,1440.12 624.621,1440.12 
  645.194,1441.99 665.768,1443.85 686.341,1443.85 706.914,1443.85 727.487,1445.72 748.06,1445.72 768.633,1445.72 789.206,1445.72 809.779,1445.72 830.352,1445.72 
  850.925,1445.72 871.498,1445.72 892.071,1445.72 912.644,1445.72 933.217,1445.72 953.79,1445.72 974.363,1445.72 994.936,1445.72 1015.51,1445.72 1036.08,1445.72 
  1056.66,1445.72 1077.23,1445.72 1097.8,1445.72 1118.37,1445.72 1138.95,1445.72 1159.52,1445.72 1180.09,1445.72 1200.67,1445.72 1221.24,1445.72 1241.81,1445.72 
  1262.39,1445.72 1282.96,1445.72 1303.53,1445.72 1324.1,1445.72 1344.68,1445.72 1365.25,1445.72 1385.82,1445.72 1406.4,1445.72 1426.97,1445.72 1447.54,1445.72 
  1468.12,1445.72 1488.69,1445.72 1509.26,1445.72 1529.83,1445.72 1550.41,1445.72 1570.98,1445.72 1591.55,1445.72 1612.13,1445.72 1632.7,1445.72 1653.27,1445.72 
  1673.85,1445.72 1694.42,1445.72 1714.99,1445.72 1735.57,1445.72 1756.14,1445.72 1776.71,1445.72 1797.28,1445.72 1817.86,1445.72 1838.43,1445.72 1859,1445.72 
  1879.58,1445.72 1900.15,1445.72 1920.72,1445.72 1941.3,1445.72 1961.87,1445.72 1982.44,1445.72 2003.01,1445.72 2023.59,1445.72 2044.16,1445.72 2064.73,1445.72 
  2085.31,1445.72 2105.88,1445.72 2126.45,1445.72 2147.03,1445.72 2167.6,1445.72 2188.17,1445.72 2208.74,1445.72 2229.32,1445.72 2249.89,1445.72 2270.46,1445.72 
  2291.04,1445.72 
  "/>
<polyline clip-path="url(#clip892)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,1373 254.307,1322.66 274.88,1220.11 295.453,1113.83 316.026,1044.85 336.599,1037.39 357.172,1029.93 377.745,1057.9 398.318,1063.49 418.891,1119.43 
  439.464,1173.5 460.037,1164.17 480.61,1212.65 501.183,1214.52 521.756,1246.21 542.329,1266.72 562.902,1248.08 583.475,1257.4 604.048,1242.48 624.621,1180.95 
  645.194,1173.5 665.768,1180.95 686.341,1160.44 706.914,1167.9 727.487,1139.94 748.06,1199.6 768.633,1162.31 789.206,1125.02 809.779,1110.1 830.352,1087.73 
  850.925,1069.08 871.498,1056.03 892.071,1056.03 912.644,1123.15 933.217,1160.44 953.79,1192.14 974.363,1195.87 994.936,1199.6 1015.51,1223.84 1036.08,1223.84 
  1056.66,1255.54 1077.23,1229.43 1097.8,1203.33 1118.37,1184.68 1138.95,1194.01 1159.52,1216.38 1180.09,1186.55 1200.67,1175.36 1221.24,1164.17 1241.81,1177.23 
  1262.39,1138.07 1282.96,1134.34 1303.53,1175.36 1324.1,1179.09 1344.68,1145.53 1365.25,1123.15 1385.82,1074.68 1406.4,1056.03 1426.97,1097.05 1447.54,1113.83 
  1468.12,1108.24 1488.69,1175.36 1509.26,1173.5 1529.83,1149.26 1550.41,1141.8 1570.98,1151.12 1591.55,1149.26 1612.13,1169.77 1632.7,1126.88 1653.27,1136.21 
  1673.85,1162.31 1694.42,1188.41 1714.99,1164.17 1735.57,1190.28 1756.14,1160.44 1776.71,1138.07 1797.28,1149.26 1817.86,1156.72 1838.43,1156.72 1859,1164.17 
  1879.58,1194.01 1900.15,1192.14 1920.72,1195.87 1941.3,1173.5 1961.87,1149.26 1982.44,1151.12 2003.01,1171.63 2023.59,1164.17 2044.16,1115.7 2064.73,1078.41 
  2085.31,1117.56 2105.88,1123.15 2126.45,1138.07 2147.03,1156.72 2167.6,1173.5 2188.17,1162.31 2208.74,1151.12 2229.32,1199.6 2249.89,1197.74 2270.46,1194.01 
  2291.04,1166.04 
  "/>
<polyline clip-path="url(#clip892)" style="stroke:#3da44d; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,418.182 254.307,277.784 274.88,176.541 295.453,152.116 316.026,157.336 336.599,205.254 357.172,263.614 377.745,306.684 398.318,324.956 418.891,338.381 
  439.464,332.228 460.037,321.041 480.61,286.92 501.183,261.563 521.756,219.052 542.329,183.812 562.902,149.132 583.475,121.351 604.048,87.9763 624.621,93.0105 
  645.194,114.639 665.768,137.945 686.341,154.539 706.914,171.32 727.487,198.169 748.06,211.78 768.633,220.543 789.206,227.442 809.779,250.375 830.352,288.971 
  850.925,321.227 871.498,342.669 892.071,362.433 912.644,369.704 933.217,364.857 953.79,337.448 974.363,305.565 994.936,277.97 1015.51,247.206 1036.08,216.255 
  1056.66,181.948 1077.23,153.234 1097.8,135.708 1118.37,135.708 1138.95,142.607 1159.52,150.81 1180.09,155.472 1200.67,159.76 1221.24,170.574 1241.81,180.456 
  1262.39,206.186 1282.96,219.425 1303.53,222.221 1324.1,224.832 1344.68,239.002 1365.25,250.003 1385.82,271.258 1406.4,309.481 1426.97,325.702 1447.54,351.805 
  1468.12,347.33 1488.69,330.923 1509.26,316.939 1529.83,319.735 1550.41,307.989 1570.98,295.87 1591.55,294.751 1612.13,285.428 1632.7,271.817 1653.27,285.055 
  1673.85,277.784 1694.42,264.173 1714.99,247.765 1735.57,244.036 1756.14,254.105 1776.71,260.444 1797.28,256.901 1817.86,257.088 1838.43,261.19 1859,251.494 
  1879.58,244.036 1900.15,236.951 1920.72,225.391 1941.3,219.052 1961.87,218.865 1982.44,226.696 2003.01,237.697 2023.59,244.968 2044.16,267.343 2064.73,288.225 
  2085.31,301.836 2105.88,295.497 2126.45,299.972 2147.03,313.023 2167.6,299.226 2188.17,280.954 2208.74,278.53 2229.32,261.19 2249.89,247.206 2270.46,231.917 
  2291.04,225.018 
  "/>
<path clip-path="url(#clip890)" d="
M1894.91 302.578 L2280.06 302.578 L2280.06 95.2176 L1894.91 95.2176  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip890)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1894.91,302.578 2280.06,302.578 2280.06,95.2176 1894.91,95.2176 1894.91,302.578 
  "/>
<polyline clip-path="url(#clip890)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,147.058 2064.53,147.058 
  "/>
<path clip-path="url(#clip890)" d="M2088.76 129.778 L2093.48 129.778 L2100.75 158.99 L2107.99 129.778 L2113.25 129.778 L2120.52 158.99 L2127.76 129.778 L2132.51 129.778 L2123.83 164.338 L2117.95 164.338 L2110.66 134.338 L2103.29 164.338 L2097.41 164.338 L2088.76 129.778 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2145.79 141.398 Q2142.37 141.398 2140.38 144.083 Q2138.39 146.745 2138.39 151.398 Q2138.39 156.051 2140.35 158.736 Q2142.34 161.398 2145.79 161.398 Q2149.2 161.398 2151.19 158.713 Q2153.18 156.027 2153.18 151.398 Q2153.18 146.791 2151.19 144.106 Q2149.2 141.398 2145.79 141.398 M2145.79 137.787 Q2151.35 137.787 2154.52 141.398 Q2157.69 145.009 2157.69 151.398 Q2157.69 157.764 2154.52 161.398 Q2151.35 165.009 2145.79 165.009 Q2140.22 165.009 2137.04 161.398 Q2133.9 157.764 2133.9 151.398 Q2133.9 145.009 2137.04 141.398 Q2140.22 137.787 2145.79 137.787 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2164.75 128.319 L2169.01 128.319 L2169.01 164.338 L2164.75 164.338 L2164.75 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2191.05 128.319 L2191.05 131.861 L2186.97 131.861 Q2184.68 131.861 2183.78 132.787 Q2182.9 133.713 2182.9 136.12 L2182.9 138.412 L2189.91 138.412 L2189.91 141.722 L2182.9 141.722 L2182.9 164.338 L2178.62 164.338 L2178.62 141.722 L2174.54 141.722 L2174.54 138.412 L2178.62 138.412 L2178.62 136.606 Q2178.62 132.278 2180.63 130.31 Q2182.65 128.319 2187.02 128.319 L2191.05 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip890)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,198.898 2064.53,198.898 
  "/>
<path clip-path="url(#clip890)" d="M2111 182.752 L2111 187.312 Q2108.34 186.039 2105.98 185.414 Q2103.62 184.789 2101.42 184.789 Q2097.6 184.789 2095.52 186.27 Q2093.46 187.752 2093.46 190.483 Q2093.46 192.775 2094.82 193.955 Q2096.21 195.113 2100.05 195.83 L2102.88 196.409 Q2108.11 197.405 2110.59 199.928 Q2113.09 202.428 2113.09 206.641 Q2113.09 211.664 2109.71 214.256 Q2106.35 216.849 2099.85 216.849 Q2097.39 216.849 2094.61 216.293 Q2091.86 215.738 2088.9 214.65 L2088.9 209.835 Q2091.74 211.432 2094.47 212.242 Q2097.21 213.053 2099.85 213.053 Q2103.85 213.053 2106.03 211.479 Q2108.2 209.904 2108.2 206.988 Q2108.2 204.442 2106.63 203.006 Q2105.08 201.571 2101.51 200.854 L2098.66 200.298 Q2093.43 199.256 2091.1 197.034 Q2088.76 194.812 2088.76 190.854 Q2088.76 186.27 2091.97 183.631 Q2095.22 180.993 2100.89 180.993 Q2103.32 180.993 2105.84 181.432 Q2108.36 181.872 2111 182.752 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2141.74 200.529 L2141.74 216.178 L2137.48 216.178 L2137.48 200.668 Q2137.48 196.988 2136.05 195.159 Q2134.61 193.33 2131.74 193.33 Q2128.29 193.33 2126.3 195.53 Q2124.31 197.729 2124.31 201.525 L2124.31 216.178 L2120.03 216.178 L2120.03 180.159 L2124.31 180.159 L2124.31 194.28 Q2125.84 191.942 2127.9 190.784 Q2129.98 189.627 2132.69 189.627 Q2137.16 189.627 2139.45 192.405 Q2141.74 195.159 2141.74 200.529 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2172.41 202.15 L2172.41 204.233 L2152.83 204.233 Q2153.11 208.631 2155.47 210.946 Q2157.85 213.238 2162.09 213.238 Q2164.54 213.238 2166.84 212.636 Q2169.15 212.034 2171.42 210.83 L2171.42 214.858 Q2169.13 215.83 2166.72 216.34 Q2164.31 216.849 2161.84 216.849 Q2155.63 216.849 2152 213.238 Q2148.39 209.627 2148.39 203.469 Q2148.39 197.104 2151.81 193.377 Q2155.26 189.627 2161.09 189.627 Q2166.33 189.627 2169.36 193.006 Q2172.41 196.363 2172.41 202.15 M2168.15 200.9 Q2168.11 197.405 2166.19 195.321 Q2164.29 193.238 2161.14 193.238 Q2157.58 193.238 2155.42 195.252 Q2153.29 197.266 2152.97 200.923 L2168.15 200.9 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2201.58 202.15 L2201.58 204.233 L2182 204.233 Q2182.28 208.631 2184.64 210.946 Q2187.02 213.238 2191.26 213.238 Q2193.71 213.238 2196 212.636 Q2198.32 212.034 2200.59 210.83 L2200.59 214.858 Q2198.29 215.83 2195.89 216.34 Q2193.48 216.849 2191 216.849 Q2184.8 216.849 2181.16 213.238 Q2177.55 209.627 2177.55 203.469 Q2177.55 197.104 2180.98 193.377 Q2184.43 189.627 2190.26 189.627 Q2195.49 189.627 2198.53 193.006 Q2201.58 196.363 2201.58 202.15 M2197.32 200.9 Q2197.28 197.405 2195.35 195.321 Q2193.46 193.238 2190.31 193.238 Q2186.74 193.238 2184.59 195.252 Q2182.46 197.266 2182.14 200.923 L2197.32 200.9 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2212.69 212.289 L2212.69 226.039 L2208.41 226.039 L2208.41 190.252 L2212.69 190.252 L2212.69 194.187 Q2214.03 191.872 2216.07 190.761 Q2218.13 189.627 2220.98 189.627 Q2225.7 189.627 2228.64 193.377 Q2231.6 197.127 2231.6 203.238 Q2231.6 209.349 2228.64 213.099 Q2225.7 216.849 2220.98 216.849 Q2218.13 216.849 2216.07 215.738 Q2214.03 214.603 2212.69 212.289 M2227.18 203.238 Q2227.18 198.539 2225.24 195.877 Q2223.32 193.192 2219.94 193.192 Q2216.56 193.192 2214.61 195.877 Q2212.69 198.539 2212.69 203.238 Q2212.69 207.937 2214.61 210.622 Q2216.56 213.284 2219.94 213.284 Q2223.32 213.284 2225.24 210.622 Q2227.18 207.937 2227.18 203.238 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip890)" style="stroke:#3da44d; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,250.738 2064.53,250.738 
  "/>
<path clip-path="url(#clip890)" d="M2114.31 263.087 L2114.31 253.805 L2106.67 253.805 L2106.67 249.962 L2118.94 249.962 L2118.94 264.8 Q2116.23 266.721 2112.97 267.717 Q2109.71 268.689 2106 268.689 Q2097.9 268.689 2093.32 263.967 Q2088.76 259.221 2088.76 250.772 Q2088.76 242.3 2093.32 237.578 Q2097.9 232.833 2106 232.833 Q2109.38 232.833 2112.41 233.666 Q2115.47 234.499 2118.04 236.12 L2118.04 241.096 Q2115.45 238.897 2112.53 237.786 Q2109.61 236.675 2106.4 236.675 Q2100.05 236.675 2096.86 240.217 Q2093.69 243.758 2093.69 250.772 Q2093.69 257.763 2096.86 261.305 Q2100.05 264.846 2106.4 264.846 Q2108.87 264.846 2110.82 264.43 Q2112.76 263.99 2114.31 263.087 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2142.32 246.073 Q2141.6 245.657 2140.75 245.471 Q2139.91 245.263 2138.9 245.263 Q2135.28 245.263 2133.34 247.624 Q2131.42 249.962 2131.42 254.36 L2131.42 268.018 L2127.14 268.018 L2127.14 242.092 L2131.42 242.092 L2131.42 246.12 Q2132.76 243.758 2134.91 242.624 Q2137.07 241.467 2140.15 241.467 Q2140.59 241.467 2141.12 241.536 Q2141.65 241.583 2142.3 241.698 L2142.32 246.073 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2158.57 254.985 Q2153.41 254.985 2151.42 256.166 Q2149.43 257.346 2149.43 260.194 Q2149.43 262.462 2150.91 263.805 Q2152.41 265.124 2154.98 265.124 Q2158.53 265.124 2160.65 262.624 Q2162.81 260.101 2162.81 255.934 L2162.81 254.985 L2158.57 254.985 M2167.07 253.226 L2167.07 268.018 L2162.81 268.018 L2162.81 264.082 Q2161.35 266.443 2159.17 267.578 Q2157 268.689 2153.85 268.689 Q2149.87 268.689 2147.51 266.467 Q2145.17 264.221 2145.17 260.471 Q2145.17 256.096 2148.09 253.874 Q2151.03 251.652 2156.84 251.652 L2162.81 251.652 L2162.81 251.235 Q2162.81 248.295 2160.86 246.698 Q2158.94 245.078 2155.45 245.078 Q2153.22 245.078 2151.12 245.61 Q2149.01 246.143 2147.07 247.207 L2147.07 243.272 Q2149.4 242.37 2151.6 241.93 Q2153.8 241.467 2155.89 241.467 Q2161.51 241.467 2164.29 244.383 Q2167.07 247.3 2167.07 253.226 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2192.37 242.856 L2192.37 246.883 Q2190.56 245.957 2188.62 245.495 Q2186.67 245.032 2184.59 245.032 Q2181.42 245.032 2179.82 246.004 Q2178.25 246.976 2178.25 248.92 Q2178.25 250.402 2179.38 251.258 Q2180.52 252.092 2183.94 252.856 L2185.4 253.18 Q2189.94 254.152 2191.84 255.934 Q2193.76 257.694 2193.76 260.865 Q2193.76 264.476 2190.89 266.582 Q2188.04 268.689 2183.04 268.689 Q2180.96 268.689 2178.69 268.272 Q2176.44 267.879 2173.94 267.068 L2173.94 262.67 Q2176.3 263.897 2178.59 264.522 Q2180.89 265.124 2183.13 265.124 Q2186.14 265.124 2187.76 264.106 Q2189.38 263.064 2189.38 261.189 Q2189.38 259.453 2188.2 258.527 Q2187.04 257.601 2183.09 256.744 L2181.6 256.397 Q2177.65 255.564 2175.89 253.851 Q2174.13 252.115 2174.13 249.106 Q2174.13 245.448 2176.72 243.458 Q2179.31 241.467 2184.08 241.467 Q2186.44 241.467 2188.53 241.814 Q2190.61 242.161 2192.37 242.856 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip890)" d="M2217.07 242.856 L2217.07 246.883 Q2215.26 245.957 2213.32 245.495 Q2211.37 245.032 2209.29 245.032 Q2206.12 245.032 2204.52 246.004 Q2202.95 246.976 2202.95 248.92 Q2202.95 250.402 2204.08 251.258 Q2205.21 252.092 2208.64 252.856 L2210.1 253.18 Q2214.64 254.152 2216.53 255.934 Q2218.46 257.694 2218.46 260.865 Q2218.46 264.476 2215.59 266.582 Q2212.74 268.689 2207.74 268.689 Q2205.65 268.689 2203.39 268.272 Q2201.14 267.879 2198.64 267.068 L2198.64 262.67 Q2201 263.897 2203.29 264.522 Q2205.59 265.124 2207.83 265.124 Q2210.84 265.124 2212.46 264.106 Q2214.08 263.064 2214.08 261.189 Q2214.08 259.453 2212.9 258.527 Q2211.74 257.601 2207.78 256.744 L2206.3 256.397 Q2202.34 255.564 2200.59 253.851 Q2198.83 252.115 2198.83 249.106 Q2198.83 245.448 2201.42 243.458 Q2204.01 241.467 2208.78 241.467 Q2211.14 241.467 2213.22 241.814 Q2215.31 242.161 2217.07 242.856 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /></svg>
<h2 id="Package:-Ecosystem.jl"><a class="docs-heading-anchor" href="#Package:-Ecosystem.jl">Package: <code>Ecosystem.jl</code></a><a id="Package:-Ecosystem.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Package:-Ecosystem.jl" title="Permalink"></a></h2><p>In the main section of this lab you will create your own <code>Ecosystem.jl</code> package to organize <em>and test (!)</em> the code that we have written so far.</p><h3 id="PkgTemplates.jl"><a class="docs-heading-anchor" href="#PkgTemplates.jl"><code>PkgTemplates.jl</code></a><a id="PkgTemplates.jl-1"></a><a class="docs-heading-anchor-permalink" href="#PkgTemplates.jl" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>The simplest way to create a new package in Julia is to use <code>PkgTemplates.jl</code>. <code>]add PkgTemplates</code> to your global julia env and create a new package by running:</p><pre><code class="language-julia hljs">using PkgTemplates
Template(interactive=true)(&quot;Ecosystem&quot;)</code></pre><p>to interactively specify various options for your new package or use the following snippet to generate it programmatically:</p><pre><code class="language-julia hljs">using PkgTemplates

# define the package template
template = Template(;
    user = &quot;GithubUserName&quot;,            # github user name
    authors = [&quot;Author1&quot;, &quot;Author2&quot;],   # list of authors
    dir = &quot;/path/to/folder/&quot;,           # dir in which the package will be created
    julia = v&quot;1.8&quot;,                     # compat version of Julia
    plugins = [
        !CompatHelper,                  # disable CompatHelper
        !TagBot,                        # disable TagBot
        Readme(; inline_badges = true), # added readme file with badges
        Tests(; project = true),        # added Project.toml file for unit tests
        Git(; manifest = false),        # add manifest.toml to .gitignore
        License(; name = &quot;MIT&quot;)         # addedMIT licence
    ],
)

# execute the package template (this creates all files/folders)
template(&quot;Ecosystem&quot;)</code></pre></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><p>This should have created a new folder <code>Ecosystem</code> which looks like below.</p><pre><code class="nohighlight hljs">.
├── LICENSE
├── Project.toml
├── README.md
├── src
│   └── Ecosystem.jl
└── test
    ├── Manifest.toml
    ├── Project.toml
    └── runtests.jl</code></pre><p>If you <code>]activate /path/to/Ecosystem</code> you should be able to run <code>]test</code> to run the autogenerated test (which is not doing anything) and get the following output:</p><pre><code class="nohighlight hljs">(Ecosystem) pkg&gt; test
     Testing Ecosystem
      Status `/private/var/folders/6h/l9_skfms2v3dt8z3zfnd2jr00000gn/T/jl_zd5Uai/Project.toml`
  [e77cd98c] Ecosystem v0.1.0 `~/repos/Ecosystem`
  [8dfed614] Test `@stdlib/Test`
      Status `/private/var/folders/6h/l9_skfms2v3dt8z3zfnd2jr00000gn/T/jl_zd5Uai/Manifest.toml`
  [e77cd98c] Ecosystem v0.1.0 `~/repos/Ecosystem`
  [2a0f44e3] Base64 `@stdlib/Base64`
  [b77e0a4c] InteractiveUtils `@stdlib/InteractiveUtils`
  [56ddb016] Logging `@stdlib/Logging`
  [d6f4376e] Markdown `@stdlib/Markdown`
  [9a3f8284] Random `@stdlib/Random`
  [ea8e919c] SHA v0.7.0 `@stdlib/SHA`
  [9e88b42a] Serialization `@stdlib/Serialization`
  [8dfed614] Test `@stdlib/Test`
     Testing Running tests...
Test Summary: |Time
Ecosystem.jl  | None  0.0s
     Testing Ecosystem tests passed </code></pre></p></details><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>From now on make sure that you <strong>always</strong> have the <code>Ecosystem</code> enviroment enabled. Otherwise you will not end up with the correct dependencies in your packages</p></div></div><h3 id="Adding-content-to-Ecosystem.jl"><a class="docs-heading-anchor" href="#Adding-content-to-Ecosystem.jl">Adding content to <code>Ecosystem.jl</code></a><a id="Adding-content-to-Ecosystem.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-content-to-Ecosystem.jl" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>Next, let&#39;s add the types and functions we have defined so far. You can use <code>include(&quot;path/to/file.jl&quot;)</code> in the main module file at <code>src/Ecosystem.jl</code> to bring some structure in your code. An exemplary file structure could look like below.</p><pre><code class="nohighlight hljs">.
├── LICENSE
├── Manifest.toml
├── Project.toml
├── README.md
├── src
│   ├── Ecosystem.jl
│   ├── animal.jl
│   ├── plant.jl
│   └── world.jl
└── test
    └── runtests.jl</code></pre><p>While you are adding functionality to your package you can make great use of <code>Revise.jl</code>.  Loading <code>Revise.jl</code> before your <code>Ecosystem.jl</code> will automatically recompile (and invalidate old methods!) while you develop.  You can install it in your global environment and and create a <code>$HOME/.config/startup.jl</code> which always loads <code>Revise</code>. It can look like this:</p><pre><code class="language-julia hljs"># try/catch block to make sure you can start julia if Revise should not be installed
try
    using Revise
catch e
    @warn(e.msg)
end</code></pre></div></div><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>At some point along the way you should run into problems with the <code>sample</code> functions or when trying <code>using StatsBase</code>. This is normal, because you have not added the package to the <code>Ecosystem</code> environment yet. Adding it is as easy as <code>]add StatsBase</code>. Your <code>Ecosystem</code> environment should now look like this:</p><pre><code class="nohighlight hljs">(Ecosystem) pkg&gt; status
Project Ecosystem v0.1.0
Status `~/repos/Ecosystem/Project.toml`
  [2913bbd2] StatsBase v0.33.21</code></pre></div></div><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>In order to use your new types/functions like below</p><pre><code class="language-julia hljs">using Ecosystem

Sheep(2)</code></pre><p>you have to <code>export</code> them from your module. Add exports for all important types and functions.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs"># src/Ecosystem.jl
module Ecosystem

using StatsBase

export World
export Species, PlantSpecies, AnimalSpecies, Grass, Sheep, Wolf
export Agent, Plant, Animal
export agent_step!, eat!, eats, find_food, reproduce!, world_step!, agent_count

# ....

end</code></pre></p></details><h3 id="Unit-tests"><a class="docs-heading-anchor" href="#Unit-tests">Unit tests</a><a id="Unit-tests-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-tests" title="Permalink"></a></h3><p>Every package should have tests which verify the correctness of your implementation, such that you can make changes to your codebase and remain confident that you did not break anything.</p><p>Julia&#39;s <code>Test</code> package provides you functionality to easily write <a href="https://docs.julialang.org/en/v1/stdlib/Test/">unit tests</a>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>In the file <code>test/runtests.jl</code>, create a new <code>@testset</code> and write three <code>@test</code>s which check that the <code>show</code> methods we defined for <code>Grass</code>, <code>Sheep</code>, and <code>Wolf</code> work as expected.</p><p>The function <code>repr(x) == &quot;some string&quot;</code> to check if the string representation we defined in the <code>Base.show</code> overload returns what you expect.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; # using Ecosystem
       using Test</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @testset &quot;Base.show&quot; begin
           g = Grass(1,1,1)
           s = Animal{Sheep}(2,1,1,1,1,male)
           w = Animal{Wolf}(3,1,1,1,1,female)
           @test repr(g) == &quot;🌿  #1 100% grown&quot;
           @test repr(s) == &quot;🐑♂ #2 E=1.0 ΔE=1.0 pr=1.0 pf=1.0&quot;
           @test repr(w) == &quot;🐺♀ #3 E=1.0 ΔE=1.0 pr=1.0 pf=1.0&quot;
       end</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">Test Summary: | <span class="sgr32">Pass  </span><span class="sgr36">Total  </span>Time</span>
Base.show     | <span class="sgr32">   3  </span><span class="sgr36">    3  </span>0.2s
Test.DefaultTestSet(&quot;Base.show&quot;, Any[], 3, false, false, true, 1.665834784246221e9, 1.66583478443103e9)</code></pre></p></details><h3 id="Github-CI"><a class="docs-heading-anchor" href="#Github-CI">Github CI</a><a id="Github-CI-1"></a><a class="docs-heading-anchor-permalink" href="#Github-CI" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>If you want you can upload you package to Github and add the <code>julia-runtest</code> <a href="https://github.com/julia-actions/julia-runtest">Github Action</a> to automatically test your code for every new push you make to the repository.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../lecture/">« Lecture</a><a class="docs-footer-nextpage" href="../hw/">Homework »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Saturday 15 October 2022 11:54">Saturday 15 October 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
