<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lab · Scientific Programming in Julia</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://JuliaTeachingCTU.github.io/Scientific-Programming-in-Julia/lecture_04/lab/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../assets/onlinestats.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="Scientific Programming in Julia logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="Scientific Programming in Julia logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Scientific Programming in Julia</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation/">Installation</a></li><li><a class="tocitem" href="../../projects/">Projects</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">1: Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_01/motivation/">Motivation</a></li><li><a class="tocitem" href="../../lecture_01/basics/">Basics</a></li><li><a class="tocitem" href="../../lecture_01/demo/">Examples</a></li><li><a class="tocitem" href="../../lecture_01/outline/">Outline</a></li><li><a class="tocitem" href="../../lecture_01/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_01/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">2: The power of Type System &amp; multiple dispatch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_02/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_02/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_02/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">3: Design Patterns</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_03/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_03/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_03/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox" checked/><label class="tocitem" for="menuitem-7"><span class="docs-label">4: Package development, Unit test &amp; CI</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../lecture/">Lecture</a></li><li class="is-active"><a class="tocitem" href>Lab</a><ul class="internal"><li><a class="tocitem" href="#Warmup-Stepping-through-time"><span>Warmup - Stepping through time</span></a></li><li><a class="tocitem" href="#Package:-Ecosystem.jl"><span>Package: <code>Ecosystem.jl</code></span></a></li></ul></li><li><a class="tocitem" href="../hw/">Homework</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">4: Package development, Unit test &amp; CI</a></li><li class="is-active"><a href>Lab</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Lab</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaTeachingCTU/Scientific-Programming-in-Julia/blob/2023W/docs/src/lecture_04/lab.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Lab-04:-Packaging"><a class="docs-heading-anchor" href="#Lab-04:-Packaging">Lab 04: Packaging</a><a id="Lab-04:-Packaging-1"></a><a class="docs-heading-anchor-permalink" href="#Lab-04:-Packaging" title="Permalink"></a></h1><h2 id="Warmup-Stepping-through-time"><a class="docs-heading-anchor" href="#Warmup-Stepping-through-time">Warmup - Stepping through time</a><a id="Warmup-Stepping-through-time-1"></a><a class="docs-heading-anchor-permalink" href="#Warmup-Stepping-through-time" title="Permalink"></a></h2><p>We now have all necessary functions in place to make agents perform one step of our simulation.  At the beginning of each step an animal looses energy. Afterwards it tries to find some food, which it will subsequently eat. If the animal then has less than zero energy it dies and is removed from the world. If it has positive energy it will try to reproduce.</p><p>Plants have a simpler life. They simply grow if they have not reached their maximal size.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><ol><li>Implement a method <code>agent_step!(::Animal,::World)</code> which performs the following steps:<ul><li>Decrement <span>$E$</span> of agent by <code>1.0</code>.</li><li>With <span>$p_f$</span>, try to find some food and eat it.</li><li>If <span>$E&lt;0$</span>, the animal dies.</li><li>With <span>$p_r$</span>, try to reproduce.</li></ul></li><li>Implement a method <code>agent_step!(::Plant,::World)</code> which performs the following steps:<ul><li>If the size of the plant is smaller than <code>max_size</code>, increment the plant&#39;s size by one.</li></ul></li></ol></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function agent_step!(p::Plant, w::World)
    if p.size &lt; p.max_size
        p.size += 1
    end
end

function agent_step!(a::Animal, w::World)
    a.energy -= 1
    if rand() &lt;= a.foodprob
        dinner = find_food(a,w)
        eat!(a, dinner, w)
    end
    if a.energy &lt; 0
        kill_agent!(a,w)
        return
    end
    if rand() &lt;= a.reprprob
        reproduce!(a,w)
    end
end</code></pre></p></details><p>An <code>agent_step!</code> of a sheep in a world with a single grass should make it consume the grass, let it reproduce, and eventually die if there is no more food and its energy is at zero:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; sheep = Sheep(1,2.0,2.0,1.0,1.0,male);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; grass = Grass(2,2,2);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world = World([sheep, grass])</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Agent}
  🌿  #2 100% grown
  🐑♂ #1 E=2.0 ΔE=2.0 pr=1.0 pf=1.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; agent_step!(sheep, world); world</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Agent}
  🌿  #2 0% grown
  🐑♂ #1 E=5.0 ΔE=2.0 pr=1.0 pf=1.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; # NOTE: The second agent step leads to an error.
       # Can you figure out what is the problem here?
       agent_step!(sheep, world); world</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: MethodError: no method matching eat!(::Main.Animal{🐑}, ::Nothing, ::Main.World{Main.Agent})

Closest candidates are:
  eat!(::Main.Animal{🐑}, <span class="sgr91">::Main.Plant{🌿}</span>, ::Main.World)
<span class="sgr90">   @</span> <span class="sgr32">Main</span> <span class="sgr90">~/work/Scientific-Programming-in-Julia/Scientific-Programming-in-Julia/docs/src/lecture_03/<span class="sgr4">Lab03Ecosystem.jl:106</span></span>
  eat!(<span class="sgr91">::Main.Animal{🐺}</span>, <span class="sgr91">::Main.Animal{🐑}</span>, ::Main.World)
<span class="sgr90">   @</span> <span class="sgr32">Main</span> <span class="sgr90">~/work/Scientific-Programming-in-Julia/Scientific-Programming-in-Julia/docs/src/lecture_03/<span class="sgr4">Lab03Ecosystem.jl:110</span></span></code></pre><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>Finally, lets implement a function <code>world_step!</code> which performs one <code>agent_step!</code> for each agent.  Note that simply iterating over all agents could lead to problems because we are mutating the agent dictionary.  One solution for this is to iterate over a copy of all agent IDs that are present when starting to iterate over agents.  Additionally, it could happen that an agent is killed by another one before we apply <code>agent_step!</code> to it. To solve this you can check if a given ID is currently present in the <code>World</code>.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs"># make it possible to eat nothing
eat!(::Animal, ::Nothing, ::World) = nothing

function world_step!(world::World)
    # make sure that we only iterate over IDs that already exist in the
    # current timestep this lets us safely add agents
    ids = copy(keys(world.agents))

    for id in ids
        # agents can be killed by other agents, so make sure that we are
        # not stepping dead agents forward
        !haskey(world.agents,id) &amp;&amp; continue

        a = world.agents[id]
        agent_step!(a,world)
    end
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">world_step! (generic function with 1 method)</code></pre></p></details><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; w = World([Sheep(1), Sheep(2), Wolf(3)])</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐑♂ #2 E=4.0 ΔE=0.2 pr=0.8 pf=0.6
  🐺♀ #3 E=10.0 ΔE=8.0 pr=0.1 pf=0.2
  🐑♂ #1 E=4.0 ΔE=0.2 pr=0.8 pf=0.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐺♀ #3 E=33.0 ΔE=8.0 pr=0.1 pf=0.2
  🐑♂ #1 E=3.0 ΔE=0.2 pr=0.8 pf=0.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐺♀ #3 E=32.0 ΔE=8.0 pr=0.1 pf=0.2
  🐑♂ #1 E=2.0 ΔE=0.2 pr=0.8 pf=0.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐺♀ #3 E=31.0 ΔE=8.0 pr=0.1 pf=0.2
  🐑♂ #1 E=1.0 ΔE=0.2 pr=0.8 pf=0.6</code></pre><p>Finally, lets run a few simulation steps and plot the solution</p><pre><code class="language-julia hljs">n_grass  = 1_000
n_sheep  = 40
n_wolves = 4

gs = [Grass(id) for id in 1:n_grass]
ss = [Sheep(id) for id in (n_grass+1):(n_grass+n_sheep)]
ws = [Wolf(id) for id in (n_grass+n_sheep+1):(n_grass+n_sheep+n_wolves)]
w  = World(vcat(gs,ss,ws))

counts = Dict(n=&gt;[c] for (n,c) in agent_count(w))
for _ in 1:100
    world_step!(w)
    for (n,c) in agent_count(w)
        push!(counts[n],c)
    end
end

using Plots
plt = plot()
for (n,c) in counts
    plot!(plt, c, label=string(n), lw=2)
end
plt</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip820">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip820)" d="M0 1600 L2400 1600 L2400 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip821">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip820)" d="M172.015 1486.45 L2352.76 1486.45 L2352.76 47.2441 L172.015 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip822">
    <rect x="172" y="47" width="2182" height="1440"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip822)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="213.161,1486.45 213.161,47.2441 "/>
<polyline clip-path="url(#clip822)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="727.487,1486.45 727.487,47.2441 "/>
<polyline clip-path="url(#clip822)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1241.81,1486.45 1241.81,47.2441 "/>
<polyline clip-path="url(#clip822)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1756.14,1486.45 1756.14,47.2441 "/>
<polyline clip-path="url(#clip822)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2270.46,1486.45 2270.46,47.2441 "/>
<polyline clip-path="url(#clip820)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="172.015,1486.45 2352.76,1486.45 "/>
<polyline clip-path="url(#clip820)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="213.161,1486.45 213.161,1467.55 "/>
<polyline clip-path="url(#clip820)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="727.487,1486.45 727.487,1467.55 "/>
<polyline clip-path="url(#clip820)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1241.81,1486.45 1241.81,1467.55 "/>
<polyline clip-path="url(#clip820)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1756.14,1486.45 1756.14,1467.55 "/>
<polyline clip-path="url(#clip820)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2270.46,1486.45 2270.46,1467.55 "/>
<path clip-path="url(#clip820)" d="M213.161 1517.37 Q209.55 1517.37 207.721 1520.93 Q205.916 1524.47 205.916 1531.6 Q205.916 1538.71 207.721 1542.27 Q209.55 1545.82 213.161 1545.82 Q216.795 1545.82 218.601 1542.27 Q220.429 1538.71 220.429 1531.6 Q220.429 1524.47 218.601 1520.93 Q216.795 1517.37 213.161 1517.37 M213.161 1513.66 Q218.971 1513.66 222.027 1518.27 Q225.105 1522.85 225.105 1531.6 Q225.105 1540.33 222.027 1544.94 Q218.971 1549.52 213.161 1549.52 Q207.351 1549.52 204.272 1544.94 Q201.216 1540.33 201.216 1531.6 Q201.216 1522.85 204.272 1518.27 Q207.351 1513.66 213.161 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M706.758 1544.91 L723.077 1544.91 L723.077 1548.85 L701.133 1548.85 L701.133 1544.91 Q703.795 1542.16 708.378 1537.53 Q712.984 1532.88 714.165 1531.53 Q716.41 1529.01 717.29 1527.27 Q718.193 1525.51 718.193 1523.82 Q718.193 1521.07 716.248 1519.33 Q714.327 1517.6 711.225 1517.6 Q709.026 1517.6 706.572 1518.36 Q704.142 1519.13 701.364 1520.68 L701.364 1515.95 Q704.188 1514.82 706.642 1514.24 Q709.095 1513.66 711.133 1513.66 Q716.503 1513.66 719.697 1516.35 Q722.892 1519.03 722.892 1523.52 Q722.892 1525.65 722.082 1527.57 Q721.295 1529.47 719.188 1532.07 Q718.609 1532.74 715.508 1535.95 Q712.406 1539.15 706.758 1544.91 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M732.938 1514.29 L751.294 1514.29 L751.294 1518.22 L737.22 1518.22 L737.22 1526.7 Q738.239 1526.35 739.257 1526.19 Q740.276 1526 741.294 1526 Q747.081 1526 750.461 1529.17 Q753.841 1532.34 753.841 1537.76 Q753.841 1543.34 750.368 1546.44 Q746.896 1549.52 740.577 1549.52 Q738.401 1549.52 736.132 1549.15 Q733.887 1548.78 731.48 1548.04 L731.48 1543.34 Q733.563 1544.47 735.785 1545.03 Q738.007 1545.58 740.484 1545.58 Q744.489 1545.58 746.827 1543.48 Q749.165 1541.37 749.165 1537.76 Q749.165 1534.15 746.827 1532.04 Q744.489 1529.94 740.484 1529.94 Q738.609 1529.94 736.734 1530.35 Q734.882 1530.77 732.938 1531.65 L732.938 1514.29 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M1216.51 1514.29 L1234.87 1514.29 L1234.87 1518.22 L1220.79 1518.22 L1220.79 1526.7 Q1221.81 1526.35 1222.83 1526.19 Q1223.85 1526 1224.87 1526 Q1230.65 1526 1234.03 1529.17 Q1237.41 1532.34 1237.41 1537.76 Q1237.41 1543.34 1233.94 1546.44 Q1230.47 1549.52 1224.15 1549.52 Q1221.97 1549.52 1219.71 1549.15 Q1217.46 1548.78 1215.05 1548.04 L1215.05 1543.34 Q1217.14 1544.47 1219.36 1545.03 Q1221.58 1545.58 1224.06 1545.58 Q1228.06 1545.58 1230.4 1543.48 Q1232.74 1541.37 1232.74 1537.76 Q1232.74 1534.15 1230.4 1532.04 Q1228.06 1529.94 1224.06 1529.94 Q1222.18 1529.94 1220.31 1530.35 Q1218.46 1530.77 1216.51 1531.65 L1216.51 1514.29 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M1256.63 1517.37 Q1253.02 1517.37 1251.19 1520.93 Q1249.38 1524.47 1249.38 1531.6 Q1249.38 1538.71 1251.19 1542.27 Q1253.02 1545.82 1256.63 1545.82 Q1260.26 1545.82 1262.07 1542.27 Q1263.9 1538.71 1263.9 1531.6 Q1263.9 1524.47 1262.07 1520.93 Q1260.26 1517.37 1256.63 1517.37 M1256.63 1513.66 Q1262.44 1513.66 1265.49 1518.27 Q1268.57 1522.85 1268.57 1531.6 Q1268.57 1540.33 1265.49 1544.94 Q1262.44 1549.52 1256.63 1549.52 Q1250.82 1549.52 1247.74 1544.94 Q1244.68 1540.33 1244.68 1531.6 Q1244.68 1522.85 1247.74 1518.27 Q1250.82 1513.66 1256.63 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M1729.99 1514.29 L1752.21 1514.29 L1752.21 1516.28 L1739.67 1548.85 L1734.78 1548.85 L1746.59 1518.22 L1729.99 1518.22 L1729.99 1514.29 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M1761.38 1514.29 L1779.74 1514.29 L1779.74 1518.22 L1765.66 1518.22 L1765.66 1526.7 Q1766.68 1526.35 1767.7 1526.19 Q1768.72 1526 1769.74 1526 Q1775.52 1526 1778.9 1529.17 Q1782.28 1532.34 1782.28 1537.76 Q1782.28 1543.34 1778.81 1546.44 Q1775.34 1549.52 1769.02 1549.52 Q1766.84 1549.52 1764.58 1549.15 Q1762.33 1548.78 1759.92 1548.04 L1759.92 1543.34 Q1762.01 1544.47 1764.23 1545.03 Q1766.45 1545.58 1768.93 1545.58 Q1772.93 1545.58 1775.27 1543.48 Q1777.61 1541.37 1777.61 1537.76 Q1777.61 1534.15 1775.27 1532.04 Q1772.93 1529.94 1768.93 1529.94 Q1767.05 1529.94 1765.18 1530.35 Q1763.33 1530.77 1761.38 1531.65 L1761.38 1514.29 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2230.07 1544.91 L2237.71 1544.91 L2237.71 1518.55 L2229.4 1520.21 L2229.4 1515.95 L2237.66 1514.29 L2242.34 1514.29 L2242.34 1544.91 L2249.98 1544.91 L2249.98 1548.85 L2230.07 1548.85 L2230.07 1544.91 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2269.42 1517.37 Q2265.81 1517.37 2263.98 1520.93 Q2262.18 1524.47 2262.18 1531.6 Q2262.18 1538.71 2263.98 1542.27 Q2265.81 1545.82 2269.42 1545.82 Q2273.06 1545.82 2274.86 1542.27 Q2276.69 1538.71 2276.69 1531.6 Q2276.69 1524.47 2274.86 1520.93 Q2273.06 1517.37 2269.42 1517.37 M2269.42 1513.66 Q2275.23 1513.66 2278.29 1518.27 Q2281.37 1522.85 2281.37 1531.6 Q2281.37 1540.33 2278.29 1544.94 Q2275.23 1549.52 2269.42 1549.52 Q2263.61 1549.52 2260.53 1544.94 Q2257.48 1540.33 2257.48 1531.6 Q2257.48 1522.85 2260.53 1518.27 Q2263.61 1513.66 2269.42 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2299.58 1517.37 Q2295.97 1517.37 2294.14 1520.93 Q2292.34 1524.47 2292.34 1531.6 Q2292.34 1538.71 2294.14 1542.27 Q2295.97 1545.82 2299.58 1545.82 Q2303.22 1545.82 2305.02 1542.27 Q2306.85 1538.71 2306.85 1531.6 Q2306.85 1524.47 2305.02 1520.93 Q2303.22 1517.37 2299.58 1517.37 M2299.58 1513.66 Q2305.39 1513.66 2308.45 1518.27 Q2311.53 1522.85 2311.53 1531.6 Q2311.53 1540.33 2308.45 1544.94 Q2305.39 1549.52 2299.58 1549.52 Q2293.77 1549.52 2290.7 1544.94 Q2287.64 1540.33 2287.64 1531.6 Q2287.64 1522.85 2290.7 1518.27 Q2293.77 1513.66 2299.58 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip822)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="172.015,1447.68 2352.76,1447.68 "/>
<polyline clip-path="url(#clip822)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="172.015,1054.42 2352.76,1054.42 "/>
<polyline clip-path="url(#clip822)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="172.015,661.157 2352.76,661.157 "/>
<polyline clip-path="url(#clip822)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="172.015,267.894 2352.76,267.894 "/>
<polyline clip-path="url(#clip820)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="172.015,1486.45 172.015,47.2441 "/>
<polyline clip-path="url(#clip820)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="172.015,1447.68 190.912,1447.68 "/>
<polyline clip-path="url(#clip820)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="172.015,1054.42 190.912,1054.42 "/>
<polyline clip-path="url(#clip820)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="172.015,661.157 190.912,661.157 "/>
<polyline clip-path="url(#clip820)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="172.015,267.894 190.912,267.894 "/>
<path clip-path="url(#clip820)" d="M124.07 1433.48 Q120.459 1433.48 118.631 1437.05 Q116.825 1440.59 116.825 1447.72 Q116.825 1454.82 118.631 1458.39 Q120.459 1461.93 124.07 1461.93 Q127.705 1461.93 129.51 1458.39 Q131.339 1454.82 131.339 1447.72 Q131.339 1440.59 129.51 1437.05 Q127.705 1433.48 124.07 1433.48 M124.07 1429.78 Q129.881 1429.78 132.936 1434.38 Q136.015 1438.97 136.015 1447.72 Q136.015 1456.44 132.936 1461.05 Q129.881 1465.63 124.07 1465.63 Q118.26 1465.63 115.182 1461.05 Q112.126 1456.44 112.126 1447.72 Q112.126 1438.97 115.182 1434.38 Q118.26 1429.78 124.07 1429.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M57.7745 1067.76 L74.0939 1067.76 L74.0939 1071.7 L52.1495 1071.7 L52.1495 1067.76 Q54.8115 1065.01 59.3949 1060.38 Q64.0013 1055.73 65.1819 1054.38 Q67.4272 1051.86 68.3068 1050.13 Q69.2096 1048.37 69.2096 1046.68 Q69.2096 1043.92 67.2652 1042.19 Q65.3439 1040.45 62.2421 1040.45 Q60.043 1040.45 57.5893 1041.21 Q55.1588 1041.98 52.381 1043.53 L52.381 1038.81 Q55.2051 1037.67 57.6588 1037.09 Q60.1124 1036.51 62.1495 1036.51 Q67.5198 1036.51 70.7142 1039.2 Q73.9087 1041.88 73.9087 1046.38 Q73.9087 1048.51 73.0985 1050.43 Q72.3115 1052.32 70.205 1054.92 Q69.6263 1055.59 66.5245 1058.81 Q63.4226 1062 57.7745 1067.76 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M93.9086 1040.22 Q90.2975 1040.22 88.4688 1043.78 Q86.6632 1047.32 86.6632 1054.45 Q86.6632 1061.56 88.4688 1065.13 Q90.2975 1068.67 93.9086 1068.67 Q97.5428 1068.67 99.3483 1065.13 Q101.177 1061.56 101.177 1054.45 Q101.177 1047.32 99.3483 1043.78 Q97.5428 1040.22 93.9086 1040.22 M93.9086 1036.51 Q99.7187 1036.51 102.774 1041.12 Q105.853 1045.7 105.853 1054.45 Q105.853 1063.18 102.774 1067.79 Q99.7187 1072.37 93.9086 1072.37 Q88.0984 1072.37 85.0197 1067.79 Q81.9642 1063.18 81.9642 1054.45 Q81.9642 1045.7 85.0197 1041.12 Q88.0984 1036.51 93.9086 1036.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M124.07 1040.22 Q120.459 1040.22 118.631 1043.78 Q116.825 1047.32 116.825 1054.45 Q116.825 1061.56 118.631 1065.13 Q120.459 1068.67 124.07 1068.67 Q127.705 1068.67 129.51 1065.13 Q131.339 1061.56 131.339 1054.45 Q131.339 1047.32 129.51 1043.78 Q127.705 1040.22 124.07 1040.22 M124.07 1036.51 Q129.881 1036.51 132.936 1041.12 Q136.015 1045.7 136.015 1054.45 Q136.015 1063.18 132.936 1067.79 Q129.881 1072.37 124.07 1072.37 Q118.26 1072.37 115.182 1067.79 Q112.126 1063.18 112.126 1054.45 Q112.126 1045.7 115.182 1041.12 Q118.26 1036.51 124.07 1036.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M66.5939 647.951 L54.7884 666.4 L66.5939 666.4 L66.5939 647.951 M65.367 643.877 L71.2466 643.877 L71.2466 666.4 L76.1772 666.4 L76.1772 670.289 L71.2466 670.289 L71.2466 678.437 L66.5939 678.437 L66.5939 670.289 L50.9921 670.289 L50.9921 665.775 L65.367 643.877 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M93.9086 646.955 Q90.2975 646.955 88.4688 650.52 Q86.6632 654.062 86.6632 661.191 Q86.6632 668.298 88.4688 671.863 Q90.2975 675.404 93.9086 675.404 Q97.5428 675.404 99.3483 671.863 Q101.177 668.298 101.177 661.191 Q101.177 654.062 99.3483 650.52 Q97.5428 646.955 93.9086 646.955 M93.9086 643.252 Q99.7187 643.252 102.774 647.858 Q105.853 652.441 105.853 661.191 Q105.853 669.918 102.774 674.525 Q99.7187 679.108 93.9086 679.108 Q88.0984 679.108 85.0197 674.525 Q81.9642 669.918 81.9642 661.191 Q81.9642 652.441 85.0197 647.858 Q88.0984 643.252 93.9086 643.252 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M124.07 646.955 Q120.459 646.955 118.631 650.52 Q116.825 654.062 116.825 661.191 Q116.825 668.298 118.631 671.863 Q120.459 675.404 124.07 675.404 Q127.705 675.404 129.51 671.863 Q131.339 668.298 131.339 661.191 Q131.339 654.062 129.51 650.52 Q127.705 646.955 124.07 646.955 M124.07 643.252 Q129.881 643.252 132.936 647.858 Q136.015 652.441 136.015 661.191 Q136.015 669.918 132.936 674.525 Q129.881 679.108 124.07 679.108 Q118.26 679.108 115.182 674.525 Q112.126 669.918 112.126 661.191 Q112.126 652.441 115.182 647.858 Q118.26 643.252 124.07 643.252 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M64.3254 266.031 Q61.1773 266.031 59.3254 268.183 Q57.4967 270.336 57.4967 274.086 Q57.4967 277.813 59.3254 279.989 Q61.1773 282.142 64.3254 282.142 Q67.4735 282.142 69.3022 279.989 Q71.1541 277.813 71.1541 274.086 Q71.1541 270.336 69.3022 268.183 Q67.4735 266.031 64.3254 266.031 M73.6077 251.378 L73.6077 255.637 Q71.8485 254.804 70.0429 254.364 Q68.2606 253.924 66.5013 253.924 Q61.8717 253.924 59.418 257.049 Q56.9875 260.174 56.6402 266.493 Q58.006 264.48 60.0662 263.415 Q62.1263 262.327 64.6032 262.327 Q69.8115 262.327 72.8207 265.498 Q75.8531 268.646 75.8531 274.086 Q75.8531 279.41 72.705 282.628 Q69.5568 285.845 64.3254 285.845 Q58.33 285.845 55.1588 281.262 Q51.9875 276.655 51.9875 267.929 Q51.9875 259.734 55.8764 254.873 Q59.7652 249.989 66.3161 249.989 Q68.0754 249.989 69.8578 250.336 Q71.6633 250.683 73.6077 251.378 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M93.9086 253.693 Q90.2975 253.693 88.4688 257.257 Q86.6632 260.799 86.6632 267.929 Q86.6632 275.035 88.4688 278.6 Q90.2975 282.142 93.9086 282.142 Q97.5428 282.142 99.3483 278.6 Q101.177 275.035 101.177 267.929 Q101.177 260.799 99.3483 257.257 Q97.5428 253.693 93.9086 253.693 M93.9086 249.989 Q99.7187 249.989 102.774 254.595 Q105.853 259.179 105.853 267.929 Q105.853 276.655 102.774 281.262 Q99.7187 285.845 93.9086 285.845 Q88.0984 285.845 85.0197 281.262 Q81.9642 276.655 81.9642 267.929 Q81.9642 259.179 85.0197 254.595 Q88.0984 249.989 93.9086 249.989 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M124.07 253.693 Q120.459 253.693 118.631 257.257 Q116.825 260.799 116.825 267.929 Q116.825 275.035 118.631 278.6 Q120.459 282.142 124.07 282.142 Q127.705 282.142 129.51 278.6 Q131.339 275.035 131.339 267.929 Q131.339 260.799 129.51 257.257 Q127.705 253.693 124.07 253.693 M124.07 249.989 Q129.881 249.989 132.936 254.595 Q136.015 259.179 136.015 267.929 Q136.015 276.655 132.936 281.262 Q129.881 285.845 124.07 285.845 Q118.26 285.845 115.182 281.262 Q112.126 276.655 112.126 267.929 Q112.126 259.179 115.182 254.595 Q118.26 249.989 124.07 249.989 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip822)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="233.734,1439.82 254.307,1439.82 274.88,1437.85 295.453,1435.88 316.026,1435.88 336.599,1435.88 357.172,1435.88 377.745,1437.85 398.318,1437.85 418.891,1437.85 439.464,1437.85 460.037,1437.85 480.61,1437.85 501.183,1435.88 521.756,1433.92 542.329,1433.92 562.902,1433.92 583.475,1433.92 604.048,1433.92 624.621,1433.92 645.194,1433.92 665.768,1431.95 686.341,1431.95 706.914,1429.99 727.487,1426.05 748.06,1426.05 768.633,1426.05 789.206,1428.02 809.779,1428.02 830.352,1429.99 850.925,1431.95 871.498,1435.88 892.071,1433.92 912.644,1435.88 933.217,1433.92 953.79,1435.88 974.363,1433.92 994.936,1429.99 1015.51,1429.99 1036.08,1428.02 1056.66,1429.99 1077.23,1433.92 1097.8,1435.88 1118.37,1439.82 1138.95,1439.82 1159.52,1439.82 1180.09,1437.85 1200.67,1445.72 1221.24,1445.72 1241.81,1445.72 1262.39,1445.72 1282.96,1445.72 1303.53,1445.72 1324.1,1445.72 1344.68,1445.72 1365.25,1445.72 1385.82,1445.72 1406.4,1445.72 1426.97,1445.72 1447.54,1445.72 1468.12,1445.72 1488.69,1445.72 1509.26,1445.72 "/>
<polyline clip-path="url(#clip822)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="233.734,361.884 254.307,218.933 274.88,113.932 295.453,87.9763 316.026,112.948 336.599,163.483 357.172,216.77 377.745,274.973 398.318,311.939 418.891,343.99 439.464,358.148 460.037,347.726 480.61,312.726 501.183,268.287 521.756,224.832 542.329,184.916 562.902,162.106 583.475,152.078 604.048,144.409 624.621,143.623 645.194,154.241 665.768,165.449 686.341,200.449 706.914,226.208 727.487,232.697 748.06,244.888 768.633,235.253 789.206,209.691 809.779,196.124 830.352,192.388 850.925,220.113 871.498,252.36 892.071,274.776 912.644,284.411 933.217,313.512 953.79,318.821 974.363,311.939 994.936,294.243 1015.51,285.591 1036.08,272.81 1056.66,258.259 1077.23,230.927 1097.8,200.646 1118.37,176.46 1138.95,155.224 1159.52,154.831 1180.09,145.983 1200.67,154.438 1221.24,164.269 1241.81,181.376 1262.39,181.18 1282.96,176.854 1303.53,190.421 1324.1,209.888 1344.68,219.916 1365.25,215.197 1385.82,227.781 1406.4,244.691 1426.97,247.051 1447.54,258.849 1468.12,262.585 1488.69,292.473 1509.26,308.203 1529.83,329.44 1550.41,337.501 1570.98,336.912 1591.55,328.063 1612.13,314.889 1632.7,302.501 1653.27,300.731 1673.85,287.557 1694.42,255.31 1714.99,224.438 1735.57,188.258 1756.14,172.724 1776.71,153.455 1797.28,164.859 1817.86,187.472 1838.43,209.298 1859,230.534 1879.58,229.158 1900.15,222.472 1920.72,213.034 1941.3,191.208 1961.87,192.977 1982.44,188.455 2003.01,171.348 2023.59,151.881 2044.16,134.971 2064.73,120.224 2085.31,120.027 2105.88,131.039 2126.45,129.465 2147.03,122.78 2167.6,122.19 2188.17,128.876 2208.74,156.011 2229.32,177.444 2249.89,196.32 2270.46,210.084 2291.04,225.225 "/>
<polyline clip-path="url(#clip822)" style="stroke:#3da44d; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="233.734,1369.03 254.307,1298.24 274.88,1164.53 295.453,1066.22 316.026,1026.89 336.599,1005.26 357.172,1003.3 377.745,999.363 398.318,1038.69 418.891,1044.59 439.464,1081.95 460.037,1137 480.61,1168.47 501.183,1201.89 521.756,1194.03 542.329,1207.79 562.902,1199.93 583.475,1176.33 604.048,1133.07 624.621,1150.77 645.194,1133.07 665.768,1103.58 686.341,1109.48 706.914,1087.85 727.487,1109.48 748.06,1111.44 768.633,1158.63 789.206,1180.26 809.779,1158.63 830.352,1123.24 850.925,1066.22 871.498,1022.96 892.071,1083.91 912.644,1074.08 933.217,1072.12 953.79,1097.68 974.363,1113.41 994.936,1107.51 1015.51,1133.07 1036.08,1158.63 1056.66,1150.77 1077.23,1158.63 1097.8,1188.13 1118.37,1184.2 1138.95,1182.23 1159.52,1144.87 1180.09,1160.6 1200.67,1138.97 1221.24,1119.31 1241.81,1137 1262.39,1156.67 1282.96,1174.36 1303.53,1119.31 1324.1,1111.44 1344.68,1107.51 1365.25,1107.51 1385.82,1095.71 1406.4,1117.34 1426.97,1105.54 1447.54,1099.64 1468.12,1117.34 1488.69,1070.15 1509.26,1038.69 1529.83,1083.91 1550.41,1083.91 1570.98,1048.52 1591.55,1101.61 1612.13,1115.38 1632.7,1105.54 1653.27,1109.48 1673.85,1156.67 1694.42,1162.57 1714.99,1195.99 1735.57,1197.96 1756.14,1207.79 1776.71,1154.7 1797.28,1117.34 1817.86,1064.25 1838.43,1076.05 1859,1113.41 1879.58,1144.87 1900.15,1154.7 1920.72,1146.84 1941.3,1182.23 1961.87,1152.73 1982.44,1158.63 2003.01,1160.6 2023.59,1176.33 2044.16,1180.26 2064.73,1186.16 2085.31,1152.73 2105.88,1154.7 2126.45,1188.13 2147.03,1168.47 2167.6,1186.16 2188.17,1113.41 2208.74,1111.44 2229.32,1087.85 2249.89,1099.64 2270.46,1109.48 2291.04,1125.21 "/>
<path clip-path="url(#clip820)" d="M1919.14 1438.47 L2280.06 1438.47 L2280.06 1231.11 L1919.14 1231.11  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip820)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1919.14,1438.47 2280.06,1438.47 2280.06,1231.11 1919.14,1231.11 1919.14,1438.47 "/>
<polyline clip-path="url(#clip820)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="1943.37,1282.95 2088.76,1282.95 "/>
<path clip-path="url(#clip820)" d="M2112.99 1265.67 L2117.71 1265.67 L2124.98 1294.89 L2132.22 1265.67 L2137.48 1265.67 L2144.75 1294.89 L2151.99 1265.67 L2156.74 1265.67 L2148.06 1300.23 L2142.18 1300.23 L2134.89 1270.23 L2127.52 1300.23 L2121.64 1300.23 L2112.99 1265.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2170.02 1277.29 Q2166.6 1277.29 2164.61 1279.98 Q2162.62 1282.64 2162.62 1287.29 Q2162.62 1291.95 2164.58 1294.63 Q2166.58 1297.29 2170.02 1297.29 Q2173.43 1297.29 2175.42 1294.61 Q2177.41 1291.92 2177.41 1287.29 Q2177.41 1282.69 2175.42 1280 Q2173.43 1277.29 2170.02 1277.29 M2170.02 1273.68 Q2175.58 1273.68 2178.75 1277.29 Q2181.92 1280.91 2181.92 1287.29 Q2181.92 1293.66 2178.75 1297.29 Q2175.58 1300.91 2170.02 1300.91 Q2164.45 1300.91 2161.27 1297.29 Q2158.13 1293.66 2158.13 1287.29 Q2158.13 1280.91 2161.27 1277.29 Q2164.45 1273.68 2170.02 1273.68 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2188.98 1264.22 L2193.24 1264.22 L2193.24 1300.23 L2188.98 1300.23 L2188.98 1264.22 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2215.28 1264.22 L2215.28 1267.76 L2211.2 1267.76 Q2208.91 1267.76 2208.01 1268.68 Q2207.13 1269.61 2207.13 1272.02 L2207.13 1274.31 L2214.14 1274.31 L2214.14 1277.62 L2207.13 1277.62 L2207.13 1300.23 L2202.85 1300.23 L2202.85 1277.62 L2198.77 1277.62 L2198.77 1274.31 L2202.85 1274.31 L2202.85 1272.5 Q2202.85 1268.17 2204.86 1266.21 Q2206.88 1264.22 2211.25 1264.22 L2215.28 1264.22 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip820)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="1943.37,1334.79 2088.76,1334.79 "/>
<path clip-path="url(#clip820)" d="M2138.54 1347.14 L2138.54 1337.86 L2130.9 1337.86 L2130.9 1334.02 L2143.17 1334.02 L2143.17 1348.86 Q2140.46 1350.78 2137.2 1351.77 Q2133.94 1352.75 2130.23 1352.75 Q2122.13 1352.75 2117.55 1348.02 Q2112.99 1343.28 2112.99 1334.83 Q2112.99 1326.36 2117.55 1321.63 Q2122.13 1316.89 2130.23 1316.89 Q2133.61 1316.89 2136.64 1317.72 Q2139.7 1318.56 2142.27 1320.18 L2142.27 1325.15 Q2139.68 1322.95 2136.76 1321.84 Q2133.84 1320.73 2130.63 1320.73 Q2124.28 1320.73 2121.09 1324.27 Q2117.92 1327.82 2117.92 1334.83 Q2117.92 1341.82 2121.09 1345.36 Q2124.28 1348.9 2130.63 1348.9 Q2133.1 1348.9 2135.05 1348.49 Q2136.99 1348.05 2138.54 1347.14 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2166.55 1330.13 Q2165.83 1329.71 2164.98 1329.53 Q2164.14 1329.32 2163.13 1329.32 Q2159.52 1329.32 2157.57 1331.68 Q2155.65 1334.02 2155.65 1338.42 L2155.65 1352.07 L2151.37 1352.07 L2151.37 1326.15 L2155.65 1326.15 L2155.65 1330.18 Q2156.99 1327.82 2159.14 1326.68 Q2161.3 1325.52 2164.38 1325.52 Q2164.82 1325.52 2165.35 1325.59 Q2165.88 1325.64 2166.53 1325.76 L2166.55 1330.13 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2182.8 1339.04 Q2177.64 1339.04 2175.65 1340.22 Q2173.66 1341.4 2173.66 1344.25 Q2173.66 1346.52 2175.14 1347.86 Q2176.64 1349.18 2179.21 1349.18 Q2182.76 1349.18 2184.89 1346.68 Q2187.04 1344.16 2187.04 1339.99 L2187.04 1339.04 L2182.8 1339.04 M2191.3 1337.28 L2191.3 1352.07 L2187.04 1352.07 L2187.04 1348.14 Q2185.58 1350.5 2183.4 1351.63 Q2181.23 1352.75 2178.08 1352.75 Q2174.1 1352.75 2171.74 1350.52 Q2169.4 1348.28 2169.4 1344.53 Q2169.4 1340.15 2172.32 1337.93 Q2175.26 1335.71 2181.07 1335.71 L2187.04 1335.71 L2187.04 1335.29 Q2187.04 1332.35 2185.09 1330.76 Q2183.17 1329.13 2179.68 1329.13 Q2177.45 1329.13 2175.35 1329.67 Q2173.24 1330.2 2171.3 1331.26 L2171.3 1327.33 Q2173.64 1326.43 2175.83 1325.99 Q2178.03 1325.52 2180.12 1325.52 Q2185.74 1325.52 2188.52 1328.44 Q2191.3 1331.36 2191.3 1337.28 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2216.6 1326.91 L2216.6 1330.94 Q2214.79 1330.01 2212.85 1329.55 Q2210.9 1329.09 2208.82 1329.09 Q2205.65 1329.09 2204.05 1330.06 Q2202.48 1331.03 2202.48 1332.98 Q2202.48 1334.46 2203.61 1335.32 Q2204.75 1336.15 2208.17 1336.91 L2209.63 1337.24 Q2214.17 1338.21 2216.07 1339.99 Q2217.99 1341.75 2217.99 1344.92 Q2217.99 1348.53 2215.12 1350.64 Q2212.27 1352.75 2207.27 1352.75 Q2205.19 1352.75 2202.92 1352.33 Q2200.67 1351.94 2198.17 1351.13 L2198.17 1346.73 Q2200.53 1347.95 2202.83 1348.58 Q2205.12 1349.18 2207.36 1349.18 Q2210.37 1349.18 2211.99 1348.16 Q2213.61 1347.12 2213.61 1345.25 Q2213.61 1343.51 2212.43 1342.58 Q2211.27 1341.66 2207.32 1340.8 L2205.83 1340.45 Q2201.88 1339.62 2200.12 1337.91 Q2198.36 1336.17 2198.36 1333.16 Q2198.36 1329.51 2200.95 1327.51 Q2203.54 1325.52 2208.31 1325.52 Q2210.67 1325.52 2212.76 1325.87 Q2214.84 1326.22 2216.6 1326.91 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2241.3 1326.91 L2241.3 1330.94 Q2239.49 1330.01 2237.55 1329.55 Q2235.6 1329.09 2233.52 1329.09 Q2230.35 1329.09 2228.75 1330.06 Q2227.18 1331.03 2227.18 1332.98 Q2227.18 1334.46 2228.31 1335.32 Q2229.45 1336.15 2232.87 1336.91 L2234.33 1337.24 Q2238.87 1338.21 2240.76 1339.99 Q2242.69 1341.75 2242.69 1344.92 Q2242.69 1348.53 2239.82 1350.64 Q2236.97 1352.75 2231.97 1352.75 Q2229.89 1352.75 2227.62 1352.33 Q2225.37 1351.94 2222.87 1351.13 L2222.87 1346.73 Q2225.23 1347.95 2227.52 1348.58 Q2229.82 1349.18 2232.06 1349.18 Q2235.07 1349.18 2236.69 1348.16 Q2238.31 1347.12 2238.31 1345.25 Q2238.31 1343.51 2237.13 1342.58 Q2235.97 1341.66 2232.01 1340.8 L2230.53 1340.45 Q2226.57 1339.62 2224.82 1337.91 Q2223.06 1336.17 2223.06 1333.16 Q2223.06 1329.51 2225.65 1327.51 Q2228.24 1325.52 2233.01 1325.52 Q2235.37 1325.52 2237.45 1325.87 Q2239.54 1326.22 2241.3 1326.91 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip820)" style="stroke:#3da44d; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="1943.37,1386.63 2088.76,1386.63 "/>
<path clip-path="url(#clip820)" d="M2135.23 1370.49 L2135.23 1375.05 Q2132.57 1373.78 2130.21 1373.15 Q2127.85 1372.53 2125.65 1372.53 Q2121.83 1372.53 2119.75 1374.01 Q2117.69 1375.49 2117.69 1378.22 Q2117.69 1380.51 2119.05 1381.69 Q2120.44 1382.85 2124.28 1383.57 L2127.11 1384.15 Q2132.34 1385.14 2134.82 1387.66 Q2137.32 1390.16 2137.32 1394.38 Q2137.32 1399.4 2133.94 1401.99 Q2130.58 1404.59 2124.08 1404.59 Q2121.62 1404.59 2118.84 1404.03 Q2116.09 1403.47 2113.13 1402.39 L2113.13 1397.57 Q2115.97 1399.17 2118.71 1399.98 Q2121.44 1400.79 2124.08 1400.79 Q2128.08 1400.79 2130.26 1399.22 Q2132.43 1397.64 2132.43 1394.72 Q2132.43 1392.18 2130.86 1390.74 Q2129.31 1389.31 2125.74 1388.59 L2122.89 1388.03 Q2117.66 1386.99 2115.33 1384.77 Q2112.99 1382.55 2112.99 1378.59 Q2112.99 1374.01 2116.21 1371.37 Q2119.45 1368.73 2125.12 1368.73 Q2127.55 1368.73 2130.07 1369.17 Q2132.59 1369.61 2135.23 1370.49 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2165.97 1388.27 L2165.97 1403.91 L2161.71 1403.91 L2161.71 1388.41 Q2161.71 1384.72 2160.28 1382.9 Q2158.84 1381.07 2155.97 1381.07 Q2152.52 1381.07 2150.53 1383.27 Q2148.54 1385.47 2148.54 1389.26 L2148.54 1403.91 L2144.26 1403.91 L2144.26 1367.9 L2148.54 1367.9 L2148.54 1382.02 Q2150.07 1379.68 2152.13 1378.52 Q2154.21 1377.36 2156.92 1377.36 Q2161.39 1377.36 2163.68 1380.14 Q2165.97 1382.9 2165.97 1388.27 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2196.64 1389.89 L2196.64 1391.97 L2177.06 1391.97 Q2177.34 1396.37 2179.7 1398.68 Q2182.08 1400.97 2186.32 1400.97 Q2188.77 1400.97 2191.07 1400.37 Q2193.38 1399.77 2195.65 1398.57 L2195.65 1402.59 Q2193.36 1403.57 2190.95 1404.08 Q2188.54 1404.59 2186.07 1404.59 Q2179.86 1404.59 2176.23 1400.97 Q2172.62 1397.36 2172.62 1391.21 Q2172.62 1384.84 2176.04 1381.11 Q2179.49 1377.36 2185.33 1377.36 Q2190.56 1377.36 2193.59 1380.74 Q2196.64 1384.1 2196.64 1389.89 M2192.39 1388.64 Q2192.34 1385.14 2190.42 1383.06 Q2188.52 1380.97 2185.37 1380.97 Q2181.81 1380.97 2179.65 1382.99 Q2177.52 1385 2177.2 1388.66 L2192.39 1388.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2225.81 1389.89 L2225.81 1391.97 L2206.23 1391.97 Q2206.51 1396.37 2208.87 1398.68 Q2211.25 1400.97 2215.49 1400.97 Q2217.94 1400.97 2220.23 1400.37 Q2222.55 1399.77 2224.82 1398.57 L2224.82 1402.59 Q2222.52 1403.57 2220.12 1404.08 Q2217.71 1404.59 2215.23 1404.59 Q2209.03 1404.59 2205.39 1400.97 Q2201.78 1397.36 2201.78 1391.21 Q2201.78 1384.84 2205.21 1381.11 Q2208.66 1377.36 2214.49 1377.36 Q2219.72 1377.36 2222.76 1380.74 Q2225.81 1384.1 2225.81 1389.89 M2221.55 1388.64 Q2221.51 1385.14 2219.58 1383.06 Q2217.69 1380.97 2214.54 1380.97 Q2210.97 1380.97 2208.82 1382.99 Q2206.69 1385 2206.37 1388.66 L2221.55 1388.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip820)" d="M2236.92 1400.03 L2236.92 1413.78 L2232.64 1413.78 L2232.64 1377.99 L2236.92 1377.99 L2236.92 1381.92 Q2238.26 1379.61 2240.3 1378.5 Q2242.36 1377.36 2245.21 1377.36 Q2249.93 1377.36 2252.87 1381.11 Q2255.83 1384.86 2255.83 1390.97 Q2255.83 1397.09 2252.87 1400.84 Q2249.93 1404.59 2245.21 1404.59 Q2242.36 1404.59 2240.3 1403.47 Q2238.26 1402.34 2236.92 1400.03 M2251.41 1390.97 Q2251.41 1386.28 2249.47 1383.61 Q2247.55 1380.93 2244.17 1380.93 Q2240.79 1380.93 2238.84 1383.61 Q2236.92 1386.28 2236.92 1390.97 Q2236.92 1395.67 2238.84 1398.36 Q2240.79 1401.02 2244.17 1401.02 Q2247.55 1401.02 2249.47 1398.36 Q2251.41 1395.67 2251.41 1390.97 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /></svg>
<h2 id="Package:-Ecosystem.jl"><a class="docs-heading-anchor" href="#Package:-Ecosystem.jl">Package: <code>Ecosystem.jl</code></a><a id="Package:-Ecosystem.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Package:-Ecosystem.jl" title="Permalink"></a></h2><p>In the main section of this lab you will create your own <code>Ecosystem.jl</code> package to organize <em>and test (!)</em> the code that we have written so far.</p><h3 id="PkgTemplates.jl"><a class="docs-heading-anchor" href="#PkgTemplates.jl"><code>PkgTemplates.jl</code></a><a id="PkgTemplates.jl-1"></a><a class="docs-heading-anchor-permalink" href="#PkgTemplates.jl" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>The simplest way to create a new package in Julia is to use <code>PkgTemplates.jl</code>. <code>]add PkgTemplates</code> to your global julia env and create a new package by running:</p><pre><code class="language-julia hljs">using PkgTemplates
Template(interactive=true)(&quot;Ecosystem&quot;)</code></pre><p>to interactively specify various options for your new package or use the following snippet to generate it programmatically:</p><pre><code class="language-julia hljs">using PkgTemplates

# define the package template
template = Template(;
    user = &quot;GithubUserName&quot;,            # github user name
    authors = [&quot;Author1&quot;, &quot;Author2&quot;],   # list of authors
    dir = &quot;/path/to/folder/&quot;,           # dir in which the package will be created
    julia = v&quot;1.8&quot;,                     # compat version of Julia
    plugins = [
        !CompatHelper,                  # disable CompatHelper
        !TagBot,                        # disable TagBot
        Readme(; inline_badges = true), # added readme file with badges
        Tests(; project = true),        # added Project.toml file for unit tests
        Git(; manifest = false),        # add manifest.toml to .gitignore
        License(; name = &quot;MIT&quot;)         # addedMIT licence
    ],
)

# execute the package template (this creates all files/folders)
template(&quot;Ecosystem&quot;)</code></pre></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><p>This should have created a new folder <code>Ecosystem</code> which looks like below.</p><pre><code class="nohighlight hljs">.
├── LICENSE
├── Project.toml
├── README.md
├── src
│   └── Ecosystem.jl
└── test
    ├── Manifest.toml
    ├── Project.toml
    └── runtests.jl</code></pre><p>If you <code>]activate /path/to/Ecosystem</code> you should be able to run <code>]test</code> to run the autogenerated test (which is not doing anything) and get the following output:</p><pre><code class="nohighlight hljs">(Ecosystem) pkg&gt; test
     Testing Ecosystem
      Status `/private/var/folders/6h/l9_skfms2v3dt8z3zfnd2jr00000gn/T/jl_zd5Uai/Project.toml`
  [e77cd98c] Ecosystem v0.1.0 `~/repos/Ecosystem`
  [8dfed614] Test `@stdlib/Test`
      Status `/private/var/folders/6h/l9_skfms2v3dt8z3zfnd2jr00000gn/T/jl_zd5Uai/Manifest.toml`
  [e77cd98c] Ecosystem v0.1.0 `~/repos/Ecosystem`
  [2a0f44e3] Base64 `@stdlib/Base64`
  [b77e0a4c] InteractiveUtils `@stdlib/InteractiveUtils`
  [56ddb016] Logging `@stdlib/Logging`
  [d6f4376e] Markdown `@stdlib/Markdown`
  [9a3f8284] Random `@stdlib/Random`
  [ea8e919c] SHA v0.7.0 `@stdlib/SHA`
  [9e88b42a] Serialization `@stdlib/Serialization`
  [8dfed614] Test `@stdlib/Test`
     Testing Running tests...
Test Summary: |Time
Ecosystem.jl  | None  0.0s
     Testing Ecosystem tests passed </code></pre></p></details><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>From now on make sure that you <strong>always</strong> have the <code>Ecosystem</code> enviroment enabled. Otherwise you will not end up with the correct dependencies in your packages</p></div></div><h3 id="Adding-content-to-Ecosystem.jl"><a class="docs-heading-anchor" href="#Adding-content-to-Ecosystem.jl">Adding content to <code>Ecosystem.jl</code></a><a id="Adding-content-to-Ecosystem.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-content-to-Ecosystem.jl" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>Next, let&#39;s add the types and functions we have defined so far. You can use <code>include(&quot;path/to/file.jl&quot;)</code> in the main module file at <code>src/Ecosystem.jl</code> to bring some structure in your code. An exemplary file structure could look like below.</p><pre><code class="nohighlight hljs">.
├── LICENSE
├── Manifest.toml
├── Project.toml
├── README.md
├── src
│   ├── Ecosystem.jl
│   ├── animal.jl
│   ├── plant.jl
│   └── world.jl
└── test
    └── runtests.jl</code></pre><p>While you are adding functionality to your package you can make great use of <code>Revise.jl</code>.  Loading <code>Revise.jl</code> before your <code>Ecosystem.jl</code> will automatically recompile (and invalidate old methods!) while you develop.  You can install it in your global environment and and create a <code>$HOME/.config/startup.jl</code> which always loads <code>Revise</code>. It can look like this:</p><pre><code class="language-julia hljs"># try/catch block to make sure you can start julia if Revise should not be installed
try
    using Revise
catch e
    @warn(e.msg)
end</code></pre></div></div><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>At some point along the way you should run into problems with the <code>sample</code> functions or when trying <code>using StatsBase</code>. This is normal, because you have not added the package to the <code>Ecosystem</code> environment yet. Adding it is as easy as <code>]add StatsBase</code>. Your <code>Ecosystem</code> environment should now look like this:</p><pre><code class="nohighlight hljs">(Ecosystem) pkg&gt; status
Project Ecosystem v0.1.0
Status `~/repos/Ecosystem/Project.toml`
  [2913bbd2] StatsBase v0.33.21</code></pre></div></div><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>In order to use your new types/functions like below</p><pre><code class="language-julia hljs">using Ecosystem

Sheep(2)</code></pre><p>you have to <code>export</code> them from your module. Add exports for all important types and functions.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs"># src/Ecosystem.jl
module Ecosystem

using StatsBase

export World
export Species, PlantSpecies, AnimalSpecies, Grass, Sheep, Wolf
export Agent, Plant, Animal
export agent_step!, eat!, eats, find_food, reproduce!, world_step!, agent_count

# ....

end</code></pre></p></details><h3 id="Unit-tests"><a class="docs-heading-anchor" href="#Unit-tests">Unit tests</a><a id="Unit-tests-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-tests" title="Permalink"></a></h3><p>Every package should have tests which verify the correctness of your implementation, such that you can make changes to your codebase and remain confident that you did not break anything.</p><p>Julia&#39;s <code>Test</code> package provides you functionality to easily write <a href="https://docs.julialang.org/en/v1/stdlib/Test/">unit tests</a>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>In the file <code>test/runtests.jl</code>, create a new <code>@testset</code> and write three <code>@test</code>s which check that the <code>show</code> methods we defined for <code>Grass</code>, <code>Sheep</code>, and <code>Wolf</code> work as expected.</p><p>The function <code>repr(x) == &quot;some string&quot;</code> to check if the string representation we defined in the <code>Base.show</code> overload returns what you expect.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; # using Ecosystem
       using Test</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @testset &quot;Base.show&quot; begin
           g = Grass(1,1,1)
           s = Animal{Sheep}(2,1,1,1,1,male)
           w = Animal{Wolf}(3,1,1,1,1,female)
           @test repr(g) == &quot;🌿  #1 100% grown&quot;
           @test repr(s) == &quot;🐑♂ #2 E=1.0 ΔE=1.0 pr=1.0 pf=1.0&quot;
           @test repr(w) == &quot;🐺♀ #3 E=1.0 ΔE=1.0 pr=1.0 pf=1.0&quot;
       end</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">Test Summary: | <span class="sgr32">Pass  </span><span class="sgr36">Total  </span>Time</span>
Base.show     | <span class="sgr32">   3  </span><span class="sgr36">    3  </span>0.3s
Test.DefaultTestSet(&quot;Base.show&quot;, Any[], 3, false, false, true, 1.697714533617526e9, 1.697714533939872e9, false)</code></pre></p></details><h3 id="Github-CI"><a class="docs-heading-anchor" href="#Github-CI">Github CI</a><a id="Github-CI-1"></a><a class="docs-heading-anchor-permalink" href="#Github-CI" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>If you want you can upload you package to Github and add the <code>julia-runtest</code> <a href="https://github.com/julia-actions/julia-runtest">Github Action</a> to automatically test your code for every new push you make to the repository.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../lecture/">« Lecture</a><a class="docs-footer-nextpage" href="../hw/">Homework »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 19 October 2023 11:22">Thursday 19 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
