<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lab · Scientific Programming in Julia</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://JuliaTeachingCTU.github.io/Scientific-Programming-in-Julia/lecture_04/lab/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../assets/onlinestats.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="Scientific Programming in Julia logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="Scientific Programming in Julia logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Scientific Programming in Julia</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation/">Installation</a></li><li><a class="tocitem" href="../../projects/">Projects</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">1: Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_01/motivation/">Motivation</a></li><li><a class="tocitem" href="../../lecture_01/basics/">Basics</a></li><li><a class="tocitem" href="../../lecture_01/demo/">Examples</a></li><li><a class="tocitem" href="../../lecture_01/outline/">Outline</a></li><li><a class="tocitem" href="../../lecture_01/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_01/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">2: The power of Type System &amp; multiple dispatch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_02/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_02/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_02/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">3: Design Patterns</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_03/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_03/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_03/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox" checked/><label class="tocitem" for="menuitem-7"><span class="docs-label">4: Package development, Unit test &amp; CI</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../lecture/">Lecture</a></li><li class="is-active"><a class="tocitem" href>Lab</a><ul class="internal"><li><a class="tocitem" href="#Warmup-Stepping-through-time"><span>Warmup - Stepping through time</span></a></li><li><a class="tocitem" href="#Package:-Ecosystem.jl"><span>Package: <code>Ecosystem.jl</code></span></a></li></ul></li><li><a class="tocitem" href="../hw/">Homework</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">4: Package development, Unit test &amp; CI</a></li><li class="is-active"><a href>Lab</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Lab</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaTeachingCTU/Scientific-Programming-in-Julia/blob/2022W/docs/src/lecture_04/lab.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Lab-04:-Packaging"><a class="docs-heading-anchor" href="#Lab-04:-Packaging">Lab 04: Packaging</a><a id="Lab-04:-Packaging-1"></a><a class="docs-heading-anchor-permalink" href="#Lab-04:-Packaging" title="Permalink"></a></h1><h2 id="Warmup-Stepping-through-time"><a class="docs-heading-anchor" href="#Warmup-Stepping-through-time">Warmup - Stepping through time</a><a id="Warmup-Stepping-through-time-1"></a><a class="docs-heading-anchor-permalink" href="#Warmup-Stepping-through-time" title="Permalink"></a></h2><p>We now have all necessary functions in place to make agents perform one step of our simulation.  At the beginning of each step an animal looses energy. Afterwards it tries to find some food, which it will subsequently eat. If the animal then has less than zero energy it dies and is removed from the world. If it has positive energy it will try to reproduce.</p><p>Plants have a simpler life. They simply grow if they have not reached their maximal size.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><ol><li>Implement a method <code>agent_step!(::Animal,::World)</code> which performs the following steps:<ul><li>Decrement <span>$E$</span> of agent by <code>1.0</code>.</li><li>With <span>$p_f$</span>, try to find some food and eat it.</li><li>If <span>$E&lt;0$</span>, the animal dies.</li><li>With <span>$p_r$</span>, try to reproduce.</li></ul></li><li>Implement a method <code>agent_step!(::Plant,::World)</code> which performs the following steps:<ul><li>If the size of the plant is smaller than <code>max_size</code>, increment the plant&#39;s size by one.</li></ul></li></ol></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function agent_step!(p::Plant, w::World)
    if p.size &lt; p.max_size
        p.size += 1
    end
end

function agent_step!(a::Animal, w::World)
    a.energy -= 1
    if rand() &lt;= a.foodprob
        dinner = find_food(a,w)
        eat!(a, dinner, w)
    end
    if a.energy &lt; 0
        kill_agent!(a,w)
        return
    end
    if rand() &lt;= a.reprprob
        reproduce!(a,w)
    end
end</code></pre></p></details><p>An <code>agent_step!</code> of a sheep in a world with a single grass should make it consume the grass, let it reproduce, and eventually die if there is no more food and its energy is at zero:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; sheep = Sheep(1,2.0,2.0,1.0,1.0,male);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; grass = Grass(2,2,2);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world = World([sheep, grass])</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Agent}
  🌿  #2 100% grown
  🐑♂ #1 E=2.0 ΔE=2.0 pr=1.0 pf=1.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; agent_step!(sheep, world); world</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Agent}
  🌿  #2 0% grown
  🐑♂ #1 E=5.0 ΔE=2.0 pr=1.0 pf=1.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; # NOTE: The second agent step leads to an error.
       # Can you figure out what is the problem here?
       agent_step!(sheep, world); world</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: MethodError: no method matching eat!(::Main.Animal{🐑}, ::Nothing, ::Main.World{Main.Agent})
Closest candidates are:
  eat!(::Main.Animal{🐑}, <span class="sgr91">::Main.Plant{🌿}</span>, ::Main.World) at ~/work/Scientific-Programming-in-Julia/Scientific-Programming-in-Julia/docs/src/lecture_03/Lab03Ecosystem.jl:106
  eat!(<span class="sgr91">::Main.Animal{🐺}</span>, <span class="sgr91">::Main.Animal{🐑}</span>, ::Main.World) at ~/work/Scientific-Programming-in-Julia/Scientific-Programming-in-Julia/docs/src/lecture_03/Lab03Ecosystem.jl:110</code></pre><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>Finally, lets implement a function <code>world_step!</code> which performs one <code>agent_step!</code> for each agent.  Note that simply iterating over all agents could lead to problems because we are mutating the agent dictionary.  One solution for this is to iterate over a copy of all agent IDs that are present when starting to iterate over agents.  Additionally, it could happen that an agent is killed by another one before we apply <code>agent_step!</code> to it. To solve this you can check if a given ID is currently present in the <code>World</code>.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs"># make it possible to eat nothing
eat!(::Animal, ::Nothing, ::World) = nothing

function world_step!(world::World)
    # make sure that we only iterate over IDs that already exist in the
    # current timestep this lets us safely add agents
    ids = copy(keys(world.agents))

    for id in ids
        # agents can be killed by other agents, so make sure that we are
        # not stepping dead agents forward
        !haskey(world.agents,id) &amp;&amp; continue

        a = world.agents[id]
        agent_step!(a,world)
    end
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">world_step! (generic function with 1 method)</code></pre></p></details><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; w = World([Sheep(1), Sheep(2), Wolf(3)])</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐑♂ #2 E=4.0 ΔE=0.2 pr=0.8 pf=0.6
  🐺♀ #3 E=10.0 ΔE=8.0 pr=0.1 pf=0.2
  🐑♂ #1 E=4.0 ΔE=0.2 pr=0.8 pf=0.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐑♂ #2 E=3.0 ΔE=0.2 pr=0.8 pf=0.6
  🐺♀ #3 E=41.0 ΔE=8.0 pr=0.1 pf=0.2</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐑♂ #2 E=2.0 ΔE=0.2 pr=0.8 pf=0.6
  🐺♀ #3 E=40.0 ΔE=8.0 pr=0.1 pf=0.2</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐺♀ #3 E=47.0 ΔE=8.0 pr=0.1 pf=0.2</code></pre><p>Finally, lets run a few simulation steps and plot the solution</p><pre><code class="language-julia hljs">n_grass  = 1_000
n_sheep  = 40
n_wolves = 4

gs = [Grass(id) for id in 1:n_grass]
ss = [Sheep(id) for id in (n_grass+1):(n_grass+n_sheep)]
ws = [Wolf(id) for id in (n_grass+n_sheep+1):(n_grass+n_sheep+n_wolves)]
w  = World(vcat(gs,ss,ws))

counts = Dict(n=&gt;[c] for (n,c) in agent_count(w))
for _ in 1:100
    world_step!(w)
    for (n,c) in agent_count(w)
        push!(counts[n],c)
    end
end

using Plots
plt = plot()
tolabel(::Type{Animal{Sheep}}) = &quot;Sheep&quot;
tolabel(::Type{Animal{Wolf}}) = &quot;Wolf&quot;
tolabel(::Type{Plant{Grass}}) = &quot;Grass&quot;
for (A,c) in counts
    plot!(plt, c, label=tolabel(A), lw=2)
end
plt</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip810">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip810)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip811">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip810)" d="
M172.015 1486.45 L2352.76 1486.45 L2352.76 47.2441 L172.015 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip812">
    <rect x="172" y="47" width="2182" height="1440"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip812)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  213.161,1486.45 213.161,47.2441 
  "/>
<polyline clip-path="url(#clip812)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  727.487,1486.45 727.487,47.2441 
  "/>
<polyline clip-path="url(#clip812)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1241.81,1486.45 1241.81,47.2441 
  "/>
<polyline clip-path="url(#clip812)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1756.14,1486.45 1756.14,47.2441 
  "/>
<polyline clip-path="url(#clip812)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2270.46,1486.45 2270.46,47.2441 
  "/>
<polyline clip-path="url(#clip810)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1486.45 2352.76,1486.45 
  "/>
<polyline clip-path="url(#clip810)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  213.161,1486.45 213.161,1467.55 
  "/>
<polyline clip-path="url(#clip810)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  727.487,1486.45 727.487,1467.55 
  "/>
<polyline clip-path="url(#clip810)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1241.81,1486.45 1241.81,1467.55 
  "/>
<polyline clip-path="url(#clip810)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1756.14,1486.45 1756.14,1467.55 
  "/>
<polyline clip-path="url(#clip810)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  2270.46,1486.45 2270.46,1467.55 
  "/>
<path clip-path="url(#clip810)" d="M213.161 1517.37 Q209.55 1517.37 207.721 1520.93 Q205.916 1524.47 205.916 1531.6 Q205.916 1538.71 207.721 1542.27 Q209.55 1545.82 213.161 1545.82 Q216.795 1545.82 218.601 1542.27 Q220.429 1538.71 220.429 1531.6 Q220.429 1524.47 218.601 1520.93 Q216.795 1517.37 213.161 1517.37 M213.161 1513.66 Q218.971 1513.66 222.027 1518.27 Q225.105 1522.85 225.105 1531.6 Q225.105 1540.33 222.027 1544.94 Q218.971 1549.52 213.161 1549.52 Q207.351 1549.52 204.272 1544.94 Q201.216 1540.33 201.216 1531.6 Q201.216 1522.85 204.272 1518.27 Q207.351 1513.66 213.161 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M706.758 1544.91 L723.077 1544.91 L723.077 1548.85 L701.133 1548.85 L701.133 1544.91 Q703.795 1542.16 708.378 1537.53 Q712.984 1532.88 714.165 1531.53 Q716.41 1529.01 717.29 1527.27 Q718.193 1525.51 718.193 1523.82 Q718.193 1521.07 716.248 1519.33 Q714.327 1517.6 711.225 1517.6 Q709.026 1517.6 706.572 1518.36 Q704.142 1519.13 701.364 1520.68 L701.364 1515.95 Q704.188 1514.82 706.642 1514.24 Q709.095 1513.66 711.133 1513.66 Q716.503 1513.66 719.697 1516.35 Q722.892 1519.03 722.892 1523.52 Q722.892 1525.65 722.082 1527.57 Q721.295 1529.47 719.188 1532.07 Q718.609 1532.74 715.508 1535.95 Q712.406 1539.15 706.758 1544.91 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M732.938 1514.29 L751.294 1514.29 L751.294 1518.22 L737.22 1518.22 L737.22 1526.7 Q738.239 1526.35 739.257 1526.19 Q740.276 1526 741.294 1526 Q747.081 1526 750.461 1529.17 Q753.841 1532.34 753.841 1537.76 Q753.841 1543.34 750.368 1546.44 Q746.896 1549.52 740.577 1549.52 Q738.401 1549.52 736.132 1549.15 Q733.887 1548.78 731.48 1548.04 L731.48 1543.34 Q733.563 1544.47 735.785 1545.03 Q738.007 1545.58 740.484 1545.58 Q744.489 1545.58 746.827 1543.48 Q749.165 1541.37 749.165 1537.76 Q749.165 1534.15 746.827 1532.04 Q744.489 1529.94 740.484 1529.94 Q738.609 1529.94 736.734 1530.35 Q734.882 1530.77 732.938 1531.65 L732.938 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M1216.51 1514.29 L1234.87 1514.29 L1234.87 1518.22 L1220.79 1518.22 L1220.79 1526.7 Q1221.81 1526.35 1222.83 1526.19 Q1223.85 1526 1224.87 1526 Q1230.65 1526 1234.03 1529.17 Q1237.41 1532.34 1237.41 1537.76 Q1237.41 1543.34 1233.94 1546.44 Q1230.47 1549.52 1224.15 1549.52 Q1221.97 1549.52 1219.71 1549.15 Q1217.46 1548.78 1215.05 1548.04 L1215.05 1543.34 Q1217.14 1544.47 1219.36 1545.03 Q1221.58 1545.58 1224.06 1545.58 Q1228.06 1545.58 1230.4 1543.48 Q1232.74 1541.37 1232.74 1537.76 Q1232.74 1534.15 1230.4 1532.04 Q1228.06 1529.94 1224.06 1529.94 Q1222.18 1529.94 1220.31 1530.35 Q1218.46 1530.77 1216.51 1531.65 L1216.51 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M1256.63 1517.37 Q1253.02 1517.37 1251.19 1520.93 Q1249.38 1524.47 1249.38 1531.6 Q1249.38 1538.71 1251.19 1542.27 Q1253.02 1545.82 1256.63 1545.82 Q1260.26 1545.82 1262.07 1542.27 Q1263.9 1538.71 1263.9 1531.6 Q1263.9 1524.47 1262.07 1520.93 Q1260.26 1517.37 1256.63 1517.37 M1256.63 1513.66 Q1262.44 1513.66 1265.49 1518.27 Q1268.57 1522.85 1268.57 1531.6 Q1268.57 1540.33 1265.49 1544.94 Q1262.44 1549.52 1256.63 1549.52 Q1250.82 1549.52 1247.74 1544.94 Q1244.68 1540.33 1244.68 1531.6 Q1244.68 1522.85 1247.74 1518.27 Q1250.82 1513.66 1256.63 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M1729.99 1514.29 L1752.21 1514.29 L1752.21 1516.28 L1739.67 1548.85 L1734.78 1548.85 L1746.59 1518.22 L1729.99 1518.22 L1729.99 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M1761.38 1514.29 L1779.74 1514.29 L1779.74 1518.22 L1765.66 1518.22 L1765.66 1526.7 Q1766.68 1526.35 1767.7 1526.19 Q1768.72 1526 1769.74 1526 Q1775.52 1526 1778.9 1529.17 Q1782.28 1532.34 1782.28 1537.76 Q1782.28 1543.34 1778.81 1546.44 Q1775.34 1549.52 1769.02 1549.52 Q1766.84 1549.52 1764.58 1549.15 Q1762.33 1548.78 1759.92 1548.04 L1759.92 1543.34 Q1762.01 1544.47 1764.23 1545.03 Q1766.45 1545.58 1768.93 1545.58 Q1772.93 1545.58 1775.27 1543.48 Q1777.61 1541.37 1777.61 1537.76 Q1777.61 1534.15 1775.27 1532.04 Q1772.93 1529.94 1768.93 1529.94 Q1767.05 1529.94 1765.18 1530.35 Q1763.33 1530.77 1761.38 1531.65 L1761.38 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2230.07 1544.91 L2237.71 1544.91 L2237.71 1518.55 L2229.4 1520.21 L2229.4 1515.95 L2237.66 1514.29 L2242.34 1514.29 L2242.34 1544.91 L2249.98 1544.91 L2249.98 1548.85 L2230.07 1548.85 L2230.07 1544.91 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2269.42 1517.37 Q2265.81 1517.37 2263.98 1520.93 Q2262.18 1524.47 2262.18 1531.6 Q2262.18 1538.71 2263.98 1542.27 Q2265.81 1545.82 2269.42 1545.82 Q2273.06 1545.82 2274.86 1542.27 Q2276.69 1538.71 2276.69 1531.6 Q2276.69 1524.47 2274.86 1520.93 Q2273.06 1517.37 2269.42 1517.37 M2269.42 1513.66 Q2275.23 1513.66 2278.29 1518.27 Q2281.37 1522.85 2281.37 1531.6 Q2281.37 1540.33 2278.29 1544.94 Q2275.23 1549.52 2269.42 1549.52 Q2263.61 1549.52 2260.53 1544.94 Q2257.48 1540.33 2257.48 1531.6 Q2257.48 1522.85 2260.53 1518.27 Q2263.61 1513.66 2269.42 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2299.58 1517.37 Q2295.97 1517.37 2294.14 1520.93 Q2292.34 1524.47 2292.34 1531.6 Q2292.34 1538.71 2294.14 1542.27 Q2295.97 1545.82 2299.58 1545.82 Q2303.22 1545.82 2305.02 1542.27 Q2306.85 1538.71 2306.85 1531.6 Q2306.85 1524.47 2305.02 1520.93 Q2303.22 1517.37 2299.58 1517.37 M2299.58 1513.66 Q2305.39 1513.66 2308.45 1518.27 Q2311.53 1522.85 2311.53 1531.6 Q2311.53 1540.33 2308.45 1544.94 Q2305.39 1549.52 2299.58 1549.52 Q2293.77 1549.52 2290.7 1544.94 Q2287.64 1540.33 2287.64 1531.6 Q2287.64 1522.85 2290.7 1518.27 Q2293.77 1513.66 2299.58 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip812)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,1451.2 2352.76,1451.2 
  "/>
<polyline clip-path="url(#clip812)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,1085.77 2352.76,1085.77 
  "/>
<polyline clip-path="url(#clip812)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,720.346 2352.76,720.346 
  "/>
<polyline clip-path="url(#clip812)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,354.92 2352.76,354.92 
  "/>
<polyline clip-path="url(#clip810)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1486.45 172.015,47.2441 
  "/>
<polyline clip-path="url(#clip810)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1451.2 190.912,1451.2 
  "/>
<polyline clip-path="url(#clip810)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1085.77 190.912,1085.77 
  "/>
<polyline clip-path="url(#clip810)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,720.346 190.912,720.346 
  "/>
<polyline clip-path="url(#clip810)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,354.92 190.912,354.92 
  "/>
<path clip-path="url(#clip810)" d="M124.07 1437 Q120.459 1437 118.631 1440.56 Q116.825 1444.1 116.825 1451.23 Q116.825 1458.34 118.631 1461.9 Q120.459 1465.44 124.07 1465.44 Q127.705 1465.44 129.51 1461.9 Q131.339 1458.34 131.339 1451.23 Q131.339 1444.1 129.51 1440.56 Q127.705 1437 124.07 1437 M124.07 1433.29 Q129.881 1433.29 132.936 1437.9 Q136.015 1442.48 136.015 1451.23 Q136.015 1459.96 132.936 1464.57 Q129.881 1469.15 124.07 1469.15 Q118.26 1469.15 115.182 1464.57 Q112.126 1459.96 112.126 1451.23 Q112.126 1442.48 115.182 1437.9 Q118.26 1433.29 124.07 1433.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M57.7745 1099.12 L74.0939 1099.12 L74.0939 1103.05 L52.1495 1103.05 L52.1495 1099.12 Q54.8115 1096.36 59.3949 1091.73 Q64.0013 1087.08 65.1819 1085.74 Q67.4272 1083.21 68.3068 1081.48 Q69.2096 1079.72 69.2096 1078.03 Q69.2096 1075.27 67.2652 1073.54 Q65.3439 1071.8 62.2421 1071.8 Q60.043 1071.8 57.5893 1072.57 Q55.1588 1073.33 52.381 1074.88 L52.381 1070.16 Q55.2051 1069.02 57.6588 1068.45 Q60.1124 1067.87 62.1495 1067.87 Q67.5198 1067.87 70.7142 1070.55 Q73.9087 1073.24 73.9087 1077.73 Q73.9087 1079.86 73.0985 1081.78 Q72.3115 1083.68 70.205 1086.27 Q69.6263 1086.94 66.5245 1090.16 Q63.4226 1093.35 57.7745 1099.12 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M93.9086 1071.57 Q90.2975 1071.57 88.4688 1075.13 Q86.6632 1078.68 86.6632 1085.81 Q86.6632 1092.91 88.4688 1096.48 Q90.2975 1100.02 93.9086 1100.02 Q97.5428 1100.02 99.3483 1096.48 Q101.177 1092.91 101.177 1085.81 Q101.177 1078.68 99.3483 1075.13 Q97.5428 1071.57 93.9086 1071.57 M93.9086 1067.87 Q99.7187 1067.87 102.774 1072.47 Q105.853 1077.06 105.853 1085.81 Q105.853 1094.53 102.774 1099.14 Q99.7187 1103.72 93.9086 1103.72 Q88.0984 1103.72 85.0197 1099.14 Q81.9642 1094.53 81.9642 1085.81 Q81.9642 1077.06 85.0197 1072.47 Q88.0984 1067.87 93.9086 1067.87 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M124.07 1071.57 Q120.459 1071.57 118.631 1075.13 Q116.825 1078.68 116.825 1085.81 Q116.825 1092.91 118.631 1096.48 Q120.459 1100.02 124.07 1100.02 Q127.705 1100.02 129.51 1096.48 Q131.339 1092.91 131.339 1085.81 Q131.339 1078.68 129.51 1075.13 Q127.705 1071.57 124.07 1071.57 M124.07 1067.87 Q129.881 1067.87 132.936 1072.47 Q136.015 1077.06 136.015 1085.81 Q136.015 1094.53 132.936 1099.14 Q129.881 1103.72 124.07 1103.72 Q118.26 1103.72 115.182 1099.14 Q112.126 1094.53 112.126 1085.81 Q112.126 1077.06 115.182 1072.47 Q118.26 1067.87 124.07 1067.87 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M66.5939 707.14 L54.7884 725.589 L66.5939 725.589 L66.5939 707.14 M65.367 703.066 L71.2466 703.066 L71.2466 725.589 L76.1772 725.589 L76.1772 729.477 L71.2466 729.477 L71.2466 737.626 L66.5939 737.626 L66.5939 729.477 L50.9921 729.477 L50.9921 724.964 L65.367 703.066 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M93.9086 706.144 Q90.2975 706.144 88.4688 709.709 Q86.6632 713.251 86.6632 720.38 Q86.6632 727.487 88.4688 731.052 Q90.2975 734.593 93.9086 734.593 Q97.5428 734.593 99.3483 731.052 Q101.177 727.487 101.177 720.38 Q101.177 713.251 99.3483 709.709 Q97.5428 706.144 93.9086 706.144 M93.9086 702.441 Q99.7187 702.441 102.774 707.047 Q105.853 711.63 105.853 720.38 Q105.853 729.107 102.774 733.714 Q99.7187 738.297 93.9086 738.297 Q88.0984 738.297 85.0197 733.714 Q81.9642 729.107 81.9642 720.38 Q81.9642 711.63 85.0197 707.047 Q88.0984 702.441 93.9086 702.441 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M124.07 706.144 Q120.459 706.144 118.631 709.709 Q116.825 713.251 116.825 720.38 Q116.825 727.487 118.631 731.052 Q120.459 734.593 124.07 734.593 Q127.705 734.593 129.51 731.052 Q131.339 727.487 131.339 720.38 Q131.339 713.251 129.51 709.709 Q127.705 706.144 124.07 706.144 M124.07 702.441 Q129.881 702.441 132.936 707.047 Q136.015 711.63 136.015 720.38 Q136.015 729.107 132.936 733.714 Q129.881 738.297 124.07 738.297 Q118.26 738.297 115.182 733.714 Q112.126 729.107 112.126 720.38 Q112.126 711.63 115.182 707.047 Q118.26 702.441 124.07 702.441 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M64.3254 353.056 Q61.1773 353.056 59.3254 355.209 Q57.4967 357.362 57.4967 361.112 Q57.4967 364.839 59.3254 367.015 Q61.1773 369.167 64.3254 369.167 Q67.4735 369.167 69.3022 367.015 Q71.1541 364.839 71.1541 361.112 Q71.1541 357.362 69.3022 355.209 Q67.4735 353.056 64.3254 353.056 M73.6077 338.404 L73.6077 342.663 Q71.8485 341.83 70.0429 341.39 Q68.2606 340.95 66.5013 340.95 Q61.8717 340.95 59.418 344.075 Q56.9875 347.2 56.6402 353.519 Q58.006 351.505 60.0662 350.441 Q62.1263 349.353 64.6032 349.353 Q69.8115 349.353 72.8207 352.524 Q75.8531 355.672 75.8531 361.112 Q75.8531 366.436 72.705 369.654 Q69.5568 372.871 64.3254 372.871 Q58.33 372.871 55.1588 368.288 Q51.9875 363.681 51.9875 354.955 Q51.9875 346.76 55.8764 341.899 Q59.7652 337.015 66.3161 337.015 Q68.0754 337.015 69.8578 337.362 Q71.6633 337.709 73.6077 338.404 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M93.9086 340.718 Q90.2975 340.718 88.4688 344.283 Q86.6632 347.825 86.6632 354.955 Q86.6632 362.061 88.4688 365.626 Q90.2975 369.167 93.9086 369.167 Q97.5428 369.167 99.3483 365.626 Q101.177 362.061 101.177 354.955 Q101.177 347.825 99.3483 344.283 Q97.5428 340.718 93.9086 340.718 M93.9086 337.015 Q99.7187 337.015 102.774 341.621 Q105.853 346.205 105.853 354.955 Q105.853 363.681 102.774 368.288 Q99.7187 372.871 93.9086 372.871 Q88.0984 372.871 85.0197 368.288 Q81.9642 363.681 81.9642 354.955 Q81.9642 346.205 85.0197 341.621 Q88.0984 337.015 93.9086 337.015 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M124.07 340.718 Q120.459 340.718 118.631 344.283 Q116.825 347.825 116.825 354.955 Q116.825 362.061 118.631 365.626 Q120.459 369.167 124.07 369.167 Q127.705 369.167 129.51 365.626 Q131.339 362.061 131.339 354.955 Q131.339 347.825 129.51 344.283 Q127.705 340.718 124.07 340.718 M124.07 337.015 Q129.881 337.015 132.936 341.621 Q136.015 346.205 136.015 354.955 Q136.015 363.681 132.936 368.288 Q129.881 372.871 124.07 372.871 Q118.26 372.871 115.182 368.288 Q112.126 363.681 112.126 354.955 Q112.126 346.205 115.182 341.621 Q118.26 337.015 124.07 337.015 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip812)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,449.748 254.307,319.656 274.88,226.473 295.453,165.995 316.026,168.918 336.599,193.219 357.172,263.015 377.745,345.784 398.318,420.514 418.891,486.656 
  439.464,533.248 460.037,533.43 480.61,527.401 501.183,500.359 521.756,457.604 542.329,416.494 562.902,373.191 583.475,309.242 604.048,243.282 624.621,192.123 
  645.194,145.348 665.768,112.825 686.341,87.9763 706.914,97.8428 727.487,111.364 748.06,132.193 768.633,175.313 789.206,212.769 809.779,270.872 830.352,318.743 
  850.925,367.162 871.498,400.598 892.071,421.975 912.644,419.052 933.217,407.541 953.79,401.146 974.363,377.211 994.936,350.169 1015.51,325.32 1036.08,301.019 
  1056.66,261.554 1077.23,226.29 1097.8,197.787 1118.37,174.217 1138.95,168.187 1159.52,162.34 1180.09,196.142 1200.67,229.944 1221.24,262.65 1241.81,285.672 
  1262.39,310.521 1282.96,334.273 1303.53,344.14 1324.1,343.226 1344.68,343.043 1365.25,335.552 1385.82,340.668 1406.4,327.513 1426.97,307.78 1447.54,291.153 
  1468.12,273.795 1488.69,243.282 1509.26,208.567 1529.83,194.315 1550.41,168.735 1570.98,141.146 1591.55,123.423 1612.13,120.134 1632.7,130.731 1653.27,157.773 
  1673.85,187.007 1694.42,249.494 1714.99,299.375 1735.57,340.851 1756.14,367.71 1776.71,392.193 1797.28,408.82 1817.86,392.193 1838.43,356.93 1859,329.523 
  1879.58,305.039 1900.15,263.198 1920.72,239.263 1941.3,217.52 1961.87,207.105 1982.44,190.295 2003.01,166.726 2023.59,160.148 2044.16,168.37 2064.73,181.343 
  2085.31,216.423 2105.88,234.512 2126.45,260.092 2147.03,278.363 2167.6,295.173 2188.17,307.963 2208.74,306.135 2229.32,284.21 2249.89,271.603 2270.46,253.88 
  2291.04,213.5 
  "/>
<polyline clip-path="url(#clip812)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,1378.11 254.307,1328.78 274.88,1239.25 295.453,1151.55 316.026,1104.04 336.599,1065.67 357.172,1009.03 377.745,979.798 398.318,965.181 418.891,935.947 
  439.464,1027.3 460.037,1067.5 480.61,1133.28 501.183,1146.07 521.756,1186.26 542.329,1178.95 562.902,1241.08 583.475,1272.14 604.048,1294.06 624.621,1286.76 
  645.194,1286.76 665.768,1272.14 686.341,1259.35 706.914,1217.32 727.487,1197.23 748.06,1157.03 768.633,1166.16 789.206,1124.14 809.779,1083.94 830.352,1030.96 
  850.925,1049.23 871.498,1063.85 892.071,1067.5 912.644,1147.89 933.217,1140.59 953.79,1158.86 974.363,1178.95 994.936,1177.13 1015.51,1200.88 1036.08,1228.29 
  1056.66,1244.73 1077.23,1259.35 1097.8,1259.35 1118.37,1259.35 1138.95,1228.29 1159.52,1162.51 1180.09,1136.93 1200.67,1120.49 1221.24,1127.8 1241.81,1127.8 
  1262.39,1120.49 1282.96,1087.6 1303.53,1149.72 1324.1,1155.2 1344.68,1155.2 1365.25,1105.87 1385.82,1142.41 1406.4,1149.72 1426.97,1220.98 1447.54,1193.57 
  1468.12,1202.71 1488.69,1252.04 1509.26,1255.69 1529.83,1242.9 1550.41,1259.35 1570.98,1268.48 1591.55,1250.21 1612.13,1239.25 1632.7,1200.88 1653.27,1175.3 
  1673.85,1122.31 1694.42,1104.04 1714.99,1043.75 1735.57,1045.57 1756.14,1085.77 1776.71,1111.35 1797.28,1098.56 1817.86,1189.92 1838.43,1189.92 1859,1204.53 
  1879.58,1220.98 1900.15,1228.29 1920.72,1217.32 1941.3,1202.71 1961.87,1220.98 1982.44,1239.25 2003.01,1250.21 2023.59,1222.81 2044.16,1195.4 2064.73,1186.26 
  2085.31,1133.28 2105.88,1144.24 2126.45,1147.89 2147.03,1135.1 2167.6,1124.14 2188.17,1169.82 2208.74,1193.57 2229.32,1191.74 2249.89,1206.36 2270.46,1230.11 
  2291.04,1255.69 
  "/>
<polyline clip-path="url(#clip812)" style="stroke:#3da44d; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,1443.89 254.307,1443.89 274.88,1443.89 295.453,1443.89 316.026,1443.89 336.599,1443.89 357.172,1443.89 377.745,1443.89 398.318,1442.06 418.891,1442.06 
  439.464,1440.23 460.037,1445.72 480.61,1445.72 501.183,1442.06 521.756,1442.06 542.329,1442.06 562.902,1442.06 583.475,1442.06 604.048,1442.06 624.621,1442.06 
  645.194,1442.06 665.768,1442.06 686.341,1442.06 706.914,1440.23 727.487,1440.23 748.06,1440.23 768.633,1438.41 789.206,1436.58 809.779,1436.58 830.352,1436.58 
  850.925,1438.41 871.498,1436.58 892.071,1436.58 912.644,1436.58 933.217,1436.58 953.79,1436.58 974.363,1436.58 994.936,1436.58 1015.51,1438.41 1036.08,1440.23 
  1056.66,1440.23 1077.23,1438.41 1097.8,1438.41 1118.37,1438.41 1138.95,1434.75 1159.52,1431.1 1180.09,1427.44 1200.67,1429.27 1221.24,1429.27 1241.81,1431.1 
  1262.39,1427.44 1282.96,1429.27 1303.53,1427.44 1324.1,1425.62 1344.68,1420.14 1365.25,1418.31 1385.82,1420.14 1406.4,1418.31 1426.97,1418.31 1447.54,1420.14 
  1468.12,1421.96 1488.69,1423.79 1509.26,1420.14 1529.83,1425.62 1550.41,1421.96 1570.98,1421.96 1591.55,1414.65 1612.13,1409.17 1632.7,1420.14 1653.27,1420.14 
  1673.85,1418.31 1694.42,1412.83 1714.99,1414.65 1735.57,1421.96 1756.14,1421.96 1776.71,1421.96 1797.28,1421.96 1817.86,1418.31 1838.43,1416.48 1859,1418.31 
  1879.58,1416.48 1900.15,1412.83 1920.72,1411 1941.3,1411 1961.87,1405.52 1982.44,1407.35 2003.01,1411 2023.59,1409.17 2044.16,1411 2064.73,1416.48 
  2085.31,1412.83 2105.88,1411 2126.45,1401.86 2147.03,1396.38 2167.6,1403.69 2188.17,1418.31 2208.74,1414.65 2229.32,1414.65 2249.89,1409.17 2270.46,1405.52 
  2291.04,1403.69 
  "/>
<path clip-path="url(#clip810)" d="
M1894.91 302.578 L2280.06 302.578 L2280.06 95.2176 L1894.91 95.2176  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip810)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1894.91,302.578 2280.06,302.578 2280.06,95.2176 1894.91,95.2176 1894.91,302.578 
  "/>
<polyline clip-path="url(#clip810)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,147.058 2064.53,147.058 
  "/>
<path clip-path="url(#clip810)" d="M2114.31 159.407 L2114.31 150.125 L2106.67 150.125 L2106.67 146.282 L2118.94 146.282 L2118.94 161.12 Q2116.23 163.041 2112.97 164.037 Q2109.71 165.009 2106 165.009 Q2097.9 165.009 2093.32 160.287 Q2088.76 155.541 2088.76 147.092 Q2088.76 138.62 2093.32 133.898 Q2097.9 129.153 2106 129.153 Q2109.38 129.153 2112.41 129.986 Q2115.47 130.819 2118.04 132.44 L2118.04 137.416 Q2115.45 135.217 2112.53 134.106 Q2109.61 132.995 2106.4 132.995 Q2100.05 132.995 2096.86 136.537 Q2093.69 140.078 2093.69 147.092 Q2093.69 154.083 2096.86 157.625 Q2100.05 161.166 2106.4 161.166 Q2108.87 161.166 2110.82 160.75 Q2112.76 160.31 2114.31 159.407 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2142.32 142.393 Q2141.6 141.977 2140.75 141.791 Q2139.91 141.583 2138.9 141.583 Q2135.28 141.583 2133.34 143.944 Q2131.42 146.282 2131.42 150.68 L2131.42 164.338 L2127.14 164.338 L2127.14 138.412 L2131.42 138.412 L2131.42 142.44 Q2132.76 140.078 2134.91 138.944 Q2137.07 137.787 2140.15 137.787 Q2140.59 137.787 2141.12 137.856 Q2141.65 137.903 2142.3 138.018 L2142.32 142.393 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2158.57 151.305 Q2153.41 151.305 2151.42 152.486 Q2149.43 153.666 2149.43 156.514 Q2149.43 158.782 2150.91 160.125 Q2152.41 161.444 2154.98 161.444 Q2158.53 161.444 2160.65 158.944 Q2162.81 156.421 2162.81 152.254 L2162.81 151.305 L2158.57 151.305 M2167.07 149.546 L2167.07 164.338 L2162.81 164.338 L2162.81 160.402 Q2161.35 162.763 2159.17 163.898 Q2157 165.009 2153.85 165.009 Q2149.87 165.009 2147.51 162.787 Q2145.17 160.541 2145.17 156.791 Q2145.17 152.416 2148.09 150.194 Q2151.03 147.972 2156.84 147.972 L2162.81 147.972 L2162.81 147.555 Q2162.81 144.615 2160.86 143.018 Q2158.94 141.398 2155.45 141.398 Q2153.22 141.398 2151.12 141.93 Q2149.01 142.463 2147.07 143.527 L2147.07 139.592 Q2149.4 138.69 2151.6 138.25 Q2153.8 137.787 2155.89 137.787 Q2161.51 137.787 2164.29 140.703 Q2167.07 143.62 2167.07 149.546 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2192.37 139.176 L2192.37 143.203 Q2190.56 142.277 2188.62 141.815 Q2186.67 141.352 2184.59 141.352 Q2181.42 141.352 2179.82 142.324 Q2178.25 143.296 2178.25 145.24 Q2178.25 146.722 2179.38 147.578 Q2180.52 148.412 2183.94 149.176 L2185.4 149.5 Q2189.94 150.472 2191.84 152.254 Q2193.76 154.014 2193.76 157.185 Q2193.76 160.796 2190.89 162.902 Q2188.04 165.009 2183.04 165.009 Q2180.96 165.009 2178.69 164.592 Q2176.44 164.199 2173.94 163.388 L2173.94 158.99 Q2176.3 160.217 2178.59 160.842 Q2180.89 161.444 2183.13 161.444 Q2186.14 161.444 2187.76 160.426 Q2189.38 159.384 2189.38 157.509 Q2189.38 155.773 2188.2 154.847 Q2187.04 153.921 2183.09 153.064 L2181.6 152.717 Q2177.65 151.884 2175.89 150.171 Q2174.13 148.435 2174.13 145.426 Q2174.13 141.768 2176.72 139.778 Q2179.31 137.787 2184.08 137.787 Q2186.44 137.787 2188.53 138.134 Q2190.61 138.481 2192.37 139.176 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2217.07 139.176 L2217.07 143.203 Q2215.26 142.277 2213.32 141.815 Q2211.37 141.352 2209.29 141.352 Q2206.12 141.352 2204.52 142.324 Q2202.95 143.296 2202.95 145.24 Q2202.95 146.722 2204.08 147.578 Q2205.21 148.412 2208.64 149.176 L2210.1 149.5 Q2214.64 150.472 2216.53 152.254 Q2218.46 154.014 2218.46 157.185 Q2218.46 160.796 2215.59 162.902 Q2212.74 165.009 2207.74 165.009 Q2205.65 165.009 2203.39 164.592 Q2201.14 164.199 2198.64 163.388 L2198.64 158.99 Q2201 160.217 2203.29 160.842 Q2205.59 161.444 2207.83 161.444 Q2210.84 161.444 2212.46 160.426 Q2214.08 159.384 2214.08 157.509 Q2214.08 155.773 2212.9 154.847 Q2211.74 153.921 2207.78 153.064 L2206.3 152.717 Q2202.34 151.884 2200.59 150.171 Q2198.83 148.435 2198.83 145.426 Q2198.83 141.768 2201.42 139.778 Q2204.01 137.787 2208.78 137.787 Q2211.14 137.787 2213.22 138.134 Q2215.31 138.481 2217.07 139.176 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip810)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,198.898 2064.53,198.898 
  "/>
<path clip-path="url(#clip810)" d="M2111 182.752 L2111 187.312 Q2108.34 186.039 2105.98 185.414 Q2103.62 184.789 2101.42 184.789 Q2097.6 184.789 2095.52 186.27 Q2093.46 187.752 2093.46 190.483 Q2093.46 192.775 2094.82 193.955 Q2096.21 195.113 2100.05 195.83 L2102.88 196.409 Q2108.11 197.405 2110.59 199.928 Q2113.09 202.428 2113.09 206.641 Q2113.09 211.664 2109.71 214.256 Q2106.35 216.849 2099.85 216.849 Q2097.39 216.849 2094.61 216.293 Q2091.86 215.738 2088.9 214.65 L2088.9 209.835 Q2091.74 211.432 2094.47 212.242 Q2097.21 213.053 2099.85 213.053 Q2103.85 213.053 2106.03 211.479 Q2108.2 209.904 2108.2 206.988 Q2108.2 204.442 2106.63 203.006 Q2105.08 201.571 2101.51 200.854 L2098.66 200.298 Q2093.43 199.256 2091.1 197.034 Q2088.76 194.812 2088.76 190.854 Q2088.76 186.27 2091.97 183.631 Q2095.22 180.993 2100.89 180.993 Q2103.32 180.993 2105.84 181.432 Q2108.36 181.872 2111 182.752 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2141.74 200.529 L2141.74 216.178 L2137.48 216.178 L2137.48 200.668 Q2137.48 196.988 2136.05 195.159 Q2134.61 193.33 2131.74 193.33 Q2128.29 193.33 2126.3 195.53 Q2124.31 197.729 2124.31 201.525 L2124.31 216.178 L2120.03 216.178 L2120.03 180.159 L2124.31 180.159 L2124.31 194.28 Q2125.84 191.942 2127.9 190.784 Q2129.98 189.627 2132.69 189.627 Q2137.16 189.627 2139.45 192.405 Q2141.74 195.159 2141.74 200.529 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2172.41 202.15 L2172.41 204.233 L2152.83 204.233 Q2153.11 208.631 2155.47 210.946 Q2157.85 213.238 2162.09 213.238 Q2164.54 213.238 2166.84 212.636 Q2169.15 212.034 2171.42 210.83 L2171.42 214.858 Q2169.13 215.83 2166.72 216.34 Q2164.31 216.849 2161.84 216.849 Q2155.63 216.849 2152 213.238 Q2148.39 209.627 2148.39 203.469 Q2148.39 197.104 2151.81 193.377 Q2155.26 189.627 2161.09 189.627 Q2166.33 189.627 2169.36 193.006 Q2172.41 196.363 2172.41 202.15 M2168.15 200.9 Q2168.11 197.405 2166.19 195.321 Q2164.29 193.238 2161.14 193.238 Q2157.58 193.238 2155.42 195.252 Q2153.29 197.266 2152.97 200.923 L2168.15 200.9 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2201.58 202.15 L2201.58 204.233 L2182 204.233 Q2182.28 208.631 2184.64 210.946 Q2187.02 213.238 2191.26 213.238 Q2193.71 213.238 2196 212.636 Q2198.32 212.034 2200.59 210.83 L2200.59 214.858 Q2198.29 215.83 2195.89 216.34 Q2193.48 216.849 2191 216.849 Q2184.8 216.849 2181.16 213.238 Q2177.55 209.627 2177.55 203.469 Q2177.55 197.104 2180.98 193.377 Q2184.43 189.627 2190.26 189.627 Q2195.49 189.627 2198.53 193.006 Q2201.58 196.363 2201.58 202.15 M2197.32 200.9 Q2197.28 197.405 2195.35 195.321 Q2193.46 193.238 2190.31 193.238 Q2186.74 193.238 2184.59 195.252 Q2182.46 197.266 2182.14 200.923 L2197.32 200.9 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2212.69 212.289 L2212.69 226.039 L2208.41 226.039 L2208.41 190.252 L2212.69 190.252 L2212.69 194.187 Q2214.03 191.872 2216.07 190.761 Q2218.13 189.627 2220.98 189.627 Q2225.7 189.627 2228.64 193.377 Q2231.6 197.127 2231.6 203.238 Q2231.6 209.349 2228.64 213.099 Q2225.7 216.849 2220.98 216.849 Q2218.13 216.849 2216.07 215.738 Q2214.03 214.603 2212.69 212.289 M2227.18 203.238 Q2227.18 198.539 2225.24 195.877 Q2223.32 193.192 2219.94 193.192 Q2216.56 193.192 2214.61 195.877 Q2212.69 198.539 2212.69 203.238 Q2212.69 207.937 2214.61 210.622 Q2216.56 213.284 2219.94 213.284 Q2223.32 213.284 2225.24 210.622 Q2227.18 207.937 2227.18 203.238 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip810)" style="stroke:#3da44d; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,250.738 2064.53,250.738 
  "/>
<path clip-path="url(#clip810)" d="M2088.76 233.458 L2093.48 233.458 L2100.75 262.67 L2107.99 233.458 L2113.25 233.458 L2120.52 262.67 L2127.76 233.458 L2132.51 233.458 L2123.83 268.018 L2117.95 268.018 L2110.66 238.018 L2103.29 268.018 L2097.41 268.018 L2088.76 233.458 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2145.79 245.078 Q2142.37 245.078 2140.38 247.763 Q2138.39 250.425 2138.39 255.078 Q2138.39 259.731 2140.35 262.416 Q2142.34 265.078 2145.79 265.078 Q2149.2 265.078 2151.19 262.393 Q2153.18 259.707 2153.18 255.078 Q2153.18 250.471 2151.19 247.786 Q2149.2 245.078 2145.79 245.078 M2145.79 241.467 Q2151.35 241.467 2154.52 245.078 Q2157.69 248.689 2157.69 255.078 Q2157.69 261.444 2154.52 265.078 Q2151.35 268.689 2145.79 268.689 Q2140.22 268.689 2137.04 265.078 Q2133.9 261.444 2133.9 255.078 Q2133.9 248.689 2137.04 245.078 Q2140.22 241.467 2145.79 241.467 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2164.75 231.999 L2169.01 231.999 L2169.01 268.018 L2164.75 268.018 L2164.75 231.999 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip810)" d="M2191.05 231.999 L2191.05 235.541 L2186.97 235.541 Q2184.68 235.541 2183.78 236.467 Q2182.9 237.393 2182.9 239.8 L2182.9 242.092 L2189.91 242.092 L2189.91 245.402 L2182.9 245.402 L2182.9 268.018 L2178.62 268.018 L2178.62 245.402 L2174.54 245.402 L2174.54 242.092 L2178.62 242.092 L2178.62 240.286 Q2178.62 235.958 2180.63 233.99 Q2182.65 231.999 2187.02 231.999 L2191.05 231.999 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /></svg>
<h2 id="Package:-Ecosystem.jl"><a class="docs-heading-anchor" href="#Package:-Ecosystem.jl">Package: <code>Ecosystem.jl</code></a><a id="Package:-Ecosystem.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Package:-Ecosystem.jl" title="Permalink"></a></h2><p>In the main section of this lab you will create your own <code>Ecosystem.jl</code> package to organize <em>and test (!)</em> the code that we have written so far.</p><h3 id="PkgTemplates.jl"><a class="docs-heading-anchor" href="#PkgTemplates.jl"><code>PkgTemplates.jl</code></a><a id="PkgTemplates.jl-1"></a><a class="docs-heading-anchor-permalink" href="#PkgTemplates.jl" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>The simplest way to create a new package in Julia is to use <code>PkgTemplates.jl</code>. <code>]add PkgTemplates</code> to your global julia env and create a new package by running:</p><pre><code class="language-julia hljs">using PkgTemplates
Template(interactive=true)(&quot;Ecosystem&quot;)</code></pre><p>to interactively specify various options for your new package or use the following snippet to generate it programmatically:</p><pre><code class="language-julia hljs">using PkgTemplates

# define the package template
template = Template(;
    user = &quot;GithubUserName&quot;,            # github user name
    authors = [&quot;Author1&quot;, &quot;Author2&quot;],   # list of authors
    dir = &quot;/path/to/folder/&quot;,           # dir in which the package will be created
    julia = v&quot;1.8&quot;,                     # compat version of Julia
    plugins = [
        !CompatHelper,                  # disable CompatHelper
        !TagBot,                        # disable TagBot
        Readme(; inline_badges = true), # added readme file with badges
        Tests(; project = true),        # added Project.toml file for unit tests
        Git(; manifest = false),        # add manifest.toml to .gitignore
        License(; name = &quot;MIT&quot;)         # addedMIT licence
    ],
)

# execute the package template (this creates all files/folders)
template(&quot;Ecosystem&quot;)</code></pre></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><p>This should have created a new folder <code>Ecosystem</code> which looks like below.</p><pre><code class="nohighlight hljs">.
├── LICENSE
├── Project.toml
├── README.md
├── src
│   └── Ecosystem.jl
└── test
    ├── Manifest.toml
    ├── Project.toml
    └── runtests.jl</code></pre><p>If you <code>]activate /path/to/Ecosystem</code> you should be able to run <code>]test</code> to run the autogenerated test (which is not doing anything) and get the following output:</p><pre><code class="nohighlight hljs">(Ecosystem) pkg&gt; test
     Testing Ecosystem
      Status `/private/var/folders/6h/l9_skfms2v3dt8z3zfnd2jr00000gn/T/jl_zd5Uai/Project.toml`
  [e77cd98c] Ecosystem v0.1.0 `~/repos/Ecosystem`
  [8dfed614] Test `@stdlib/Test`
      Status `/private/var/folders/6h/l9_skfms2v3dt8z3zfnd2jr00000gn/T/jl_zd5Uai/Manifest.toml`
  [e77cd98c] Ecosystem v0.1.0 `~/repos/Ecosystem`
  [2a0f44e3] Base64 `@stdlib/Base64`
  [b77e0a4c] InteractiveUtils `@stdlib/InteractiveUtils`
  [56ddb016] Logging `@stdlib/Logging`
  [d6f4376e] Markdown `@stdlib/Markdown`
  [9a3f8284] Random `@stdlib/Random`
  [ea8e919c] SHA v0.7.0 `@stdlib/SHA`
  [9e88b42a] Serialization `@stdlib/Serialization`
  [8dfed614] Test `@stdlib/Test`
     Testing Running tests...
Test Summary: |Time
Ecosystem.jl  | None  0.0s
     Testing Ecosystem tests passed </code></pre></p></details><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>From now on make sure that you <strong>always</strong> have the <code>Ecosystem</code> enviroment enabled. Otherwise you will not end up with the correct dependencies in your packages</p></div></div><h3 id="Adding-content-to-Ecosystem.jl"><a class="docs-heading-anchor" href="#Adding-content-to-Ecosystem.jl">Adding content to <code>Ecosystem.jl</code></a><a id="Adding-content-to-Ecosystem.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-content-to-Ecosystem.jl" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>Next, let&#39;s add the types and functions we have defined so far. You can use <code>include(&quot;path/to/file.jl&quot;)</code> in the main module file at <code>src/Ecosystem.jl</code> to bring some structure in your code. An exemplary file structure could look like below.</p><pre><code class="nohighlight hljs">.
├── LICENSE
├── Manifest.toml
├── Project.toml
├── README.md
├── src
│   ├── Ecosystem.jl
│   ├── animal.jl
│   ├── plant.jl
│   └── world.jl
└── test
    └── runtests.jl</code></pre><p>While you are adding functionality to your package you can make great use of <code>Revise.jl</code>.  Loading <code>Revise.jl</code> before your <code>Ecosystem.jl</code> will automatically recompile (and invalidate old methods!) while you develop.  You can install it in your global environment and and create a <code>$HOME/.config/startup.jl</code> which always loads <code>Revise</code>. It can look like this:</p><pre><code class="language-julia hljs"># try/catch block to make sure you can start julia if Revise should not be installed
try
    using Revise
catch e
    @warn(e.msg)
end</code></pre></div></div><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>At some point along the way you should run into problems with the <code>sample</code> functions or when trying <code>using StatsBase</code>. This is normal, because you have not added the package to the <code>Ecosystem</code> environment yet. Adding it is as easy as <code>]add StatsBase</code>. Your <code>Ecosystem</code> environment should now look like this:</p><pre><code class="nohighlight hljs">(Ecosystem) pkg&gt; status
Project Ecosystem v0.1.0
Status `~/repos/Ecosystem/Project.toml`
  [2913bbd2] StatsBase v0.33.21</code></pre></div></div><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>In order to use your new types/functions like below</p><pre><code class="language-julia hljs">using Ecosystem

Sheep(2)</code></pre><p>you have to <code>export</code> them from your module. Add exports for all important types and functions.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs"># src/Ecosystem.jl
module Ecosystem

using StatsBase

export World
export Species, PlantSpecies, AnimalSpecies, Grass, Sheep, Wolf
export Agent, Plant, Animal
export agent_step!, eat!, eats, find_food, reproduce!, world_step!, agent_count

# ....

end</code></pre></p></details><h3 id="Unit-tests"><a class="docs-heading-anchor" href="#Unit-tests">Unit tests</a><a id="Unit-tests-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-tests" title="Permalink"></a></h3><p>Every package should have tests which verify the correctness of your implementation, such that you can make changes to your codebase and remain confident that you did not break anything.</p><p>Julia&#39;s <code>Test</code> package provides you functionality to easily write <a href="https://docs.julialang.org/en/v1/stdlib/Test/">unit tests</a>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>In the file <code>test/runtests.jl</code>, create a new <code>@testset</code> and write three <code>@test</code>s which check that the <code>show</code> methods we defined for <code>Grass</code>, <code>Sheep</code>, and <code>Wolf</code> work as expected.</p><p>The function <code>repr(x) == &quot;some string&quot;</code> to check if the string representation we defined in the <code>Base.show</code> overload returns what you expect.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; # using Ecosystem
       using Test</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @testset &quot;Base.show&quot; begin
           g = Grass(1,1,1)
           s = Animal{Sheep}(2,1,1,1,1,male)
           w = Animal{Wolf}(3,1,1,1,1,female)
           @test repr(g) == &quot;🌿  #1 100% grown&quot;
           @test repr(s) == &quot;🐑♂ #2 E=1.0 ΔE=1.0 pr=1.0 pf=1.0&quot;
           @test repr(w) == &quot;🐺♀ #3 E=1.0 ΔE=1.0 pr=1.0 pf=1.0&quot;
       end</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">Test Summary: | <span class="sgr32">Pass  </span><span class="sgr36">Total  </span>Time</span>
Base.show     | <span class="sgr32">   3  </span><span class="sgr36">    3  </span>0.2s
Test.DefaultTestSet(&quot;Base.show&quot;, Any[], 3, false, false, true, 1.665914876750476e9, 1.665914876926438e9)</code></pre></p></details><h3 id="Github-CI"><a class="docs-heading-anchor" href="#Github-CI">Github CI</a><a id="Github-CI-1"></a><a class="docs-heading-anchor-permalink" href="#Github-CI" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>If you want you can upload you package to Github and add the <code>julia-runtest</code> <a href="https://github.com/julia-actions/julia-runtest">Github Action</a> to automatically test your code for every new push you make to the repository.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../lecture/">« Lecture</a><a class="docs-footer-nextpage" href="../hw/">Homework »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Sunday 16 October 2022 10:09">Sunday 16 October 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
