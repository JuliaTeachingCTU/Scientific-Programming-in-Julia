<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lab · Scientific Programming in Julia</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://JuliaTeachingCTU.github.io/Scientific-Programming-in-Julia/lecture_04/lab/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../assets/onlinestats.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="Scientific Programming in Julia logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="Scientific Programming in Julia logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Scientific Programming in Julia</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation/">Installation</a></li><li><a class="tocitem" href="../../projects/">Projects</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">1: Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_01/motivation/">Motivation</a></li><li><a class="tocitem" href="../../lecture_01/basics/">Basics</a></li><li><a class="tocitem" href="../../lecture_01/demo/">Examples</a></li><li><a class="tocitem" href="../../lecture_01/outline/">Outline</a></li><li><a class="tocitem" href="../../lecture_01/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_01/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">2: The power of Type System &amp; multiple dispatch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_02/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_02/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_02/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">3: Design Patterns</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_03/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_03/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_03/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox" checked/><label class="tocitem" for="menuitem-7"><span class="docs-label">4: Package development, Unit test &amp; CI</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../lecture/">Lecture</a></li><li class="is-active"><a class="tocitem" href>Lab</a><ul class="internal"><li><a class="tocitem" href="#Warmup-Stepping-through-time"><span>Warmup - Stepping through time</span></a></li><li><a class="tocitem" href="#Package:-Ecosystem.jl"><span>Package: <code>Ecosystem.jl</code></span></a></li></ul></li><li><a class="tocitem" href="../hw/">Homework</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">4: Package development, Unit test &amp; CI</a></li><li class="is-active"><a href>Lab</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Lab</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaTeachingCTU/Scientific-Programming-in-Julia/blob/2023W/docs/src/lecture_04/lab.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Lab-04:-Packaging"><a class="docs-heading-anchor" href="#Lab-04:-Packaging">Lab 04: Packaging</a><a id="Lab-04:-Packaging-1"></a><a class="docs-heading-anchor-permalink" href="#Lab-04:-Packaging" title="Permalink"></a></h1><h2 id="Warmup-Stepping-through-time"><a class="docs-heading-anchor" href="#Warmup-Stepping-through-time">Warmup - Stepping through time</a><a id="Warmup-Stepping-through-time-1"></a><a class="docs-heading-anchor-permalink" href="#Warmup-Stepping-through-time" title="Permalink"></a></h2><p>We now have all necessary functions in place to make agents perform one step of our simulation.  At the beginning of each step an animal looses energy. Afterwards it tries to find some food, which it will subsequently eat. If the animal then has less than zero energy it dies and is removed from the world. If it has positive energy it will try to reproduce.</p><p>Plants have a simpler life. They simply grow if they have not reached their maximal size.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><ol><li>Implement a method <code>agent_step!(::Animal,::World)</code> which performs the following steps:<ul><li>Decrement <span>$E$</span> of agent by <code>1.0</code>.</li><li>With <span>$p_f$</span>, try to find some food and eat it.</li><li>If <span>$E&lt;0$</span>, the animal dies.</li><li>With <span>$p_r$</span>, try to reproduce.</li></ul></li><li>Implement a method <code>agent_step!(::Plant,::World)</code> which performs the following steps:<ul><li>If the size of the plant is smaller than <code>max_size</code>, increment the plant&#39;s size by one.</li></ul></li></ol></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function agent_step!(p::Plant, w::World)
    if p.size &lt; p.max_size
        p.size += 1
    end
end

function agent_step!(a::Animal, w::World)
    a.energy -= 1
    if rand() &lt;= a.foodprob
        dinner = find_food(a,w)
        eat!(a, dinner, w)
    end
    if a.energy &lt; 0
        kill_agent!(a,w)
        return
    end
    if rand() &lt;= a.reprprob
        reproduce!(a,w)
    end
end</code></pre></p></details><p>An <code>agent_step!</code> of a sheep in a world with a single grass should make it consume the grass, let it reproduce, and eventually die if there is no more food and its energy is at zero:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; sheep = Sheep(1,2.0,2.0,1.0,1.0,male);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; grass = Grass(2,2,2);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world = World([sheep, grass])</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Agent}
  🌿  #2 100% grown
  🐑♂ #1 E=2.0 ΔE=2.0 pr=1.0 pf=1.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; agent_step!(sheep, world); world</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Agent}
  🌿  #2 0% grown
  🐑♂ #1 E=5.0 ΔE=2.0 pr=1.0 pf=1.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; # NOTE: The second agent step leads to an error.
       # Can you figure out what is the problem here?
       agent_step!(sheep, world); world</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: MethodError: no method matching eat!(::Main.Animal{🐑}, ::Nothing, ::Main.World{Main.Agent})

Closest candidates are:
  eat!(::Main.Animal{🐑}, <span class="sgr91">::Main.Plant{🌿}</span>, ::Main.World)
<span class="sgr90">   @</span> <span class="sgr36">Main</span> <span class="sgr90">~/work/Scientific-Programming-in-Julia/Scientific-Programming-in-Julia/docs/src/lecture_03/<span class="sgr4">Lab03Ecosystem.jl:106</span></span>
  eat!(<span class="sgr91">::Main.Animal{🐺}</span>, <span class="sgr91">::Main.Animal{🐑}</span>, ::Main.World)
<span class="sgr90">   @</span> <span class="sgr36">Main</span> <span class="sgr90">~/work/Scientific-Programming-in-Julia/Scientific-Programming-in-Julia/docs/src/lecture_03/<span class="sgr4">Lab03Ecosystem.jl:110</span></span></code></pre><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>Finally, lets implement a function <code>world_step!</code> which performs one <code>agent_step!</code> for each agent.  Note that simply iterating over all agents could lead to problems because we are mutating the agent dictionary.  One solution for this is to iterate over a copy of all agent IDs that are present when starting to iterate over agents.  Additionally, it could happen that an agent is killed by another one before we apply <code>agent_step!</code> to it. To solve this you can check if a given ID is currently present in the <code>World</code>.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs"># make it possible to eat nothing
eat!(::Animal, ::Nothing, ::World) = nothing

function world_step!(world::World)
    # make sure that we only iterate over IDs that already exist in the
    # current timestep this lets us safely add agents
    ids = copy(keys(world.agents))

    for id in ids
        # agents can be killed by other agents, so make sure that we are
        # not stepping dead agents forward
        !haskey(world.agents,id) &amp;&amp; continue

        a = world.agents[id]
        agent_step!(a,world)
    end
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">world_step! (generic function with 1 method)</code></pre></p></details><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; w = World([Sheep(1), Sheep(2), Wolf(3)])</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐑♂ #2 E=4.0 ΔE=0.2 pr=0.8 pf=0.6
  🐺♂ #3 E=10.0 ΔE=8.0 pr=0.1 pf=0.2
  🐑♂ #1 E=4.0 ΔE=0.2 pr=0.8 pf=0.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐑♂ #2 E=3.0 ΔE=0.2 pr=0.8 pf=0.6
  🐺♂ #3 E=9.0 ΔE=8.0 pr=0.1 pf=0.2
  🐑♂ #1 E=3.0 ΔE=0.2 pr=0.8 pf=0.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐑♂ #2 E=2.0 ΔE=0.2 pr=0.8 pf=0.6
  🐺♂ #3 E=8.0 ΔE=8.0 pr=0.1 pf=0.2
  🐑♂ #1 E=2.0 ΔE=0.2 pr=0.8 pf=0.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  🐑♂ #2 E=1.0 ΔE=0.2 pr=0.8 pf=0.6
  🐺♂ #3 E=7.0 ΔE=8.0 pr=0.1 pf=0.2
  🐑♂ #1 E=1.0 ΔE=0.2 pr=0.8 pf=0.6</code></pre><p>Finally, lets run a few simulation steps and plot the solution</p><pre><code class="language-julia hljs">n_grass  = 1_000
n_sheep  = 40
n_wolves = 4

gs = [Grass(id) for id in 1:n_grass]
ss = [Sheep(id) for id in (n_grass+1):(n_grass+n_sheep)]
ws = [Wolf(id) for id in (n_grass+n_sheep+1):(n_grass+n_sheep+n_wolves)]
w  = World(vcat(gs,ss,ws))

counts = Dict(n=&gt;[c] for (n,c) in agent_count(w))
for _ in 1:100
    world_step!(w)
    for (n,c) in agent_count(w)
        push!(counts[n],c)
    end
end

using Plots
plt = plot()
for (n,c) in counts
    plot!(plt, c, label=string(n), lw=2)
end
plt</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip880">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip880)" d="M0 1600 L2400 1600 L2400 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip881">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip880)" d="M172.015 1486.45 L2352.76 1486.45 L2352.76 47.2441 L172.015 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip882">
    <rect x="172" y="47" width="2182" height="1440"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip882)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="213.161,1486.45 213.161,47.2441 "/>
<polyline clip-path="url(#clip882)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="727.487,1486.45 727.487,47.2441 "/>
<polyline clip-path="url(#clip882)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1241.81,1486.45 1241.81,47.2441 "/>
<polyline clip-path="url(#clip882)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1756.14,1486.45 1756.14,47.2441 "/>
<polyline clip-path="url(#clip882)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2270.46,1486.45 2270.46,47.2441 "/>
<polyline clip-path="url(#clip880)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="172.015,1486.45 2352.76,1486.45 "/>
<polyline clip-path="url(#clip880)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="213.161,1486.45 213.161,1467.55 "/>
<polyline clip-path="url(#clip880)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="727.487,1486.45 727.487,1467.55 "/>
<polyline clip-path="url(#clip880)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1241.81,1486.45 1241.81,1467.55 "/>
<polyline clip-path="url(#clip880)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1756.14,1486.45 1756.14,1467.55 "/>
<polyline clip-path="url(#clip880)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2270.46,1486.45 2270.46,1467.55 "/>
<path clip-path="url(#clip880)" d="M213.161 1517.37 Q209.55 1517.37 207.721 1520.93 Q205.916 1524.47 205.916 1531.6 Q205.916 1538.71 207.721 1542.27 Q209.55 1545.82 213.161 1545.82 Q216.795 1545.82 218.601 1542.27 Q220.429 1538.71 220.429 1531.6 Q220.429 1524.47 218.601 1520.93 Q216.795 1517.37 213.161 1517.37 M213.161 1513.66 Q218.971 1513.66 222.027 1518.27 Q225.105 1522.85 225.105 1531.6 Q225.105 1540.33 222.027 1544.94 Q218.971 1549.52 213.161 1549.52 Q207.351 1549.52 204.272 1544.94 Q201.216 1540.33 201.216 1531.6 Q201.216 1522.85 204.272 1518.27 Q207.351 1513.66 213.161 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M706.758 1544.91 L723.077 1544.91 L723.077 1548.85 L701.133 1548.85 L701.133 1544.91 Q703.795 1542.16 708.378 1537.53 Q712.984 1532.88 714.165 1531.53 Q716.41 1529.01 717.29 1527.27 Q718.193 1525.51 718.193 1523.82 Q718.193 1521.07 716.248 1519.33 Q714.327 1517.6 711.225 1517.6 Q709.026 1517.6 706.572 1518.36 Q704.142 1519.13 701.364 1520.68 L701.364 1515.95 Q704.188 1514.82 706.642 1514.24 Q709.095 1513.66 711.133 1513.66 Q716.503 1513.66 719.697 1516.35 Q722.892 1519.03 722.892 1523.52 Q722.892 1525.65 722.082 1527.57 Q721.295 1529.47 719.188 1532.07 Q718.609 1532.74 715.508 1535.95 Q712.406 1539.15 706.758 1544.91 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M732.938 1514.29 L751.294 1514.29 L751.294 1518.22 L737.22 1518.22 L737.22 1526.7 Q738.239 1526.35 739.257 1526.19 Q740.276 1526 741.294 1526 Q747.081 1526 750.461 1529.17 Q753.841 1532.34 753.841 1537.76 Q753.841 1543.34 750.368 1546.44 Q746.896 1549.52 740.577 1549.52 Q738.401 1549.52 736.132 1549.15 Q733.887 1548.78 731.48 1548.04 L731.48 1543.34 Q733.563 1544.47 735.785 1545.03 Q738.007 1545.58 740.484 1545.58 Q744.489 1545.58 746.827 1543.48 Q749.165 1541.37 749.165 1537.76 Q749.165 1534.15 746.827 1532.04 Q744.489 1529.94 740.484 1529.94 Q738.609 1529.94 736.734 1530.35 Q734.882 1530.77 732.938 1531.65 L732.938 1514.29 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M1216.51 1514.29 L1234.87 1514.29 L1234.87 1518.22 L1220.79 1518.22 L1220.79 1526.7 Q1221.81 1526.35 1222.83 1526.19 Q1223.85 1526 1224.87 1526 Q1230.65 1526 1234.03 1529.17 Q1237.41 1532.34 1237.41 1537.76 Q1237.41 1543.34 1233.94 1546.44 Q1230.47 1549.52 1224.15 1549.52 Q1221.97 1549.52 1219.71 1549.15 Q1217.46 1548.78 1215.05 1548.04 L1215.05 1543.34 Q1217.14 1544.47 1219.36 1545.03 Q1221.58 1545.58 1224.06 1545.58 Q1228.06 1545.58 1230.4 1543.48 Q1232.74 1541.37 1232.74 1537.76 Q1232.74 1534.15 1230.4 1532.04 Q1228.06 1529.94 1224.06 1529.94 Q1222.18 1529.94 1220.31 1530.35 Q1218.46 1530.77 1216.51 1531.65 L1216.51 1514.29 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M1256.63 1517.37 Q1253.02 1517.37 1251.19 1520.93 Q1249.38 1524.47 1249.38 1531.6 Q1249.38 1538.71 1251.19 1542.27 Q1253.02 1545.82 1256.63 1545.82 Q1260.26 1545.82 1262.07 1542.27 Q1263.9 1538.71 1263.9 1531.6 Q1263.9 1524.47 1262.07 1520.93 Q1260.26 1517.37 1256.63 1517.37 M1256.63 1513.66 Q1262.44 1513.66 1265.49 1518.27 Q1268.57 1522.85 1268.57 1531.6 Q1268.57 1540.33 1265.49 1544.94 Q1262.44 1549.52 1256.63 1549.52 Q1250.82 1549.52 1247.74 1544.94 Q1244.68 1540.33 1244.68 1531.6 Q1244.68 1522.85 1247.74 1518.27 Q1250.82 1513.66 1256.63 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M1729.99 1514.29 L1752.21 1514.29 L1752.21 1516.28 L1739.67 1548.85 L1734.78 1548.85 L1746.59 1518.22 L1729.99 1518.22 L1729.99 1514.29 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M1761.38 1514.29 L1779.74 1514.29 L1779.74 1518.22 L1765.66 1518.22 L1765.66 1526.7 Q1766.68 1526.35 1767.7 1526.19 Q1768.72 1526 1769.74 1526 Q1775.52 1526 1778.9 1529.17 Q1782.28 1532.34 1782.28 1537.76 Q1782.28 1543.34 1778.81 1546.44 Q1775.34 1549.52 1769.02 1549.52 Q1766.84 1549.52 1764.58 1549.15 Q1762.33 1548.78 1759.92 1548.04 L1759.92 1543.34 Q1762.01 1544.47 1764.23 1545.03 Q1766.45 1545.58 1768.93 1545.58 Q1772.93 1545.58 1775.27 1543.48 Q1777.61 1541.37 1777.61 1537.76 Q1777.61 1534.15 1775.27 1532.04 Q1772.93 1529.94 1768.93 1529.94 Q1767.05 1529.94 1765.18 1530.35 Q1763.33 1530.77 1761.38 1531.65 L1761.38 1514.29 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2230.07 1544.91 L2237.71 1544.91 L2237.71 1518.55 L2229.4 1520.21 L2229.4 1515.95 L2237.66 1514.29 L2242.34 1514.29 L2242.34 1544.91 L2249.98 1544.91 L2249.98 1548.85 L2230.07 1548.85 L2230.07 1544.91 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2269.42 1517.37 Q2265.81 1517.37 2263.98 1520.93 Q2262.18 1524.47 2262.18 1531.6 Q2262.18 1538.71 2263.98 1542.27 Q2265.81 1545.82 2269.42 1545.82 Q2273.06 1545.82 2274.86 1542.27 Q2276.69 1538.71 2276.69 1531.6 Q2276.69 1524.47 2274.86 1520.93 Q2273.06 1517.37 2269.42 1517.37 M2269.42 1513.66 Q2275.23 1513.66 2278.29 1518.27 Q2281.37 1522.85 2281.37 1531.6 Q2281.37 1540.33 2278.29 1544.94 Q2275.23 1549.52 2269.42 1549.52 Q2263.61 1549.52 2260.53 1544.94 Q2257.48 1540.33 2257.48 1531.6 Q2257.48 1522.85 2260.53 1518.27 Q2263.61 1513.66 2269.42 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2299.58 1517.37 Q2295.97 1517.37 2294.14 1520.93 Q2292.34 1524.47 2292.34 1531.6 Q2292.34 1538.71 2294.14 1542.27 Q2295.97 1545.82 2299.58 1545.82 Q2303.22 1545.82 2305.02 1542.27 Q2306.85 1538.71 2306.85 1531.6 Q2306.85 1524.47 2305.02 1520.93 Q2303.22 1517.37 2299.58 1517.37 M2299.58 1513.66 Q2305.39 1513.66 2308.45 1518.27 Q2311.53 1522.85 2311.53 1531.6 Q2311.53 1540.33 2308.45 1544.94 Q2305.39 1549.52 2299.58 1549.52 Q2293.77 1549.52 2290.7 1544.94 Q2287.64 1540.33 2287.64 1531.6 Q2287.64 1522.85 2290.7 1518.27 Q2293.77 1513.66 2299.58 1513.66 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip882)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="172.015,1449.53 2352.76,1449.53 "/>
<polyline clip-path="url(#clip882)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="172.015,1068.35 2352.76,1068.35 "/>
<polyline clip-path="url(#clip882)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="172.015,687.181 2352.76,687.181 "/>
<polyline clip-path="url(#clip882)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="172.015,306.007 2352.76,306.007 "/>
<polyline clip-path="url(#clip880)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="172.015,1486.45 172.015,47.2441 "/>
<polyline clip-path="url(#clip880)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="172.015,1449.53 190.912,1449.53 "/>
<polyline clip-path="url(#clip880)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="172.015,1068.35 190.912,1068.35 "/>
<polyline clip-path="url(#clip880)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="172.015,687.181 190.912,687.181 "/>
<polyline clip-path="url(#clip880)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="172.015,306.007 190.912,306.007 "/>
<path clip-path="url(#clip880)" d="M124.07 1435.33 Q120.459 1435.33 118.631 1438.89 Q116.825 1442.43 116.825 1449.56 Q116.825 1456.67 118.631 1460.23 Q120.459 1463.78 124.07 1463.78 Q127.705 1463.78 129.51 1460.23 Q131.339 1456.67 131.339 1449.56 Q131.339 1442.43 129.51 1438.89 Q127.705 1435.33 124.07 1435.33 M124.07 1431.62 Q129.881 1431.62 132.936 1436.23 Q136.015 1440.81 136.015 1449.56 Q136.015 1458.29 132.936 1462.9 Q129.881 1467.48 124.07 1467.48 Q118.26 1467.48 115.182 1462.9 Q112.126 1458.29 112.126 1449.56 Q112.126 1440.81 115.182 1436.23 Q118.26 1431.62 124.07 1431.62 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M57.7745 1081.7 L74.0939 1081.7 L74.0939 1085.63 L52.1495 1085.63 L52.1495 1081.7 Q54.8115 1078.94 59.3949 1074.31 Q64.0013 1069.66 65.1819 1068.32 Q67.4272 1065.8 68.3068 1064.06 Q69.2096 1062.3 69.2096 1060.61 Q69.2096 1057.86 67.2652 1056.12 Q65.3439 1054.38 62.2421 1054.38 Q60.043 1054.38 57.5893 1055.15 Q55.1588 1055.91 52.381 1057.46 L52.381 1052.74 Q55.2051 1051.61 57.6588 1051.03 Q60.1124 1050.45 62.1495 1050.45 Q67.5198 1050.45 70.7142 1053.13 Q73.9087 1055.82 73.9087 1060.31 Q73.9087 1062.44 73.0985 1064.36 Q72.3115 1066.26 70.205 1068.85 Q69.6263 1069.52 66.5245 1072.74 Q63.4226 1075.94 57.7745 1081.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M93.9086 1054.15 Q90.2975 1054.15 88.4688 1057.72 Q86.6632 1061.26 86.6632 1068.39 Q86.6632 1075.5 88.4688 1079.06 Q90.2975 1082.6 93.9086 1082.6 Q97.5428 1082.6 99.3483 1079.06 Q101.177 1075.5 101.177 1068.39 Q101.177 1061.26 99.3483 1057.72 Q97.5428 1054.15 93.9086 1054.15 M93.9086 1050.45 Q99.7187 1050.45 102.774 1055.06 Q105.853 1059.64 105.853 1068.39 Q105.853 1077.12 102.774 1081.72 Q99.7187 1086.31 93.9086 1086.31 Q88.0984 1086.31 85.0197 1081.72 Q81.9642 1077.12 81.9642 1068.39 Q81.9642 1059.64 85.0197 1055.06 Q88.0984 1050.45 93.9086 1050.45 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M124.07 1054.15 Q120.459 1054.15 118.631 1057.72 Q116.825 1061.26 116.825 1068.39 Q116.825 1075.5 118.631 1079.06 Q120.459 1082.6 124.07 1082.6 Q127.705 1082.6 129.51 1079.06 Q131.339 1075.5 131.339 1068.39 Q131.339 1061.26 129.51 1057.72 Q127.705 1054.15 124.07 1054.15 M124.07 1050.45 Q129.881 1050.45 132.936 1055.06 Q136.015 1059.64 136.015 1068.39 Q136.015 1077.12 132.936 1081.72 Q129.881 1086.31 124.07 1086.31 Q118.26 1086.31 115.182 1081.72 Q112.126 1077.12 112.126 1068.39 Q112.126 1059.64 115.182 1055.06 Q118.26 1050.45 124.07 1050.45 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M66.5939 673.975 L54.7884 692.424 L66.5939 692.424 L66.5939 673.975 M65.367 669.901 L71.2466 669.901 L71.2466 692.424 L76.1772 692.424 L76.1772 696.313 L71.2466 696.313 L71.2466 704.461 L66.5939 704.461 L66.5939 696.313 L50.9921 696.313 L50.9921 691.799 L65.367 669.901 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M93.9086 672.979 Q90.2975 672.979 88.4688 676.544 Q86.6632 680.086 86.6632 687.215 Q86.6632 694.322 88.4688 697.887 Q90.2975 701.428 93.9086 701.428 Q97.5428 701.428 99.3483 697.887 Q101.177 694.322 101.177 687.215 Q101.177 680.086 99.3483 676.544 Q97.5428 672.979 93.9086 672.979 M93.9086 669.276 Q99.7187 669.276 102.774 673.882 Q105.853 678.466 105.853 687.215 Q105.853 695.942 102.774 700.549 Q99.7187 705.132 93.9086 705.132 Q88.0984 705.132 85.0197 700.549 Q81.9642 695.942 81.9642 687.215 Q81.9642 678.466 85.0197 673.882 Q88.0984 669.276 93.9086 669.276 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M124.07 672.979 Q120.459 672.979 118.631 676.544 Q116.825 680.086 116.825 687.215 Q116.825 694.322 118.631 697.887 Q120.459 701.428 124.07 701.428 Q127.705 701.428 129.51 697.887 Q131.339 694.322 131.339 687.215 Q131.339 680.086 129.51 676.544 Q127.705 672.979 124.07 672.979 M124.07 669.276 Q129.881 669.276 132.936 673.882 Q136.015 678.466 136.015 687.215 Q136.015 695.942 132.936 700.549 Q129.881 705.132 124.07 705.132 Q118.26 705.132 115.182 700.549 Q112.126 695.942 112.126 687.215 Q112.126 678.466 115.182 673.882 Q118.26 669.276 124.07 669.276 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M64.3254 304.144 Q61.1773 304.144 59.3254 306.297 Q57.4967 308.45 57.4967 312.2 Q57.4967 315.926 59.3254 318.102 Q61.1773 320.255 64.3254 320.255 Q67.4735 320.255 69.3022 318.102 Q71.1541 315.926 71.1541 312.2 Q71.1541 308.45 69.3022 306.297 Q67.4735 304.144 64.3254 304.144 M73.6077 289.491 L73.6077 293.751 Q71.8485 292.917 70.0429 292.477 Q68.2606 292.038 66.5013 292.038 Q61.8717 292.038 59.418 295.163 Q56.9875 298.288 56.6402 304.607 Q58.006 302.593 60.0662 301.528 Q62.1263 300.44 64.6032 300.44 Q69.8115 300.44 72.8207 303.612 Q75.8531 306.76 75.8531 312.2 Q75.8531 317.524 72.705 320.741 Q69.5568 323.959 64.3254 323.959 Q58.33 323.959 55.1588 319.375 Q51.9875 314.769 51.9875 306.042 Q51.9875 297.848 55.8764 292.987 Q59.7652 288.102 66.3161 288.102 Q68.0754 288.102 69.8578 288.45 Q71.6633 288.797 73.6077 289.491 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M93.9086 291.806 Q90.2975 291.806 88.4688 295.371 Q86.6632 298.913 86.6632 306.042 Q86.6632 313.149 88.4688 316.713 Q90.2975 320.255 93.9086 320.255 Q97.5428 320.255 99.3483 316.713 Q101.177 313.149 101.177 306.042 Q101.177 298.913 99.3483 295.371 Q97.5428 291.806 93.9086 291.806 M93.9086 288.102 Q99.7187 288.102 102.774 292.709 Q105.853 297.292 105.853 306.042 Q105.853 314.769 102.774 319.375 Q99.7187 323.959 93.9086 323.959 Q88.0984 323.959 85.0197 319.375 Q81.9642 314.769 81.9642 306.042 Q81.9642 297.292 85.0197 292.709 Q88.0984 288.102 93.9086 288.102 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M124.07 291.806 Q120.459 291.806 118.631 295.371 Q116.825 298.913 116.825 306.042 Q116.825 313.149 118.631 316.713 Q120.459 320.255 124.07 320.255 Q127.705 320.255 129.51 316.713 Q131.339 313.149 131.339 306.042 Q131.339 298.913 129.51 295.371 Q127.705 291.806 124.07 291.806 M124.07 288.102 Q129.881 288.102 132.936 292.709 Q136.015 297.292 136.015 306.042 Q136.015 314.769 132.936 319.375 Q129.881 323.959 124.07 323.959 Q118.26 323.959 115.182 319.375 Q112.126 314.769 112.126 306.042 Q112.126 297.292 115.182 292.709 Q118.26 288.102 124.07 288.102 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip882)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="233.734,1441.9 254.307,1441.9 274.88,1441.9 295.453,1441.9 316.026,1441.9 336.599,1441.9 357.172,1441.9 377.745,1441.9 398.318,1441.9 418.891,1441.9 439.464,1441.9 460.037,1441.9 480.61,1441.9 501.183,1443.81 521.756,1443.81 542.329,1443.81 562.902,1443.81 583.475,1443.81 604.048,1443.81 624.621,1443.81 645.194,1443.81 665.768,1443.81 686.341,1443.81 706.914,1443.81 727.487,1443.81 748.06,1443.81 768.633,1443.81 789.206,1443.81 809.779,1443.81 830.352,1443.81 850.925,1443.81 871.498,1443.81 892.071,1443.81 912.644,1443.81 933.217,1443.81 953.79,1443.81 974.363,1443.81 994.936,1443.81 1015.51,1443.81 1036.08,1443.81 1056.66,1443.81 1077.23,1443.81 1097.8,1443.81 1118.37,1443.81 1138.95,1443.81 1159.52,1443.81 1180.09,1443.81 1200.67,1443.81 1221.24,1443.81 1241.81,1443.81 1262.39,1443.81 1282.96,1443.81 1303.53,1443.81 1324.1,1443.81 1344.68,1443.81 1365.25,1443.81 1385.82,1443.81 1406.4,1443.81 1426.97,1443.81 1447.54,1443.81 1468.12,1443.81 1488.69,1443.81 1509.26,1445.72 1529.83,1445.72 1550.41,1445.72 1570.98,1445.72 1591.55,1445.72 1612.13,1445.72 1632.7,1445.72 1653.27,1445.72 1673.85,1445.72 1694.42,1445.72 1714.99,1445.72 1735.57,1445.72 1756.14,1445.72 1776.71,1445.72 1797.28,1445.72 1817.86,1445.72 1838.43,1445.72 1859,1445.72 1879.58,1445.72 1900.15,1445.72 1920.72,1445.72 1941.3,1445.72 1961.87,1445.72 1982.44,1445.72 2003.01,1445.72 2023.59,1445.72 2044.16,1445.72 2064.73,1445.72 2085.31,1445.72 2105.88,1445.72 2126.45,1445.72 2147.03,1445.72 2167.6,1445.72 2188.17,1445.72 2208.74,1445.72 2229.32,1445.72 2249.89,1445.72 2270.46,1445.72 2291.04,1445.72 "/>
<polyline clip-path="url(#clip882)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="233.734,376.334 254.307,229.01 274.88,133.908 295.453,104.176 316.026,128.571 336.599,191.655 357.172,279.706 377.745,342.219 398.318,375 418.891,414.261 439.464,414.451 460.037,415.023 480.61,397.108 501.183,359.753 521.756,317.061 542.329,279.706 562.902,245.973 583.475,229.773 604.048,232.632 624.621,225.58 645.194,236.634 665.768,254.74 686.341,267.318 706.914,289.426 727.487,315.727 748.06,314.012 768.633,303.53 789.206,283.328 809.779,252.834 830.352,222.34 850.925,198.898 871.498,169.547 892.071,145.724 912.644,136.385 933.217,154.3 953.79,160.209 974.363,171.072 994.936,185.366 1015.51,173.359 1036.08,172.597 1056.66,156.778 1077.23,163.83 1097.8,171.834 1118.37,191.846 1138.95,200.422 1159.52,224.627 1180.09,256.455 1200.67,277.419 1221.24,298.575 1241.81,318.396 1262.39,326.4 1282.96,341.266 1303.53,339.551 1324.1,315.727 1344.68,297.05 1365.25,264.078 1385.82,265.222 1406.4,252.453 1426.97,246.163 1447.54,239.874 1468.12,234.728 1488.69,239.683 1509.26,230.154 1529.83,226.342 1550.41,221.959 1570.98,225.961 1591.55,224.055 1612.13,230.726 1632.7,233.966 1653.27,228.248 1673.85,234.156 1694.42,228.248 1714.99,239.112 1735.57,249.213 1756.14,255.121 1776.71,267.89 1797.28,280.85 1817.86,298.384 1838.43,319.348 1859,339.551 1879.58,334.977 1900.15,325.066 1920.72,302.386 1941.3,273.798 1961.87,228.629 1982.44,184.604 2003.01,151.06 2023.59,130.668 2044.16,102.651 2064.73,87.9763 2085.31,88.7386 2105.88,115.421 2126.45,145.343 2147.03,187.844 2167.6,240.064 2188.17,291.904 2208.74,336.501 2229.32,373.285 2249.89,403.588 2270.46,416.548 2291.04,435.988 "/>
<polyline clip-path="url(#clip882)" style="stroke:#3da44d; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="233.734,1373.29 254.307,1314.21 274.88,1217.01 295.453,1112.19 316.026,1014.99 336.599,1003.55 357.172,986.402 377.745,988.308 398.318,969.249 418.891,1053.11 439.464,1119.81 460.037,1110.28 480.61,1175.08 501.183,1209.39 521.756,1211.29 542.329,1182.71 562.902,1194.14 583.475,1161.74 604.048,1136.97 624.621,1121.72 645.194,1102.66 665.768,1125.53 686.341,1091.22 706.914,1087.41 727.487,1108.38 748.06,1136.97 768.633,1159.84 789.206,1188.42 809.779,1192.24 830.352,1192.24 850.925,1220.82 871.498,1228.45 892.071,1211.29 912.644,1201.76 933.217,1169.37 953.79,1150.31 974.363,1133.15 994.936,1157.93 1015.51,1215.11 1036.08,1190.33 1056.66,1203.67 1077.23,1186.52 1097.8,1188.42 1118.37,1152.21 1138.95,1142.68 1159.52,1112.19 1180.09,1064.54 1200.67,1060.73 1221.24,1125.53 1241.81,1089.32 1262.39,1091.22 1282.96,1104.57 1303.53,1121.72 1324.1,1169.37 1344.68,1184.61 1365.25,1157.93 1385.82,1157.93 1406.4,1175.08 1426.97,1140.78 1447.54,1127.44 1468.12,1131.25 1488.69,1129.34 1509.26,1167.46 1529.83,1175.08 1550.41,1165.55 1570.98,1142.68 1591.55,1167.46 1612.13,1142.68 1632.7,1156.02 1653.27,1138.87 1673.85,1157.93 1694.42,1150.31 1714.99,1123.62 1735.57,1150.31 1756.14,1138.87 1776.71,1095.04 1797.28,1093.13 1817.86,1085.51 1838.43,1091.22 1859,1104.57 1879.58,1093.13 1900.15,1112.19 1920.72,1156.02 1941.3,1224.64 1961.87,1243.69 1982.44,1255.13 2003.01,1220.82 2023.59,1232.26 2044.16,1230.35 2064.73,1209.39 2085.31,1190.33 2105.88,1169.37 2126.45,1144.59 2147.03,1062.64 2167.6,1032.14 2188.17,1049.3 2208.74,1022.61 2229.32,1055.01 2249.89,1032.14 2270.46,1045.48 2291.04,1062.64 "/>
<path clip-path="url(#clip880)" d="M1919.14 302.578 L2280.06 302.578 L2280.06 95.2176 L1919.14 95.2176  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip880)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1919.14,302.578 2280.06,302.578 2280.06,95.2176 1919.14,95.2176 1919.14,302.578 "/>
<polyline clip-path="url(#clip880)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="1943.37,147.058 2088.76,147.058 "/>
<path clip-path="url(#clip880)" d="M2112.99 129.778 L2117.71 129.778 L2124.98 158.99 L2132.22 129.778 L2137.48 129.778 L2144.75 158.99 L2151.99 129.778 L2156.74 129.778 L2148.06 164.338 L2142.18 164.338 L2134.89 134.338 L2127.52 164.338 L2121.64 164.338 L2112.99 129.778 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2170.02 141.398 Q2166.6 141.398 2164.61 144.083 Q2162.62 146.745 2162.62 151.398 Q2162.62 156.051 2164.58 158.736 Q2166.58 161.398 2170.02 161.398 Q2173.43 161.398 2175.42 158.713 Q2177.41 156.027 2177.41 151.398 Q2177.41 146.791 2175.42 144.106 Q2173.43 141.398 2170.02 141.398 M2170.02 137.787 Q2175.58 137.787 2178.75 141.398 Q2181.92 145.009 2181.92 151.398 Q2181.92 157.764 2178.75 161.398 Q2175.58 165.009 2170.02 165.009 Q2164.45 165.009 2161.27 161.398 Q2158.13 157.764 2158.13 151.398 Q2158.13 145.009 2161.27 141.398 Q2164.45 137.787 2170.02 137.787 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2188.98 128.319 L2193.24 128.319 L2193.24 164.338 L2188.98 164.338 L2188.98 128.319 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2215.28 128.319 L2215.28 131.861 L2211.2 131.861 Q2208.91 131.861 2208.01 132.787 Q2207.13 133.713 2207.13 136.12 L2207.13 138.412 L2214.14 138.412 L2214.14 141.722 L2207.13 141.722 L2207.13 164.338 L2202.85 164.338 L2202.85 141.722 L2198.77 141.722 L2198.77 138.412 L2202.85 138.412 L2202.85 136.606 Q2202.85 132.278 2204.86 130.31 Q2206.88 128.319 2211.25 128.319 L2215.28 128.319 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip880)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="1943.37,198.898 2088.76,198.898 "/>
<path clip-path="url(#clip880)" d="M2138.54 211.247 L2138.54 201.965 L2130.9 201.965 L2130.9 198.122 L2143.17 198.122 L2143.17 212.96 Q2140.46 214.881 2137.2 215.877 Q2133.94 216.849 2130.23 216.849 Q2122.13 216.849 2117.55 212.127 Q2112.99 207.381 2112.99 198.932 Q2112.99 190.46 2117.55 185.738 Q2122.13 180.993 2130.23 180.993 Q2133.61 180.993 2136.64 181.826 Q2139.7 182.659 2142.27 184.28 L2142.27 189.256 Q2139.68 187.057 2136.76 185.946 Q2133.84 184.835 2130.63 184.835 Q2124.28 184.835 2121.09 188.377 Q2117.92 191.918 2117.92 198.932 Q2117.92 205.923 2121.09 209.465 Q2124.28 213.006 2130.63 213.006 Q2133.1 213.006 2135.05 212.59 Q2136.99 212.15 2138.54 211.247 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2166.55 194.233 Q2165.83 193.817 2164.98 193.631 Q2164.14 193.423 2163.13 193.423 Q2159.52 193.423 2157.57 195.784 Q2155.65 198.122 2155.65 202.52 L2155.65 216.178 L2151.37 216.178 L2151.37 190.252 L2155.65 190.252 L2155.65 194.28 Q2156.99 191.918 2159.14 190.784 Q2161.3 189.627 2164.38 189.627 Q2164.82 189.627 2165.35 189.696 Q2165.88 189.743 2166.53 189.858 L2166.55 194.233 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2182.8 203.145 Q2177.64 203.145 2175.65 204.326 Q2173.66 205.506 2173.66 208.354 Q2173.66 210.622 2175.14 211.965 Q2176.64 213.284 2179.21 213.284 Q2182.76 213.284 2184.89 210.784 Q2187.04 208.261 2187.04 204.094 L2187.04 203.145 L2182.8 203.145 M2191.3 201.386 L2191.3 216.178 L2187.04 216.178 L2187.04 212.242 Q2185.58 214.603 2183.4 215.738 Q2181.23 216.849 2178.08 216.849 Q2174.1 216.849 2171.74 214.627 Q2169.4 212.381 2169.4 208.631 Q2169.4 204.256 2172.32 202.034 Q2175.26 199.812 2181.07 199.812 L2187.04 199.812 L2187.04 199.395 Q2187.04 196.455 2185.09 194.858 Q2183.17 193.238 2179.68 193.238 Q2177.45 193.238 2175.35 193.77 Q2173.24 194.303 2171.3 195.367 L2171.3 191.432 Q2173.64 190.53 2175.83 190.09 Q2178.03 189.627 2180.12 189.627 Q2185.74 189.627 2188.52 192.543 Q2191.3 195.46 2191.3 201.386 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2216.6 191.016 L2216.6 195.043 Q2214.79 194.117 2212.85 193.655 Q2210.9 193.192 2208.82 193.192 Q2205.65 193.192 2204.05 194.164 Q2202.48 195.136 2202.48 197.08 Q2202.48 198.562 2203.61 199.418 Q2204.75 200.252 2208.17 201.016 L2209.63 201.34 Q2214.17 202.312 2216.07 204.094 Q2217.99 205.854 2217.99 209.025 Q2217.99 212.636 2215.12 214.742 Q2212.27 216.849 2207.27 216.849 Q2205.19 216.849 2202.92 216.432 Q2200.67 216.039 2198.17 215.228 L2198.17 210.83 Q2200.53 212.057 2202.83 212.682 Q2205.12 213.284 2207.36 213.284 Q2210.37 213.284 2211.99 212.266 Q2213.61 211.224 2213.61 209.349 Q2213.61 207.613 2212.43 206.687 Q2211.27 205.761 2207.32 204.904 L2205.83 204.557 Q2201.88 203.724 2200.12 202.011 Q2198.36 200.275 2198.36 197.266 Q2198.36 193.608 2200.95 191.618 Q2203.54 189.627 2208.31 189.627 Q2210.67 189.627 2212.76 189.974 Q2214.84 190.321 2216.6 191.016 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2241.3 191.016 L2241.3 195.043 Q2239.49 194.117 2237.55 193.655 Q2235.6 193.192 2233.52 193.192 Q2230.35 193.192 2228.75 194.164 Q2227.18 195.136 2227.18 197.08 Q2227.18 198.562 2228.31 199.418 Q2229.45 200.252 2232.87 201.016 L2234.33 201.34 Q2238.87 202.312 2240.76 204.094 Q2242.69 205.854 2242.69 209.025 Q2242.69 212.636 2239.82 214.742 Q2236.97 216.849 2231.97 216.849 Q2229.89 216.849 2227.62 216.432 Q2225.37 216.039 2222.87 215.228 L2222.87 210.83 Q2225.23 212.057 2227.52 212.682 Q2229.82 213.284 2232.06 213.284 Q2235.07 213.284 2236.69 212.266 Q2238.31 211.224 2238.31 209.349 Q2238.31 207.613 2237.13 206.687 Q2235.97 205.761 2232.01 204.904 L2230.53 204.557 Q2226.57 203.724 2224.82 202.011 Q2223.06 200.275 2223.06 197.266 Q2223.06 193.608 2225.65 191.618 Q2228.24 189.627 2233.01 189.627 Q2235.37 189.627 2237.45 189.974 Q2239.54 190.321 2241.3 191.016 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip880)" style="stroke:#3da44d; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="1943.37,250.738 2088.76,250.738 "/>
<path clip-path="url(#clip880)" d="M2135.23 234.592 L2135.23 239.152 Q2132.57 237.879 2130.21 237.254 Q2127.85 236.629 2125.65 236.629 Q2121.83 236.629 2119.75 238.11 Q2117.69 239.592 2117.69 242.323 Q2117.69 244.615 2119.05 245.795 Q2120.44 246.953 2124.28 247.67 L2127.11 248.249 Q2132.34 249.245 2134.82 251.768 Q2137.32 254.268 2137.32 258.481 Q2137.32 263.504 2133.94 266.096 Q2130.58 268.689 2124.08 268.689 Q2121.62 268.689 2118.84 268.133 Q2116.09 267.578 2113.13 266.49 L2113.13 261.675 Q2115.97 263.272 2118.71 264.082 Q2121.44 264.893 2124.08 264.893 Q2128.08 264.893 2130.26 263.319 Q2132.43 261.744 2132.43 258.828 Q2132.43 256.282 2130.86 254.846 Q2129.31 253.411 2125.74 252.694 L2122.89 252.138 Q2117.66 251.096 2115.33 248.874 Q2112.99 246.652 2112.99 242.694 Q2112.99 238.11 2116.21 235.471 Q2119.45 232.833 2125.12 232.833 Q2127.55 232.833 2130.07 233.272 Q2132.59 233.712 2135.23 234.592 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2165.97 252.369 L2165.97 268.018 L2161.71 268.018 L2161.71 252.508 Q2161.71 248.828 2160.28 246.999 Q2158.84 245.17 2155.97 245.17 Q2152.52 245.17 2150.53 247.37 Q2148.54 249.569 2148.54 253.365 L2148.54 268.018 L2144.26 268.018 L2144.26 231.999 L2148.54 231.999 L2148.54 246.12 Q2150.07 243.782 2152.13 242.624 Q2154.21 241.467 2156.92 241.467 Q2161.39 241.467 2163.68 244.245 Q2165.97 246.999 2165.97 252.369 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2196.64 253.99 L2196.64 256.073 L2177.06 256.073 Q2177.34 260.471 2179.7 262.786 Q2182.08 265.078 2186.32 265.078 Q2188.77 265.078 2191.07 264.476 Q2193.38 263.874 2195.65 262.67 L2195.65 266.698 Q2193.36 267.67 2190.95 268.18 Q2188.54 268.689 2186.07 268.689 Q2179.86 268.689 2176.23 265.078 Q2172.62 261.467 2172.62 255.309 Q2172.62 248.944 2176.04 245.217 Q2179.49 241.467 2185.33 241.467 Q2190.56 241.467 2193.59 244.846 Q2196.64 248.203 2196.64 253.99 M2192.39 252.74 Q2192.34 249.245 2190.42 247.161 Q2188.52 245.078 2185.37 245.078 Q2181.81 245.078 2179.65 247.092 Q2177.52 249.106 2177.2 252.763 L2192.39 252.74 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2225.81 253.99 L2225.81 256.073 L2206.23 256.073 Q2206.51 260.471 2208.87 262.786 Q2211.25 265.078 2215.49 265.078 Q2217.94 265.078 2220.23 264.476 Q2222.55 263.874 2224.82 262.67 L2224.82 266.698 Q2222.52 267.67 2220.12 268.18 Q2217.71 268.689 2215.23 268.689 Q2209.03 268.689 2205.39 265.078 Q2201.78 261.467 2201.78 255.309 Q2201.78 248.944 2205.21 245.217 Q2208.66 241.467 2214.49 241.467 Q2219.72 241.467 2222.76 244.846 Q2225.81 248.203 2225.81 253.99 M2221.55 252.74 Q2221.51 249.245 2219.58 247.161 Q2217.69 245.078 2214.54 245.078 Q2210.97 245.078 2208.82 247.092 Q2206.69 249.106 2206.37 252.763 L2221.55 252.74 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip880)" d="M2236.92 264.129 L2236.92 277.879 L2232.64 277.879 L2232.64 242.092 L2236.92 242.092 L2236.92 246.027 Q2238.26 243.712 2240.3 242.601 Q2242.36 241.467 2245.21 241.467 Q2249.93 241.467 2252.87 245.217 Q2255.83 248.967 2255.83 255.078 Q2255.83 261.189 2252.87 264.939 Q2249.93 268.689 2245.21 268.689 Q2242.36 268.689 2240.3 267.578 Q2238.26 266.443 2236.92 264.129 M2251.41 255.078 Q2251.41 250.379 2249.47 247.717 Q2247.55 245.032 2244.17 245.032 Q2240.79 245.032 2238.84 247.717 Q2236.92 250.379 2236.92 255.078 Q2236.92 259.777 2238.84 262.462 Q2240.79 265.124 2244.17 265.124 Q2247.55 265.124 2249.47 262.462 Q2251.41 259.777 2251.41 255.078 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /></svg>
<h2 id="Package:-Ecosystem.jl"><a class="docs-heading-anchor" href="#Package:-Ecosystem.jl">Package: <code>Ecosystem.jl</code></a><a id="Package:-Ecosystem.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Package:-Ecosystem.jl" title="Permalink"></a></h2><p>In the main section of this lab you will create your own <code>Ecosystem.jl</code> package to organize <em>and test (!)</em> the code that we have written so far.</p><h3 id="PkgTemplates.jl"><a class="docs-heading-anchor" href="#PkgTemplates.jl"><code>PkgTemplates.jl</code></a><a id="PkgTemplates.jl-1"></a><a class="docs-heading-anchor-permalink" href="#PkgTemplates.jl" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>The simplest way to create a new package in Julia is to use <code>PkgTemplates.jl</code>. <code>]add PkgTemplates</code> to your global julia env and create a new package by running:</p><pre><code class="language-julia hljs">using PkgTemplates
Template(interactive=true)(&quot;Ecosystem&quot;)</code></pre><p>to interactively specify various options for your new package or use the following snippet to generate it programmatically:</p><pre><code class="language-julia hljs">using PkgTemplates

# define the package template
template = Template(;
    user = &quot;GithubUserName&quot;,            # github user name
    authors = [&quot;Author1&quot;, &quot;Author2&quot;],   # list of authors
    dir = &quot;/path/to/folder/&quot;,           # dir in which the package will be created
    julia = v&quot;1.8&quot;,                     # compat version of Julia
    plugins = [
        !CompatHelper,                  # disable CompatHelper
        !TagBot,                        # disable TagBot
        Readme(; inline_badges = true), # added readme file with badges
        Tests(; project = true),        # added Project.toml file for unit tests
        Git(; manifest = false),        # add manifest.toml to .gitignore
        License(; name = &quot;MIT&quot;)         # addedMIT licence
    ],
)

# execute the package template (this creates all files/folders)
template(&quot;Ecosystem&quot;)</code></pre></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><p>This should have created a new folder <code>Ecosystem</code> which looks like below.</p><pre><code class="nohighlight hljs">.
├── LICENSE
├── Project.toml
├── README.md
├── src
│   └── Ecosystem.jl
└── test
    ├── Manifest.toml
    ├── Project.toml
    └── runtests.jl</code></pre><p>If you <code>]activate /path/to/Ecosystem</code> you should be able to run <code>]test</code> to run the autogenerated test (which is not doing anything) and get the following output:</p><pre><code class="nohighlight hljs">(Ecosystem) pkg&gt; test
     Testing Ecosystem
      Status `/private/var/folders/6h/l9_skfms2v3dt8z3zfnd2jr00000gn/T/jl_zd5Uai/Project.toml`
  [e77cd98c] Ecosystem v0.1.0 `~/repos/Ecosystem`
  [8dfed614] Test `@stdlib/Test`
      Status `/private/var/folders/6h/l9_skfms2v3dt8z3zfnd2jr00000gn/T/jl_zd5Uai/Manifest.toml`
  [e77cd98c] Ecosystem v0.1.0 `~/repos/Ecosystem`
  [2a0f44e3] Base64 `@stdlib/Base64`
  [b77e0a4c] InteractiveUtils `@stdlib/InteractiveUtils`
  [56ddb016] Logging `@stdlib/Logging`
  [d6f4376e] Markdown `@stdlib/Markdown`
  [9a3f8284] Random `@stdlib/Random`
  [ea8e919c] SHA v0.7.0 `@stdlib/SHA`
  [9e88b42a] Serialization `@stdlib/Serialization`
  [8dfed614] Test `@stdlib/Test`
     Testing Running tests...
Test Summary: |Time
Ecosystem.jl  | None  0.0s
     Testing Ecosystem tests passed </code></pre></p></details><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>From now on make sure that you <strong>always</strong> have the <code>Ecosystem</code> enviroment enabled. Otherwise you will not end up with the correct dependencies in your packages</p></div></div><h3 id="Adding-content-to-Ecosystem.jl"><a class="docs-heading-anchor" href="#Adding-content-to-Ecosystem.jl">Adding content to <code>Ecosystem.jl</code></a><a id="Adding-content-to-Ecosystem.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-content-to-Ecosystem.jl" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>Next, let&#39;s add the types and functions we have defined so far. You can use <code>include(&quot;path/to/file.jl&quot;)</code> in the main module file at <code>src/Ecosystem.jl</code> to bring some structure in your code. An exemplary file structure could look like below.</p><pre><code class="nohighlight hljs">.
├── LICENSE
├── Manifest.toml
├── Project.toml
├── README.md
├── src
│   ├── Ecosystem.jl
│   ├── animal.jl
│   ├── plant.jl
│   └── world.jl
└── test
    └── runtests.jl</code></pre><p>While you are adding functionality to your package you can make great use of <code>Revise.jl</code>.  Loading <code>Revise.jl</code> before your <code>Ecosystem.jl</code> will automatically recompile (and invalidate old methods!) while you develop.  You can install it in your global environment and and create a <code>$HOME/.config/startup.jl</code> which always loads <code>Revise</code>. It can look like this:</p><pre><code class="language-julia hljs"># try/catch block to make sure you can start julia if Revise should not be installed
try
    using Revise
catch e
    @warn(e.msg)
end</code></pre></div></div><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>At some point along the way you should run into problems with the <code>sample</code> functions or when trying <code>using StatsBase</code>. This is normal, because you have not added the package to the <code>Ecosystem</code> environment yet. Adding it is as easy as <code>]add StatsBase</code>. Your <code>Ecosystem</code> environment should now look like this:</p><pre><code class="nohighlight hljs">(Ecosystem) pkg&gt; status
Project Ecosystem v0.1.0
Status `~/repos/Ecosystem/Project.toml`
  [2913bbd2] StatsBase v0.33.21</code></pre></div></div><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>In order to use your new types/functions like below</p><pre><code class="language-julia hljs">using Ecosystem

Sheep(2)</code></pre><p>you have to <code>export</code> them from your module. Add exports for all important types and functions.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs"># src/Ecosystem.jl
module Ecosystem

using StatsBase

export World
export Species, PlantSpecies, AnimalSpecies, Grass, Sheep, Wolf
export Agent, Plant, Animal
export agent_step!, eat!, eats, find_food, reproduce!, world_step!, agent_count

# ....

end</code></pre></p></details><h3 id="Unit-tests"><a class="docs-heading-anchor" href="#Unit-tests">Unit tests</a><a id="Unit-tests-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-tests" title="Permalink"></a></h3><p>Every package should have tests which verify the correctness of your implementation, such that you can make changes to your codebase and remain confident that you did not break anything.</p><p>Julia&#39;s <code>Test</code> package provides you functionality to easily write <a href="https://docs.julialang.org/en/v1/stdlib/Test/">unit tests</a>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>In the file <code>test/runtests.jl</code>, create a new <code>@testset</code> and write three <code>@test</code>s which check that the <code>show</code> methods we defined for <code>Grass</code>, <code>Sheep</code>, and <code>Wolf</code> work as expected.</p><p>The function <code>repr(x) == &quot;some string&quot;</code> to check if the string representation we defined in the <code>Base.show</code> overload returns what you expect.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; # using Ecosystem
       using Test</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @testset &quot;Base.show&quot; begin
           g = Grass(1,1,1)
           s = Animal{Sheep}(2,1,1,1,1,male)
           w = Animal{Wolf}(3,1,1,1,1,female)
           @test repr(g) == &quot;🌿  #1 100% grown&quot;
           @test repr(s) == &quot;🐑♂ #2 E=1.0 ΔE=1.0 pr=1.0 pf=1.0&quot;
           @test repr(w) == &quot;🐺♀ #3 E=1.0 ΔE=1.0 pr=1.0 pf=1.0&quot;
       end</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">Test Summary: | <span class="sgr32">Pass  </span><span class="sgr36">Total  </span>Time</span>
Base.show     | <span class="sgr32">   3  </span><span class="sgr36">    3  </span>0.4s
Test.DefaultTestSet(&quot;Base.show&quot;, Any[], 3, false, false, true, 1.698310978951095e9, 1.698310979325838e9, false)</code></pre></p></details><h3 id="Github-CI"><a class="docs-heading-anchor" href="#Github-CI">Github CI</a><a id="Github-CI-1"></a><a class="docs-heading-anchor-permalink" href="#Github-CI" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>If you want you can upload you package to Github and add the <code>julia-runtest</code> <a href="https://github.com/julia-actions/julia-runtest">Github Action</a> to automatically test your code for every new push you make to the repository.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../lecture/">« Lecture</a><a class="docs-footer-nextpage" href="../hw/">Homework »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 26 October 2023 09:03">Thursday 26 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
