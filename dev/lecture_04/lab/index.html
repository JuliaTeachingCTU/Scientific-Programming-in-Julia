<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lab ¬∑ Scientific Programming in Julia</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://JuliaTeachingCTU.github.io/Scientific-Programming-in-Julia/lecture_04/lab/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../assets/onlinestats.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="Scientific Programming in Julia logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="Scientific Programming in Julia logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Scientific Programming in Julia</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation/">Installation</a></li><li><a class="tocitem" href="../../projects/">Projects</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">1: Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_01/motivation/">Motivation</a></li><li><a class="tocitem" href="../../lecture_01/basics/">Basics</a></li><li><a class="tocitem" href="../../lecture_01/demo/">Examples</a></li><li><a class="tocitem" href="../../lecture_01/outline/">Outline</a></li><li><a class="tocitem" href="../../lecture_01/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_01/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">2: The power of Type System &amp; multiple dispatch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_02/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_02/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_02/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">3: Design Patterns</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_03/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_03/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_03/hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox" checked/><label class="tocitem" for="menuitem-7"><span class="docs-label">4: Package development, Unit test &amp; CI</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../lecture/">Lecture</a></li><li class="is-active"><a class="tocitem" href>Lab</a><ul class="internal"><li><a class="tocitem" href="#Warmup-Stepping-through-time"><span>Warmup - Stepping through time</span></a></li><li><a class="tocitem" href="#Package:-Ecosystem.jl"><span>Package: <code>Ecosystem.jl</code></span></a></li></ul></li><li><a class="tocitem" href="../hw/">Homework</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">5: Performance Benchmarking</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../lecture_05/lecture/">Lecture</a></li><li><a class="tocitem" href="../../lecture_05/lab/">Lab</a></li><li><a class="tocitem" href="../../lecture_05/hw/">Homework</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">4: Package development, Unit test &amp; CI</a></li><li class="is-active"><a href>Lab</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Lab</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaTeachingCTU/Scientific-Programming-in-Julia/blob/2022W/docs/src/lecture_04/lab.md#" title="Edit on GitHub"><span class="docs-icon fab">ÔÇõ</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Lab-04:-Packaging"><a class="docs-heading-anchor" href="#Lab-04:-Packaging">Lab 04: Packaging</a><a id="Lab-04:-Packaging-1"></a><a class="docs-heading-anchor-permalink" href="#Lab-04:-Packaging" title="Permalink"></a></h1><h2 id="Warmup-Stepping-through-time"><a class="docs-heading-anchor" href="#Warmup-Stepping-through-time">Warmup - Stepping through time</a><a id="Warmup-Stepping-through-time-1"></a><a class="docs-heading-anchor-permalink" href="#Warmup-Stepping-through-time" title="Permalink"></a></h2><p>We now have all necessary functions in place to make agents perform one step of our simulation.  At the beginning of each step an animal looses energy. Afterwards it tries to find some food, which it will subsequently eat. If the animal then has less than zero energy it dies and is removed from the world. If it has positive energy it will try to reproduce.</p><p>Plants have a simpler life. They simply grow if they have not reached their maximal size.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><ol><li>Implement a method <code>agent_step!(::Animal,::World)</code> which performs the following steps:<ul><li>Decrement <span>$E$</span> of agent by <code>1.0</code>.</li><li>With <span>$p_f$</span>, try to find some food and eat it.</li><li>If <span>$E&lt;0$</span>, the animal dies.</li><li>With <span>$p_r$</span>, try to reproduce.</li></ul></li><li>Implement a method <code>agent_step!(::Plant,::World)</code> which performs the following steps:<ul><li>If the size of the plant is smaller than <code>max_size</code>, increment the plant&#39;s size by one.</li></ul></li></ol></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs">function agent_step!(p::Plant, w::World)
    if p.size &lt; p.max_size
        p.size += 1
    end
end

function agent_step!(a::Animal, w::World)
    a.energy -= 1
    if rand() &lt;= a.foodprob
        dinner = find_food(a,w)
        eat!(a, dinner, w)
    end
    if a.energy &lt; 0
        kill_agent!(a,w)
        return
    end
    if rand() &lt;= a.reprprob
        reproduce!(a,w)
    end
end</code></pre></p></details><p>An <code>agent_step!</code> of a sheep in a world with a single grass should make it consume the grass, let it reproduce, and eventually die if there is no more food and its energy is at zero:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; sheep = Sheep(1,2.0,2.0,1.0,1.0,male);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; grass = Grass(2,2,2);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world = World([sheep, grass])</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Agent}
  üåø  #2 100% grown
  üêë‚ôÇ #1 E=2.0 ŒîE=2.0 pr=1.0 pf=1.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; agent_step!(sheep, world); world</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Agent}
  üåø  #2 0% grown
  üêë‚ôÇ #1 E=5.0 ŒîE=2.0 pr=1.0 pf=1.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; # NOTE: The second agent step leads to an error.
       # Can you figure out what is the problem here?
       agent_step!(sheep, world); world</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: MethodError: no method matching eat!(::Main.Animal{üêë}, ::Nothing, ::Main.World{Main.Agent})
Closest candidates are:
  eat!(::Main.Animal{üêë}, <span class="sgr91">::Main.Plant{üåø}</span>, ::Main.World) at ~/work/Scientific-Programming-in-Julia/Scientific-Programming-in-Julia/docs/src/lecture_03/Lab03Ecosystem.jl:106
  eat!(<span class="sgr91">::Main.Animal{üê∫}</span>, <span class="sgr91">::Main.Animal{üêë}</span>, ::Main.World) at ~/work/Scientific-Programming-in-Julia/Scientific-Programming-in-Julia/docs/src/lecture_03/Lab03Ecosystem.jl:110</code></pre><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>Finally, lets implement a function <code>world_step!</code> which performs one <code>agent_step!</code> for each agent.  Note that simply iterating over all agents could lead to problems because we are mutating the agent dictionary.  One solution for this is to iterate over a copy of all agent IDs that are present when starting to iterate over agents.  Additionally, it could happen that an agent is killed by another one before we apply <code>agent_step!</code> to it. To solve this you can check if a given ID is currently present in the <code>World</code>.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs"># make it possible to eat nothing
eat!(::Animal, ::Nothing, ::World) = nothing

function world_step!(world::World)
    # make sure that we only iterate over IDs that already exist in the
    # current timestep this lets us safely add agents
    ids = copy(keys(world.agents))

    for id in ids
        # agents can be killed by other agents, so make sure that we are
        # not stepping dead agents forward
        !haskey(world.agents,id) &amp;&amp; continue

        a = world.agents[id]
        agent_step!(a,world)
    end
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">world_step! (generic function with 1 method)</code></pre></p></details><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; w = World([Sheep(1), Sheep(2), Wolf(3)])</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  üêë‚ôÇ #2 E=4.0 ŒîE=0.2 pr=0.8 pf=0.6
  üê∫‚ôÇ #3 E=10.0 ŒîE=8.0 pr=0.1 pf=0.2
  üêë‚ôÇ #1 E=4.0 ŒîE=0.2 pr=0.8 pf=0.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  üêë‚ôÇ #2 E=3.0 ŒîE=0.2 pr=0.8 pf=0.6
  üê∫‚ôÇ #3 E=9.0 ŒîE=8.0 pr=0.1 pf=0.2
  üêë‚ôÇ #1 E=3.0 ŒîE=0.2 pr=0.8 pf=0.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  üê∫‚ôÇ #3 E=24.0 ŒîE=8.0 pr=0.1 pf=0.2
  üêë‚ôÇ #1 E=2.0 ŒîE=0.2 pr=0.8 pf=0.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; world_step!(w); w</code><code class="nohighlight hljs ansi" style="display:block;">Main.World{Main.Animal}
  üê∫‚ôÇ #3 E=23.0 ŒîE=8.0 pr=0.1 pf=0.2
  üêë‚ôÇ #1 E=1.0 ŒîE=0.2 pr=0.8 pf=0.6</code></pre><p>Finally, lets run a few simulation steps and plot the solution</p><pre><code class="language-julia hljs">n_grass  = 1_000
n_sheep  = 40
n_wolves = 4

gs = [Grass(id) for id in 1:n_grass]
ss = [Sheep(id) for id in (n_grass+1):(n_grass+n_sheep)]
ws = [Wolf(id) for id in (n_grass+n_sheep+1):(n_grass+n_sheep+n_wolves)]
w  = World(vcat(gs,ss,ws))

counts = Dict(n=&gt;[c] for (n,c) in agent_count(w))
for _ in 1:100
    world_step!(w)
    for (n,c) in agent_count(w)
        push!(counts[n],c)
    end
end

using Plots
plt = plot()
tolabel(::Type{Animal{Sheep}}) = &quot;Sheep&quot;
tolabel(::Type{Animal{Wolf}}) = &quot;Wolf&quot;
tolabel(::Type{Plant{Grass}}) = &quot;Grass&quot;
for (A,c) in counts
    plot!(plt, c, label=tolabel(A), lw=2)
end
plt</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip450">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip450)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip451">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip450)" d="
M172.015 1486.45 L2352.76 1486.45 L2352.76 47.2441 L172.015 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip452">
    <rect x="172" y="47" width="2182" height="1440"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip452)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  213.161,1486.45 213.161,47.2441 
  "/>
<polyline clip-path="url(#clip452)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  727.487,1486.45 727.487,47.2441 
  "/>
<polyline clip-path="url(#clip452)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1241.81,1486.45 1241.81,47.2441 
  "/>
<polyline clip-path="url(#clip452)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1756.14,1486.45 1756.14,47.2441 
  "/>
<polyline clip-path="url(#clip452)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2270.46,1486.45 2270.46,47.2441 
  "/>
<polyline clip-path="url(#clip450)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1486.45 2352.76,1486.45 
  "/>
<polyline clip-path="url(#clip450)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  213.161,1486.45 213.161,1467.55 
  "/>
<polyline clip-path="url(#clip450)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  727.487,1486.45 727.487,1467.55 
  "/>
<polyline clip-path="url(#clip450)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1241.81,1486.45 1241.81,1467.55 
  "/>
<polyline clip-path="url(#clip450)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1756.14,1486.45 1756.14,1467.55 
  "/>
<polyline clip-path="url(#clip450)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  2270.46,1486.45 2270.46,1467.55 
  "/>
<path clip-path="url(#clip450)" d="M213.161 1517.37 Q209.55 1517.37 207.721 1520.93 Q205.916 1524.47 205.916 1531.6 Q205.916 1538.71 207.721 1542.27 Q209.55 1545.82 213.161 1545.82 Q216.795 1545.82 218.601 1542.27 Q220.429 1538.71 220.429 1531.6 Q220.429 1524.47 218.601 1520.93 Q216.795 1517.37 213.161 1517.37 M213.161 1513.66 Q218.971 1513.66 222.027 1518.27 Q225.105 1522.85 225.105 1531.6 Q225.105 1540.33 222.027 1544.94 Q218.971 1549.52 213.161 1549.52 Q207.351 1549.52 204.272 1544.94 Q201.216 1540.33 201.216 1531.6 Q201.216 1522.85 204.272 1518.27 Q207.351 1513.66 213.161 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M706.758 1544.91 L723.077 1544.91 L723.077 1548.85 L701.133 1548.85 L701.133 1544.91 Q703.795 1542.16 708.378 1537.53 Q712.984 1532.88 714.165 1531.53 Q716.41 1529.01 717.29 1527.27 Q718.193 1525.51 718.193 1523.82 Q718.193 1521.07 716.248 1519.33 Q714.327 1517.6 711.225 1517.6 Q709.026 1517.6 706.572 1518.36 Q704.142 1519.13 701.364 1520.68 L701.364 1515.95 Q704.188 1514.82 706.642 1514.24 Q709.095 1513.66 711.133 1513.66 Q716.503 1513.66 719.697 1516.35 Q722.892 1519.03 722.892 1523.52 Q722.892 1525.65 722.082 1527.57 Q721.295 1529.47 719.188 1532.07 Q718.609 1532.74 715.508 1535.95 Q712.406 1539.15 706.758 1544.91 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M732.938 1514.29 L751.294 1514.29 L751.294 1518.22 L737.22 1518.22 L737.22 1526.7 Q738.239 1526.35 739.257 1526.19 Q740.276 1526 741.294 1526 Q747.081 1526 750.461 1529.17 Q753.841 1532.34 753.841 1537.76 Q753.841 1543.34 750.368 1546.44 Q746.896 1549.52 740.577 1549.52 Q738.401 1549.52 736.132 1549.15 Q733.887 1548.78 731.48 1548.04 L731.48 1543.34 Q733.563 1544.47 735.785 1545.03 Q738.007 1545.58 740.484 1545.58 Q744.489 1545.58 746.827 1543.48 Q749.165 1541.37 749.165 1537.76 Q749.165 1534.15 746.827 1532.04 Q744.489 1529.94 740.484 1529.94 Q738.609 1529.94 736.734 1530.35 Q734.882 1530.77 732.938 1531.65 L732.938 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M1216.51 1514.29 L1234.87 1514.29 L1234.87 1518.22 L1220.79 1518.22 L1220.79 1526.7 Q1221.81 1526.35 1222.83 1526.19 Q1223.85 1526 1224.87 1526 Q1230.65 1526 1234.03 1529.17 Q1237.41 1532.34 1237.41 1537.76 Q1237.41 1543.34 1233.94 1546.44 Q1230.47 1549.52 1224.15 1549.52 Q1221.97 1549.52 1219.71 1549.15 Q1217.46 1548.78 1215.05 1548.04 L1215.05 1543.34 Q1217.14 1544.47 1219.36 1545.03 Q1221.58 1545.58 1224.06 1545.58 Q1228.06 1545.58 1230.4 1543.48 Q1232.74 1541.37 1232.74 1537.76 Q1232.74 1534.15 1230.4 1532.04 Q1228.06 1529.94 1224.06 1529.94 Q1222.18 1529.94 1220.31 1530.35 Q1218.46 1530.77 1216.51 1531.65 L1216.51 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M1256.63 1517.37 Q1253.02 1517.37 1251.19 1520.93 Q1249.38 1524.47 1249.38 1531.6 Q1249.38 1538.71 1251.19 1542.27 Q1253.02 1545.82 1256.63 1545.82 Q1260.26 1545.82 1262.07 1542.27 Q1263.9 1538.71 1263.9 1531.6 Q1263.9 1524.47 1262.07 1520.93 Q1260.26 1517.37 1256.63 1517.37 M1256.63 1513.66 Q1262.44 1513.66 1265.49 1518.27 Q1268.57 1522.85 1268.57 1531.6 Q1268.57 1540.33 1265.49 1544.94 Q1262.44 1549.52 1256.63 1549.52 Q1250.82 1549.52 1247.74 1544.94 Q1244.68 1540.33 1244.68 1531.6 Q1244.68 1522.85 1247.74 1518.27 Q1250.82 1513.66 1256.63 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M1729.99 1514.29 L1752.21 1514.29 L1752.21 1516.28 L1739.67 1548.85 L1734.78 1548.85 L1746.59 1518.22 L1729.99 1518.22 L1729.99 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M1761.38 1514.29 L1779.74 1514.29 L1779.74 1518.22 L1765.66 1518.22 L1765.66 1526.7 Q1766.68 1526.35 1767.7 1526.19 Q1768.72 1526 1769.74 1526 Q1775.52 1526 1778.9 1529.17 Q1782.28 1532.34 1782.28 1537.76 Q1782.28 1543.34 1778.81 1546.44 Q1775.34 1549.52 1769.02 1549.52 Q1766.84 1549.52 1764.58 1549.15 Q1762.33 1548.78 1759.92 1548.04 L1759.92 1543.34 Q1762.01 1544.47 1764.23 1545.03 Q1766.45 1545.58 1768.93 1545.58 Q1772.93 1545.58 1775.27 1543.48 Q1777.61 1541.37 1777.61 1537.76 Q1777.61 1534.15 1775.27 1532.04 Q1772.93 1529.94 1768.93 1529.94 Q1767.05 1529.94 1765.18 1530.35 Q1763.33 1530.77 1761.38 1531.65 L1761.38 1514.29 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2230.07 1544.91 L2237.71 1544.91 L2237.71 1518.55 L2229.4 1520.21 L2229.4 1515.95 L2237.66 1514.29 L2242.34 1514.29 L2242.34 1544.91 L2249.98 1544.91 L2249.98 1548.85 L2230.07 1548.85 L2230.07 1544.91 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2269.42 1517.37 Q2265.81 1517.37 2263.98 1520.93 Q2262.18 1524.47 2262.18 1531.6 Q2262.18 1538.71 2263.98 1542.27 Q2265.81 1545.82 2269.42 1545.82 Q2273.06 1545.82 2274.86 1542.27 Q2276.69 1538.71 2276.69 1531.6 Q2276.69 1524.47 2274.86 1520.93 Q2273.06 1517.37 2269.42 1517.37 M2269.42 1513.66 Q2275.23 1513.66 2278.29 1518.27 Q2281.37 1522.85 2281.37 1531.6 Q2281.37 1540.33 2278.29 1544.94 Q2275.23 1549.52 2269.42 1549.52 Q2263.61 1549.52 2260.53 1544.94 Q2257.48 1540.33 2257.48 1531.6 Q2257.48 1522.85 2260.53 1518.27 Q2263.61 1513.66 2269.42 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2299.58 1517.37 Q2295.97 1517.37 2294.14 1520.93 Q2292.34 1524.47 2292.34 1531.6 Q2292.34 1538.71 2294.14 1542.27 Q2295.97 1545.82 2299.58 1545.82 Q2303.22 1545.82 2305.02 1542.27 Q2306.85 1538.71 2306.85 1531.6 Q2306.85 1524.47 2305.02 1520.93 Q2303.22 1517.37 2299.58 1517.37 M2299.58 1513.66 Q2305.39 1513.66 2308.45 1518.27 Q2311.53 1522.85 2311.53 1531.6 Q2311.53 1540.33 2308.45 1544.94 Q2305.39 1549.52 2299.58 1549.52 Q2293.77 1549.52 2290.7 1544.94 Q2287.64 1540.33 2287.64 1531.6 Q2287.64 1522.85 2290.7 1518.27 Q2293.77 1513.66 2299.58 1513.66 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip452)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,1447.62 2352.76,1447.62 
  "/>
<polyline clip-path="url(#clip452)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,1066.34 2352.76,1066.34 
  "/>
<polyline clip-path="url(#clip452)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,685.061 2352.76,685.061 
  "/>
<polyline clip-path="url(#clip452)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  172.015,303.781 2352.76,303.781 
  "/>
<polyline clip-path="url(#clip450)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1486.45 172.015,47.2441 
  "/>
<polyline clip-path="url(#clip450)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1447.62 190.912,1447.62 
  "/>
<polyline clip-path="url(#clip450)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,1066.34 190.912,1066.34 
  "/>
<polyline clip-path="url(#clip450)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,685.061 190.912,685.061 
  "/>
<polyline clip-path="url(#clip450)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  172.015,303.781 190.912,303.781 
  "/>
<path clip-path="url(#clip450)" d="M124.07 1433.42 Q120.459 1433.42 118.631 1436.99 Q116.825 1440.53 116.825 1447.66 Q116.825 1454.76 118.631 1458.33 Q120.459 1461.87 124.07 1461.87 Q127.705 1461.87 129.51 1458.33 Q131.339 1454.76 131.339 1447.66 Q131.339 1440.53 129.51 1436.99 Q127.705 1433.42 124.07 1433.42 M124.07 1429.72 Q129.881 1429.72 132.936 1434.32 Q136.015 1438.91 136.015 1447.66 Q136.015 1456.38 132.936 1460.99 Q129.881 1465.57 124.07 1465.57 Q118.26 1465.57 115.182 1460.99 Q112.126 1456.38 112.126 1447.66 Q112.126 1438.91 115.182 1434.32 Q118.26 1429.72 124.07 1429.72 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M57.7745 1079.69 L74.0939 1079.69 L74.0939 1083.62 L52.1495 1083.62 L52.1495 1079.69 Q54.8115 1076.93 59.3949 1072.3 Q64.0013 1067.65 65.1819 1066.31 Q67.4272 1063.78 68.3068 1062.05 Q69.2096 1060.29 69.2096 1058.6 Q69.2096 1055.84 67.2652 1054.11 Q65.3439 1052.37 62.2421 1052.37 Q60.043 1052.37 57.5893 1053.14 Q55.1588 1053.9 52.381 1055.45 L52.381 1050.73 Q55.2051 1049.59 57.6588 1049.02 Q60.1124 1048.44 62.1495 1048.44 Q67.5198 1048.44 70.7142 1051.12 Q73.9087 1053.81 73.9087 1058.3 Q73.9087 1060.43 73.0985 1062.35 Q72.3115 1064.25 70.205 1066.84 Q69.6263 1067.51 66.5245 1070.73 Q63.4226 1073.92 57.7745 1079.69 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M93.9086 1052.14 Q90.2975 1052.14 88.4688 1055.71 Q86.6632 1059.25 86.6632 1066.38 Q86.6632 1073.48 88.4688 1077.05 Q90.2975 1080.59 93.9086 1080.59 Q97.5428 1080.59 99.3483 1077.05 Q101.177 1073.48 101.177 1066.38 Q101.177 1059.25 99.3483 1055.71 Q97.5428 1052.14 93.9086 1052.14 M93.9086 1048.44 Q99.7187 1048.44 102.774 1053.04 Q105.853 1057.63 105.853 1066.38 Q105.853 1075.1 102.774 1079.71 Q99.7187 1084.29 93.9086 1084.29 Q88.0984 1084.29 85.0197 1079.71 Q81.9642 1075.1 81.9642 1066.38 Q81.9642 1057.63 85.0197 1053.04 Q88.0984 1048.44 93.9086 1048.44 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M124.07 1052.14 Q120.459 1052.14 118.631 1055.71 Q116.825 1059.25 116.825 1066.38 Q116.825 1073.48 118.631 1077.05 Q120.459 1080.59 124.07 1080.59 Q127.705 1080.59 129.51 1077.05 Q131.339 1073.48 131.339 1066.38 Q131.339 1059.25 129.51 1055.71 Q127.705 1052.14 124.07 1052.14 M124.07 1048.44 Q129.881 1048.44 132.936 1053.04 Q136.015 1057.63 136.015 1066.38 Q136.015 1075.1 132.936 1079.71 Q129.881 1084.29 124.07 1084.29 Q118.26 1084.29 115.182 1079.71 Q112.126 1075.1 112.126 1066.38 Q112.126 1057.63 115.182 1053.04 Q118.26 1048.44 124.07 1048.44 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M66.5939 671.855 L54.7884 690.304 L66.5939 690.304 L66.5939 671.855 M65.367 667.781 L71.2466 667.781 L71.2466 690.304 L76.1772 690.304 L76.1772 694.193 L71.2466 694.193 L71.2466 702.341 L66.5939 702.341 L66.5939 694.193 L50.9921 694.193 L50.9921 689.679 L65.367 667.781 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M93.9086 670.86 Q90.2975 670.86 88.4688 674.425 Q86.6632 677.966 86.6632 685.096 Q86.6632 692.203 88.4688 695.767 Q90.2975 699.309 93.9086 699.309 Q97.5428 699.309 99.3483 695.767 Q101.177 692.203 101.177 685.096 Q101.177 677.966 99.3483 674.425 Q97.5428 670.86 93.9086 670.86 M93.9086 667.156 Q99.7187 667.156 102.774 671.763 Q105.853 676.346 105.853 685.096 Q105.853 693.823 102.774 698.429 Q99.7187 703.013 93.9086 703.013 Q88.0984 703.013 85.0197 698.429 Q81.9642 693.823 81.9642 685.096 Q81.9642 676.346 85.0197 671.763 Q88.0984 667.156 93.9086 667.156 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M124.07 670.86 Q120.459 670.86 118.631 674.425 Q116.825 677.966 116.825 685.096 Q116.825 692.203 118.631 695.767 Q120.459 699.309 124.07 699.309 Q127.705 699.309 129.51 695.767 Q131.339 692.203 131.339 685.096 Q131.339 677.966 129.51 674.425 Q127.705 670.86 124.07 670.86 M124.07 667.156 Q129.881 667.156 132.936 671.763 Q136.015 676.346 136.015 685.096 Q136.015 693.823 132.936 698.429 Q129.881 703.013 124.07 703.013 Q118.26 703.013 115.182 698.429 Q112.126 693.823 112.126 685.096 Q112.126 676.346 115.182 671.763 Q118.26 667.156 124.07 667.156 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M64.3254 301.918 Q61.1773 301.918 59.3254 304.07 Q57.4967 306.223 57.4967 309.973 Q57.4967 313.7 59.3254 315.876 Q61.1773 318.029 64.3254 318.029 Q67.4735 318.029 69.3022 315.876 Q71.1541 313.7 71.1541 309.973 Q71.1541 306.223 69.3022 304.07 Q67.4735 301.918 64.3254 301.918 M73.6077 287.265 L73.6077 291.524 Q71.8485 290.691 70.0429 290.251 Q68.2606 289.811 66.5013 289.811 Q61.8717 289.811 59.418 292.936 Q56.9875 296.061 56.6402 302.381 Q58.006 300.367 60.0662 299.302 Q62.1263 298.214 64.6032 298.214 Q69.8115 298.214 72.8207 301.385 Q75.8531 304.533 75.8531 309.973 Q75.8531 315.297 72.705 318.515 Q69.5568 321.732 64.3254 321.732 Q58.33 321.732 55.1588 317.149 Q51.9875 312.542 51.9875 303.816 Q51.9875 295.621 55.8764 290.76 Q59.7652 285.876 66.3161 285.876 Q68.0754 285.876 69.8578 286.223 Q71.6633 286.57 73.6077 287.265 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M93.9086 289.58 Q90.2975 289.58 88.4688 293.144 Q86.6632 296.686 86.6632 303.816 Q86.6632 310.922 88.4688 314.487 Q90.2975 318.029 93.9086 318.029 Q97.5428 318.029 99.3483 314.487 Q101.177 310.922 101.177 303.816 Q101.177 296.686 99.3483 293.144 Q97.5428 289.58 93.9086 289.58 M93.9086 285.876 Q99.7187 285.876 102.774 290.482 Q105.853 295.066 105.853 303.816 Q105.853 312.542 102.774 317.149 Q99.7187 321.732 93.9086 321.732 Q88.0984 321.732 85.0197 317.149 Q81.9642 312.542 81.9642 303.816 Q81.9642 295.066 85.0197 290.482 Q88.0984 285.876 93.9086 285.876 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M124.07 289.58 Q120.459 289.58 118.631 293.144 Q116.825 296.686 116.825 303.816 Q116.825 310.922 118.631 314.487 Q120.459 318.029 124.07 318.029 Q127.705 318.029 129.51 314.487 Q131.339 310.922 131.339 303.816 Q131.339 296.686 129.51 293.144 Q127.705 289.58 124.07 289.58 M124.07 285.876 Q129.881 285.876 132.936 290.482 Q136.015 295.066 136.015 303.816 Q136.015 312.542 132.936 317.149 Q129.881 321.732 124.07 321.732 Q118.26 321.732 115.182 317.149 Q112.126 312.542 112.126 303.816 Q112.126 295.066 115.182 290.482 Q118.26 285.876 124.07 285.876 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip452)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,1440 254.307,1440 274.88,1438.09 295.453,1436.18 316.026,1436.18 336.599,1436.18 357.172,1436.18 377.745,1434.28 398.318,1432.37 418.891,1428.56 
  439.464,1424.75 460.037,1420.93 480.61,1420.93 501.183,1419.03 521.756,1430.46 542.329,1432.37 562.902,1436.18 583.475,1434.28 604.048,1432.37 624.621,1438.09 
  645.194,1438.09 665.768,1441.9 686.341,1441.9 706.914,1441.9 727.487,1441.9 748.06,1441.9 768.633,1441.9 789.206,1441.9 809.779,1441.9 830.352,1441.9 
  850.925,1441.9 871.498,1441.9 892.071,1441.9 912.644,1441.9 933.217,1441.9 953.79,1441.9 974.363,1441.9 994.936,1441.9 1015.51,1441.9 1036.08,1441.9 
  1056.66,1441.9 1077.23,1441.9 1097.8,1441.9 1118.37,1441.9 1138.95,1443.81 1159.52,1443.81 1180.09,1443.81 1200.67,1443.81 1221.24,1443.81 1241.81,1443.81 
  1262.39,1443.81 1282.96,1443.81 1303.53,1443.81 1324.1,1443.81 1344.68,1443.81 1365.25,1443.81 1385.82,1443.81 1406.4,1443.81 1426.97,1443.81 1447.54,1443.81 
  1468.12,1443.81 1488.69,1443.81 1509.26,1443.81 1529.83,1443.81 1550.41,1443.81 1570.98,1443.81 1591.55,1443.81 1612.13,1443.81 1632.7,1443.81 1653.27,1443.81 
  1673.85,1443.81 1694.42,1443.81 1714.99,1443.81 1735.57,1443.81 1756.14,1443.81 1776.71,1443.81 1797.28,1443.81 1817.86,1443.81 1838.43,1443.81 1859,1443.81 
  1879.58,1443.81 1900.15,1443.81 1920.72,1443.81 1941.3,1443.81 1961.87,1445.72 1982.44,1445.72 2003.01,1445.72 2023.59,1445.72 2044.16,1445.72 2064.73,1445.72 
  2085.31,1445.72 2105.88,1445.72 2126.45,1445.72 2147.03,1445.72 2167.6,1445.72 2188.17,1445.72 2208.74,1445.72 2229.32,1445.72 2249.89,1445.72 2270.46,1445.72 
  2291.04,1445.72 
  "/>
<polyline clip-path="url(#clip452)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,1371.37 254.307,1317.99 274.88,1216.95 295.453,1136.88 316.026,1053 336.599,971.022 357.172,946.238 377.745,921.455 398.318,990.086 418.891,1016.78 
  439.464,1091.12 460.037,1127.35 480.61,1173.1 501.183,1165.47 521.756,1186.45 542.329,1232.2 562.902,1220.76 583.475,1216.95 604.048,1230.29 624.621,1228.39 
  645.194,1192.16 665.768,1173.1 686.341,1161.66 706.914,1163.57 727.487,1110.19 748.06,1056.81 768.633,1011.06 789.206,988.179 809.779,967.209 830.352,986.273 
  850.925,1016.78 871.498,1066.34 892.071,1117.81 912.644,1171.19 933.217,1216.95 953.79,1241.73 974.363,1251.26 994.936,1213.13 1015.51,1218.85 1036.08,1220.76 
  1056.66,1199.79 1077.23,1182.63 1097.8,1175.01 1118.37,1133.07 1138.95,1123.53 1159.52,1077.78 1180.09,1073.97 1200.67,1077.78 1221.24,1119.72 1241.81,1157.85 
  1262.39,1176.91 1282.96,1195.98 1303.53,1194.07 1324.1,1175.01 1344.68,1188.35 1365.25,1169.29 1385.82,1171.19 1406.4,1180.73 1426.97,1125.44 1447.54,1129.25 
  1468.12,1161.66 1488.69,1175.01 1509.26,1194.07 1529.83,1154.04 1550.41,1133.07 1570.98,1127.35 1591.55,1140.69 1612.13,1106.38 1632.7,1075.87 1653.27,1091.12 
  1673.85,1129.25 1694.42,1123.53 1714.99,1125.44 1735.57,1127.35 1756.14,1094.94 1776.71,1081.59 1797.28,1138.78 1817.86,1104.47 1838.43,1142.6 1859,1175.01 
  1879.58,1186.45 1900.15,1186.45 1920.72,1165.47 1941.3,1150.22 1961.87,1146.41 1982.44,1131.16 2003.01,1121.63 2023.59,1157.85 2044.16,1157.85 2064.73,1192.16 
  2085.31,1232.2 2105.88,1220.76 2126.45,1213.13 2147.03,1199.79 2167.6,1218.85 2188.17,1215.04 2208.74,1226.48 2229.32,1201.7 2249.89,1188.35 2270.46,1114 
  2291.04,1133.07 
  "/>
<polyline clip-path="url(#clip452)" style="stroke:#3da44d; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="
  233.734,401.007 254.307,258.027 274.88,162.326 295.453,111.616 316.026,130.298 336.599,189.969 357.172,282.239 377.745,352.013 398.318,387.281 418.891,437.801 
  439.464,439.707 460.037,413.78 480.61,390.522 501.183,351.06 521.756,319.795 542.329,290.055 562.902,234.197 583.475,183.106 604.048,153.557 624.621,121.148 
  645.194,115.428 665.768,128.201 686.341,130.68 706.914,147.265 727.487,176.243 748.06,227.906 768.633,283.954 789.206,340.765 809.779,400.817 830.352,451.908 
  850.925,467.922 871.498,472.116 892.071,455.531 912.644,421.978 933.217,371.077 953.79,313.694 974.363,254.596 994.936,210.558 1015.51,175.671 1036.08,154.319 
  1056.66,132.967 1077.23,128.011 1097.8,136.78 1118.37,163.47 1138.95,168.617 1159.52,208.461 1180.09,250.974 1200.67,280.142 1221.24,293.486 1241.81,276.901 
  1262.39,268.322 1282.96,255.168 1303.53,225.047 1324.1,209.033 1344.68,193.21 1365.25,175.861 1385.82,173.955 1406.4,169.952 1426.97,186.537 1447.54,194.735 
  1468.12,201.217 1488.69,194.163 1509.26,180.818 1529.83,182.534 1550.41,208.842 1570.98,223.903 1591.55,234.579 1612.13,248.114 1632.7,277.854 1653.27,291.961 
  1673.85,298.634 1694.42,312.169 1714.99,303.781 1735.57,313.122 1756.14,303.209 1776.71,316.935 1797.28,307.975 1817.86,311.407 1838.43,293.868 1859,284.717 
  1879.58,251.927 1900.15,243.157 1920.72,224.475 1941.3,232.482 1961.87,233.244 1982.44,244.111 2003.01,245.064 2023.59,239.154 2044.16,229.431 2064.73,220.471 
  2085.31,192.447 2105.88,157.56 2126.45,149.934 2147.03,129.726 2167.6,114.666 2188.17,101.321 2208.74,87.9763 2229.32,96.3644 2249.89,106.659 2270.46,134.111 
  2291.04,160.229 
  "/>
<path clip-path="url(#clip450)" d="
M1894.91 302.578 L2280.06 302.578 L2280.06 95.2176 L1894.91 95.2176  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip450)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1894.91,302.578 2280.06,302.578 2280.06,95.2176 1894.91,95.2176 1894.91,302.578 
  "/>
<polyline clip-path="url(#clip450)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,147.058 2064.53,147.058 
  "/>
<path clip-path="url(#clip450)" d="M2088.76 129.778 L2093.48 129.778 L2100.75 158.99 L2107.99 129.778 L2113.25 129.778 L2120.52 158.99 L2127.76 129.778 L2132.51 129.778 L2123.83 164.338 L2117.95 164.338 L2110.66 134.338 L2103.29 164.338 L2097.41 164.338 L2088.76 129.778 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2145.79 141.398 Q2142.37 141.398 2140.38 144.083 Q2138.39 146.745 2138.39 151.398 Q2138.39 156.051 2140.35 158.736 Q2142.34 161.398 2145.79 161.398 Q2149.2 161.398 2151.19 158.713 Q2153.18 156.027 2153.18 151.398 Q2153.18 146.791 2151.19 144.106 Q2149.2 141.398 2145.79 141.398 M2145.79 137.787 Q2151.35 137.787 2154.52 141.398 Q2157.69 145.009 2157.69 151.398 Q2157.69 157.764 2154.52 161.398 Q2151.35 165.009 2145.79 165.009 Q2140.22 165.009 2137.04 161.398 Q2133.9 157.764 2133.9 151.398 Q2133.9 145.009 2137.04 141.398 Q2140.22 137.787 2145.79 137.787 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2164.75 128.319 L2169.01 128.319 L2169.01 164.338 L2164.75 164.338 L2164.75 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2191.05 128.319 L2191.05 131.861 L2186.97 131.861 Q2184.68 131.861 2183.78 132.787 Q2182.9 133.713 2182.9 136.12 L2182.9 138.412 L2189.91 138.412 L2189.91 141.722 L2182.9 141.722 L2182.9 164.338 L2178.62 164.338 L2178.62 141.722 L2174.54 141.722 L2174.54 138.412 L2178.62 138.412 L2178.62 136.606 Q2178.62 132.278 2180.63 130.31 Q2182.65 128.319 2187.02 128.319 L2191.05 128.319 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip450)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,198.898 2064.53,198.898 
  "/>
<path clip-path="url(#clip450)" d="M2111 182.752 L2111 187.312 Q2108.34 186.039 2105.98 185.414 Q2103.62 184.789 2101.42 184.789 Q2097.6 184.789 2095.52 186.27 Q2093.46 187.752 2093.46 190.483 Q2093.46 192.775 2094.82 193.955 Q2096.21 195.113 2100.05 195.83 L2102.88 196.409 Q2108.11 197.405 2110.59 199.928 Q2113.09 202.428 2113.09 206.641 Q2113.09 211.664 2109.71 214.256 Q2106.35 216.849 2099.85 216.849 Q2097.39 216.849 2094.61 216.293 Q2091.86 215.738 2088.9 214.65 L2088.9 209.835 Q2091.74 211.432 2094.47 212.242 Q2097.21 213.053 2099.85 213.053 Q2103.85 213.053 2106.03 211.479 Q2108.2 209.904 2108.2 206.988 Q2108.2 204.442 2106.63 203.006 Q2105.08 201.571 2101.51 200.854 L2098.66 200.298 Q2093.43 199.256 2091.1 197.034 Q2088.76 194.812 2088.76 190.854 Q2088.76 186.27 2091.97 183.631 Q2095.22 180.993 2100.89 180.993 Q2103.32 180.993 2105.84 181.432 Q2108.36 181.872 2111 182.752 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2141.74 200.529 L2141.74 216.178 L2137.48 216.178 L2137.48 200.668 Q2137.48 196.988 2136.05 195.159 Q2134.61 193.33 2131.74 193.33 Q2128.29 193.33 2126.3 195.53 Q2124.31 197.729 2124.31 201.525 L2124.31 216.178 L2120.03 216.178 L2120.03 180.159 L2124.31 180.159 L2124.31 194.28 Q2125.84 191.942 2127.9 190.784 Q2129.98 189.627 2132.69 189.627 Q2137.16 189.627 2139.45 192.405 Q2141.74 195.159 2141.74 200.529 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2172.41 202.15 L2172.41 204.233 L2152.83 204.233 Q2153.11 208.631 2155.47 210.946 Q2157.85 213.238 2162.09 213.238 Q2164.54 213.238 2166.84 212.636 Q2169.15 212.034 2171.42 210.83 L2171.42 214.858 Q2169.13 215.83 2166.72 216.34 Q2164.31 216.849 2161.84 216.849 Q2155.63 216.849 2152 213.238 Q2148.39 209.627 2148.39 203.469 Q2148.39 197.104 2151.81 193.377 Q2155.26 189.627 2161.09 189.627 Q2166.33 189.627 2169.36 193.006 Q2172.41 196.363 2172.41 202.15 M2168.15 200.9 Q2168.11 197.405 2166.19 195.321 Q2164.29 193.238 2161.14 193.238 Q2157.58 193.238 2155.42 195.252 Q2153.29 197.266 2152.97 200.923 L2168.15 200.9 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2201.58 202.15 L2201.58 204.233 L2182 204.233 Q2182.28 208.631 2184.64 210.946 Q2187.02 213.238 2191.26 213.238 Q2193.71 213.238 2196 212.636 Q2198.32 212.034 2200.59 210.83 L2200.59 214.858 Q2198.29 215.83 2195.89 216.34 Q2193.48 216.849 2191 216.849 Q2184.8 216.849 2181.16 213.238 Q2177.55 209.627 2177.55 203.469 Q2177.55 197.104 2180.98 193.377 Q2184.43 189.627 2190.26 189.627 Q2195.49 189.627 2198.53 193.006 Q2201.58 196.363 2201.58 202.15 M2197.32 200.9 Q2197.28 197.405 2195.35 195.321 Q2193.46 193.238 2190.31 193.238 Q2186.74 193.238 2184.59 195.252 Q2182.46 197.266 2182.14 200.923 L2197.32 200.9 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2212.69 212.289 L2212.69 226.039 L2208.41 226.039 L2208.41 190.252 L2212.69 190.252 L2212.69 194.187 Q2214.03 191.872 2216.07 190.761 Q2218.13 189.627 2220.98 189.627 Q2225.7 189.627 2228.64 193.377 Q2231.6 197.127 2231.6 203.238 Q2231.6 209.349 2228.64 213.099 Q2225.7 216.849 2220.98 216.849 Q2218.13 216.849 2216.07 215.738 Q2214.03 214.603 2212.69 212.289 M2227.18 203.238 Q2227.18 198.539 2225.24 195.877 Q2223.32 193.192 2219.94 193.192 Q2216.56 193.192 2214.61 195.877 Q2212.69 198.539 2212.69 203.238 Q2212.69 207.937 2214.61 210.622 Q2216.56 213.284 2219.94 213.284 Q2223.32 213.284 2225.24 210.622 Q2227.18 207.937 2227.18 203.238 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip450)" style="stroke:#3da44d; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1919.14,250.738 2064.53,250.738 
  "/>
<path clip-path="url(#clip450)" d="M2114.31 263.087 L2114.31 253.805 L2106.67 253.805 L2106.67 249.962 L2118.94 249.962 L2118.94 264.8 Q2116.23 266.721 2112.97 267.717 Q2109.71 268.689 2106 268.689 Q2097.9 268.689 2093.32 263.967 Q2088.76 259.221 2088.76 250.772 Q2088.76 242.3 2093.32 237.578 Q2097.9 232.833 2106 232.833 Q2109.38 232.833 2112.41 233.666 Q2115.47 234.499 2118.04 236.12 L2118.04 241.096 Q2115.45 238.897 2112.53 237.786 Q2109.61 236.675 2106.4 236.675 Q2100.05 236.675 2096.86 240.217 Q2093.69 243.758 2093.69 250.772 Q2093.69 257.763 2096.86 261.305 Q2100.05 264.846 2106.4 264.846 Q2108.87 264.846 2110.82 264.43 Q2112.76 263.99 2114.31 263.087 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2142.32 246.073 Q2141.6 245.657 2140.75 245.471 Q2139.91 245.263 2138.9 245.263 Q2135.28 245.263 2133.34 247.624 Q2131.42 249.962 2131.42 254.36 L2131.42 268.018 L2127.14 268.018 L2127.14 242.092 L2131.42 242.092 L2131.42 246.12 Q2132.76 243.758 2134.91 242.624 Q2137.07 241.467 2140.15 241.467 Q2140.59 241.467 2141.12 241.536 Q2141.65 241.583 2142.3 241.698 L2142.32 246.073 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2158.57 254.985 Q2153.41 254.985 2151.42 256.166 Q2149.43 257.346 2149.43 260.194 Q2149.43 262.462 2150.91 263.805 Q2152.41 265.124 2154.98 265.124 Q2158.53 265.124 2160.65 262.624 Q2162.81 260.101 2162.81 255.934 L2162.81 254.985 L2158.57 254.985 M2167.07 253.226 L2167.07 268.018 L2162.81 268.018 L2162.81 264.082 Q2161.35 266.443 2159.17 267.578 Q2157 268.689 2153.85 268.689 Q2149.87 268.689 2147.51 266.467 Q2145.17 264.221 2145.17 260.471 Q2145.17 256.096 2148.09 253.874 Q2151.03 251.652 2156.84 251.652 L2162.81 251.652 L2162.81 251.235 Q2162.81 248.295 2160.86 246.698 Q2158.94 245.078 2155.45 245.078 Q2153.22 245.078 2151.12 245.61 Q2149.01 246.143 2147.07 247.207 L2147.07 243.272 Q2149.4 242.37 2151.6 241.93 Q2153.8 241.467 2155.89 241.467 Q2161.51 241.467 2164.29 244.383 Q2167.07 247.3 2167.07 253.226 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2192.37 242.856 L2192.37 246.883 Q2190.56 245.957 2188.62 245.495 Q2186.67 245.032 2184.59 245.032 Q2181.42 245.032 2179.82 246.004 Q2178.25 246.976 2178.25 248.92 Q2178.25 250.402 2179.38 251.258 Q2180.52 252.092 2183.94 252.856 L2185.4 253.18 Q2189.94 254.152 2191.84 255.934 Q2193.76 257.694 2193.76 260.865 Q2193.76 264.476 2190.89 266.582 Q2188.04 268.689 2183.04 268.689 Q2180.96 268.689 2178.69 268.272 Q2176.44 267.879 2173.94 267.068 L2173.94 262.67 Q2176.3 263.897 2178.59 264.522 Q2180.89 265.124 2183.13 265.124 Q2186.14 265.124 2187.76 264.106 Q2189.38 263.064 2189.38 261.189 Q2189.38 259.453 2188.2 258.527 Q2187.04 257.601 2183.09 256.744 L2181.6 256.397 Q2177.65 255.564 2175.89 253.851 Q2174.13 252.115 2174.13 249.106 Q2174.13 245.448 2176.72 243.458 Q2179.31 241.467 2184.08 241.467 Q2186.44 241.467 2188.53 241.814 Q2190.61 242.161 2192.37 242.856 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip450)" d="M2217.07 242.856 L2217.07 246.883 Q2215.26 245.957 2213.32 245.495 Q2211.37 245.032 2209.29 245.032 Q2206.12 245.032 2204.52 246.004 Q2202.95 246.976 2202.95 248.92 Q2202.95 250.402 2204.08 251.258 Q2205.21 252.092 2208.64 252.856 L2210.1 253.18 Q2214.64 254.152 2216.53 255.934 Q2218.46 257.694 2218.46 260.865 Q2218.46 264.476 2215.59 266.582 Q2212.74 268.689 2207.74 268.689 Q2205.65 268.689 2203.39 268.272 Q2201.14 267.879 2198.64 267.068 L2198.64 262.67 Q2201 263.897 2203.29 264.522 Q2205.59 265.124 2207.83 265.124 Q2210.84 265.124 2212.46 264.106 Q2214.08 263.064 2214.08 261.189 Q2214.08 259.453 2212.9 258.527 Q2211.74 257.601 2207.78 256.744 L2206.3 256.397 Q2202.34 255.564 2200.59 253.851 Q2198.83 252.115 2198.83 249.106 Q2198.83 245.448 2201.42 243.458 Q2204.01 241.467 2208.78 241.467 Q2211.14 241.467 2213.22 241.814 Q2215.31 242.161 2217.07 242.856 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /></svg>
<h2 id="Package:-Ecosystem.jl"><a class="docs-heading-anchor" href="#Package:-Ecosystem.jl">Package: <code>Ecosystem.jl</code></a><a id="Package:-Ecosystem.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Package:-Ecosystem.jl" title="Permalink"></a></h2><p>In the main section of this lab you will create your own <code>Ecosystem.jl</code> package to organize <em>and test (!)</em> the code that we have written so far.</p><h3 id="PkgTemplates.jl"><a class="docs-heading-anchor" href="#PkgTemplates.jl"><code>PkgTemplates.jl</code></a><a id="PkgTemplates.jl-1"></a><a class="docs-heading-anchor-permalink" href="#PkgTemplates.jl" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>The simplest way to create a new package in Julia is to use <code>PkgTemplates.jl</code>. <code>]add PkgTemplates</code> to your global julia env and create a new package by running:</p><pre><code class="language-julia hljs">using PkgTemplates
Template(interactive=true)(&quot;Ecosystem&quot;)</code></pre><p>to interactively specify various options for your new package or use the following snippet to generate it programmatically:</p><pre><code class="language-julia hljs">using PkgTemplates

# define the package template
template = Template(;
    user = &quot;GithubUserName&quot;,            # github user name
    authors = [&quot;Author1&quot;, &quot;Author2&quot;],   # list of authors
    dir = &quot;/path/to/folder/&quot;,           # dir in which the package will be created
    julia = v&quot;1.8&quot;,                     # compat version of Julia
    plugins = [
        !CompatHelper,                  # disable CompatHelper
        !TagBot,                        # disable TagBot
        Readme(; inline_badges = true), # added readme file with badges
        Tests(; project = true),        # added Project.toml file for unit tests
        Git(; manifest = false),        # add manifest.toml to .gitignore
        License(; name = &quot;MIT&quot;)         # addedMIT licence
    ],
)

# execute the package template (this creates all files/folders)
template(&quot;Ecosystem&quot;)</code></pre></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><p>This should have created a new folder <code>Ecosystem</code> which looks like below.</p><pre><code class="nohighlight hljs">.
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ Project.toml
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ src
‚îÇ   ‚îî‚îÄ‚îÄ Ecosystem.jl
‚îî‚îÄ‚îÄ test
    ‚îú‚îÄ‚îÄ Manifest.toml
    ‚îú‚îÄ‚îÄ Project.toml
    ‚îî‚îÄ‚îÄ runtests.jl</code></pre><p>If you <code>]activate /path/to/Ecosystem</code> you should be able to run <code>]test</code> to run the autogenerated test (which is not doing anything) and get the following output:</p><pre><code class="nohighlight hljs">(Ecosystem) pkg&gt; test
     Testing Ecosystem
      Status `/private/var/folders/6h/l9_skfms2v3dt8z3zfnd2jr00000gn/T/jl_zd5Uai/Project.toml`
  [e77cd98c] Ecosystem v0.1.0 `~/repos/Ecosystem`
  [8dfed614] Test `@stdlib/Test`
      Status `/private/var/folders/6h/l9_skfms2v3dt8z3zfnd2jr00000gn/T/jl_zd5Uai/Manifest.toml`
  [e77cd98c] Ecosystem v0.1.0 `~/repos/Ecosystem`
  [2a0f44e3] Base64 `@stdlib/Base64`
  [b77e0a4c] InteractiveUtils `@stdlib/InteractiveUtils`
  [56ddb016] Logging `@stdlib/Logging`
  [d6f4376e] Markdown `@stdlib/Markdown`
  [9a3f8284] Random `@stdlib/Random`
  [ea8e919c] SHA v0.7.0 `@stdlib/SHA`
  [9e88b42a] Serialization `@stdlib/Serialization`
  [8dfed614] Test `@stdlib/Test`
     Testing Running tests...
Test Summary: |Time
Ecosystem.jl  | None  0.0s
     Testing Ecosystem tests passed </code></pre></p></details><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>From now on make sure that you <strong>always</strong> have the <code>Ecosystem</code> enviroment enabled. Otherwise you will not end up with the correct dependencies in your packages</p></div></div><h3 id="Adding-content-to-Ecosystem.jl"><a class="docs-heading-anchor" href="#Adding-content-to-Ecosystem.jl">Adding content to <code>Ecosystem.jl</code></a><a id="Adding-content-to-Ecosystem.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-content-to-Ecosystem.jl" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>Next, let&#39;s add the types and functions we have defined so far. You can use <code>include(&quot;path/to/file.jl&quot;)</code> in the main module file at <code>src/Ecosystem.jl</code> to bring some structure in your code. An exemplary file structure could look like below.</p><pre><code class="nohighlight hljs">.
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ Manifest.toml
‚îú‚îÄ‚îÄ Project.toml
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ src
‚îÇ   ‚îú‚îÄ‚îÄ Ecosystem.jl
‚îÇ   ‚îú‚îÄ‚îÄ animal.jl
‚îÇ   ‚îú‚îÄ‚îÄ plant.jl
‚îÇ   ‚îî‚îÄ‚îÄ world.jl
‚îî‚îÄ‚îÄ test
    ‚îî‚îÄ‚îÄ runtests.jl</code></pre><p>While you are adding functionality to your package you can make great use of <code>Revise.jl</code>.  Loading <code>Revise.jl</code> before your <code>Ecosystem.jl</code> will automatically recompile (and invalidate old methods!) while you develop.  You can install it in your global environment and and create a <code>$HOME/.config/startup.jl</code> which always loads <code>Revise</code>. It can look like this:</p><pre><code class="language-julia hljs"># try/catch block to make sure you can start julia if Revise should not be installed
try
    using Revise
catch e
    @warn(e.msg)
end</code></pre></div></div><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>At some point along the way you should run into problems with the <code>sample</code> functions or when trying <code>using StatsBase</code>. This is normal, because you have not added the package to the <code>Ecosystem</code> environment yet. Adding it is as easy as <code>]add StatsBase</code>. Your <code>Ecosystem</code> environment should now look like this:</p><pre><code class="nohighlight hljs">(Ecosystem) pkg&gt; status
Project Ecosystem v0.1.0
Status `~/repos/Ecosystem/Project.toml`
  [2913bbd2] StatsBase v0.33.21</code></pre></div></div><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>In order to use your new types/functions like below</p><pre><code class="language-julia hljs">using Ecosystem

Sheep(2)</code></pre><p>you have to <code>export</code> them from your module. Add exports for all important types and functions.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia hljs"># src/Ecosystem.jl
module Ecosystem

using StatsBase

export World
export Species, PlantSpecies, AnimalSpecies, Grass, Sheep, Wolf
export Agent, Plant, Animal
export agent_step!, eat!, eats, find_food, reproduce!, world_step!, agent_count

# ....

end</code></pre></p></details><h3 id="Unit-tests"><a class="docs-heading-anchor" href="#Unit-tests">Unit tests</a><a id="Unit-tests-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-tests" title="Permalink"></a></h3><p>Every package should have tests which verify the correctness of your implementation, such that you can make changes to your codebase and remain confident that you did not break anything.</p><p>Julia&#39;s <code>Test</code> package provides you functionality to easily write <a href="https://docs.julialang.org/en/v1/stdlib/Test/">unit tests</a>.</p><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>In the file <code>test/runtests.jl</code>, create a new <code>@testset</code> and write three <code>@test</code>s which check that the <code>show</code> methods we defined for <code>Grass</code>, <code>Sheep</code>, and <code>Wolf</code> work as expected.</p><p>The function <code>repr(x) == &quot;some string&quot;</code> to check if the string representation we defined in the <code>Base.show</code> overload returns what you expect.</p></div></div>
<details class = "solution-body">
<summary class = "solution-header">Solution:</summary><p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; # using Ecosystem
       using Test</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @testset &quot;Base.show&quot; begin
           g = Grass(1,1,1)
           s = Animal{Sheep}(2,1,1,1,1,male)
           w = Animal{Wolf}(3,1,1,1,1,female)
           @test repr(g) == &quot;üåø  #1 100% grown&quot;
           @test repr(s) == &quot;üêë‚ôÇ #2 E=1.0 ŒîE=1.0 pr=1.0 pf=1.0&quot;
           @test repr(w) == &quot;üê∫‚ôÄ #3 E=1.0 ŒîE=1.0 pr=1.0 pf=1.0&quot;
       end</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">Test Summary: | <span class="sgr32">Pass  </span><span class="sgr36">Total  </span>Time</span>
Base.show     | <span class="sgr32">   3  </span><span class="sgr36">    3  </span>0.2s
Test.DefaultTestSet(&quot;Base.show&quot;, Any[], 3, false, false, true, 1.667716202981103e9, 1.667716203186728e9)</code></pre></p></details><h3 id="Github-CI"><a class="docs-heading-anchor" href="#Github-CI">Github CI</a><a id="Github-CI-1"></a><a class="docs-heading-anchor-permalink" href="#Github-CI" title="Permalink"></a></h3><div class="admonition is-category-exercise">
<header class="admonition-header">Exercise:</header>
<div class="admonition-body"><p>If you want you can upload you package to Github and add the <code>julia-runtest</code> <a href="https://github.com/julia-actions/julia-runtest">Github Action</a> to automatically test your code for every new push you make to the repository.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../lecture/">¬´ Lecture</a><a class="docs-footer-nextpage" href="../hw/">Homework ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Sunday 6 November 2022 06:30">Sunday 6 November 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
